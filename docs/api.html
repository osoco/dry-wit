
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="bashdoc" />
  <meta name="author" content="rydnr" />
  <link href="https://fonts.googleapis.com/css?family=Lora:400,400italic|Work+Sans:300,400,500,600" rel="stylesheet" type="text/css"/>

  <title>dry-wit</title>
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; } /* Alert */
code span.an { color: #008000; } /* Annotation */
code span.at { } /* Attribute */
code span.bu { } /* BuiltIn */
code span.cf { color: #0000ff; } /* ControlFlow */
code span.ch { color: #008080; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #008000; } /* Comment */
code span.cv { color: #008000; } /* CommentVar */
code span.do { color: #008000; } /* Documentation */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.im { } /* Import */
code span.in { color: #008000; } /* Information */
code span.kw { color: #0000ff; } /* Keyword */
code span.op { } /* Operator */
code span.ot { color: #ff4000; } /* Other */
code span.pp { color: #ff4000; } /* Preprocessor */
code span.sc { color: #008080; } /* SpecialChar */
code span.ss { color: #008080; } /* SpecialString */
code span.st { color: #008080; } /* String */
code span.va { } /* Variable */
code span.vs { color: #008080; } /* VerbatimString */
code span.wa { color: #008000; font-weight: bold; } /* Warning */
  </style>
  <style>
  * {
      -webkit-box-sizing: border-box;
      -moz-box-sizing: border-box;
      box-sizing: border-box;
      margin-top: 0;
  }
      html, div, body { margin:0; padding:0; }
      #toc {
        width: 25%;
        margin:50px 0 0 0;
        padding:0 2%;
        float: left;
        background: #3E4042;
        color: #dadada;
      }
      body {
      font-family: "Work sans", Helvetica, Arial, sans-serif;
      font-size: 15px;
      line-height: 1.4;
      background: #3E4042;
      }
  
      h1,h2,h3,h4,h5,h6 {
        font-family: "Work sans","Helvetica Neue", Helvetica, Arial, sans-serif;
        font-weight: 500;
      }
  
      #toc ul { padding:0; margin:0; }
      #toc > ul > li { margin-bottom: 2em; }
      #toc li { list-style: none; padding-left:0; }
      #toc ul ul { padding-left: 1.25em; }
      #toc code { display:none; }
      #toc a {
        color: #dadada;
        text-decoration: none;
      }
      #toc a:hover {
        color: #fff;
      }
      #content {
        padding: 50px 5% 50px 5%;
        margin:0 0 0 25%;
        background: #fff;
      }
  
      .section pre {
        border-radius: 10px;
        border:1px solid #dadada;
        background: #ededed;
        width:100%;
        padding:5px;
        font-family: monospace;
        font-size:120%
      }
  
      pre.sourceCode {
        border-radius: 0;
        border: 0;
        background: none;
        padding-top:10px;
        width: 100%;
        font-size: 90%;
      }
  
      .module .section {
        padding-left: 2em;
      }
  
      .module .section p::first-letter {
        text-transform: capitalize;
      }
  
      .module h4 { margin-bottom:0 !important; }
  
      p { 
        width: 80%;
        text-align: justify;
      }
  
      .module p {
        padding-left: 1em;
        color: #555;
        font-style: italic;
      }
  
    .module h2 { margin-bottom:0.2em; margin-top: 2.5em;}
    .module h2:before {
       content: "module";
       color: #888;
       font-family: monospace;
       font-size: 90%;
       padding-right:0.4em;
    }
  
    .module h3:before {
       content: "function";
       color: #888;
       font-family: monospace;
       font-size: 90%;
       padding-right:0.4em;
    }
  
    .module dl {
      padding: 0.5em;
    }
    .module dt {
      display: inline-block;
      min-width: 125px;
      font-weight: bold;
      color: #333;
    }
    .module dd:after {
      display: block;
      content: "";
    }
    .module dt:after {
      content: ":";
    }
    .module dd {
      display: inline;
      margin: 0;
    }
    .module h3 code {
      font-size: 80%;
      color: #555;
    }
  
    hr { margin-top:2em; margin-bottom: 2em; border:1px solid #555;
    background: none; }
    div.sourceCode { width: 100% !important; }
    td.lineNumbers { padding-left:0 !important; }
    .sourceCode pre { margin-bottom:0 !important; }
    .sourceCode { margin-bottom: 0.5em !important; }
  
  
  h1 code,h2 code,h3 code,h4 code,.section p code, dl code {
    background: none !important;
    color: #555 !important;
  }
  </style>
<body class="book toc2 toc-left">
<div id="toc" class="toc2">
<ul>
<li><a href="#api-reference-array">API Reference (array)</a><ul>
<li><a href="#array">array</a><ul>
<li><a href="#arraycontains-element-array">arrayContains <code>element</code> <code>array</code></a></li>
<li><a href="#arraydoesnotcontain-element-array">arrayDoesNotContain <code>element</code> <code>array</code></a></li>
<li><a href="#getindexofiteminarray-item-array">getIndexOfItemInArray <code>item</code> <code>array</code></a></li>
<li><a href="#clearassociativearray-arrayname">clearAssociativeArray <code>arrayName</code></a></li>
<li><a href="#flattenarray-arrayname-separator">flattenArray <code>arrayName</code> <code>separator</code></a></li>
<li><a href="#foreachassociativearrayentrydo-arrayname-callback">forEachAssociativeArrayEntryDo <code>arrayName</code> <code>callback</code></a></li>
<li><a href="#isarrayempty-arrayname">isArrayEmpty <code>arrayName</code></a></li>
<li><a href="#retrieveassociativearraykeys-arrayname">retrieveAssociativeArrayKeys <code>arrayName</code></a></li>
<li><a href="#nth-nth-array">nth <code>nth</code> <code>array</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-cache">API Reference (cache)</a><ul>
<li><a href="#cache">cache</a><ul>
<li><a href="#cache-function-functionarguments">cache <code>function</code> <code>functionArguments</code></a></li>
<li><a href="#uncache-function-functionarguments">uncache <code>function</code> <code>functionArguments</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-check">API Reference (check)</a><ul>
<li><a href="#check">check</a><ul>
<li><a href="#checkfunctionpresent-paramname-function-paramindex">checkFunctionPresent <code>paramName</code> <code>function</code> <code>paramIndex</code></a></li>
<li><a href="#checknotempty-paramname-paramvalue-paramindex">checkNotEmpty <code>paramName</code> <code>paramValue</code> <code>paramIndex</code></a></li>
<li><a href="#checkoneof-paramname-paramvalue-validvalues-paramindex">checkOneOf <code>paramName</code> <code>paramValue</code> <code>validValues</code> <code>paramIndex</code></a></li>
<li><a href="#checknumber-paramname-paramvalue-paramindex">checkNumber <code>paramName</code> <code>paramValue</code> <code>paramIndex</code></a></li>
<li><a href="#checkboolean-paramname-paramvalue-paramindex">checkBoolean <code>paramName</code> <code>paramValue</code> <code>paramIndex</code></a></li>
<li><a href="#checkfileexists-paramname-paramvalue-paramindex">checkFileExists <code>paramName</code> <code>paramValue</code> <code>paramIndex</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-cli">API Reference (cli)</a><ul>
<li><a href="#cli">cli</a><ul>
<li><a href="#getscriptcopyright">getScriptCopyright</a></li>
<li><a href="#setscriptcopyright-copyrightdescription">setScriptCopyright <code>copyrightDescription</code></a></li>
<li><a href="#getscriptdescription">getScriptDescription</a></li>
<li><a href="#setscriptdescription-description">setScriptDescription <code>description</code></a></li>
<li><a href="#getscriptlicensesummary">getScriptLicenseSummary</a></li>
<li><a href="#setscriptlicensesummary-license">setScriptLicenseSummary <code>license</code></a></li>
<li><a href="#addcommandlineflag-longname-shortname-description-mandatoryoptional-expects_argumentno_argument-defaultvalue">addCommandLineFlag <code>longName</code> <code>shortName</code> <code>description</code> <code>MANDATORY|OPTIONAL</code> <code>EXPECTS_ARGUMENT|NO_ARGUMENT</code> <code>defaultValue?</code></a></li>
<li><a href="#addcommandlineparameter-paramname-paramdescription-mandatoryoptional-singlemultiple">addCommandLineParameter <code>paramName</code> <code>paramDescription</code> <code>MANDATORY|OPTIONAL</code> <code>SINGLE|MULTIPLE</code></a></li>
<li><a href="#flagenabled-flagname">flagEnabled <code>flagName</code></a></li>
<li><a href="#removecommandlineflag-shortorlongname">removeCommandLineFlag <code>shortOrLongName</code></a></li>
<li><a href="#printhelp">printHelp</a></li>
<li><a href="#printusage">printUsage</a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-color">API Reference (color)</a><ul>
<li><a href="#color">color</a><ul>
<li><a href="#getsuccesscolor">getSuccessColor</a></li>
<li><a href="#setsuccesscolor-color">setSuccessColor <code>color</code></a></li>
<li><a href="#getfailurecolor">getFailureColor</a></li>
<li><a href="#setfailurecolor-color">setFailureColor <code>color</code></a></li>
<li><a href="#getneutralcolor">getNeutralColor</a></li>
<li><a href="#setneutralcolor-color">setNeutralColor <code>color</code></a></li>
<li><a href="#getinprogresscolor">getInProgressColor</a></li>
<li><a href="#setinprogresscolor-color">setInProgressColor <code>color</code></a></li>
<li><a href="#getnocolor">getNoColor</a></li>
<li><a href="#getnocolorvariablename">getNoColorVariableName</a></li>
<li><a href="#setnocolor-color">setNoColor <code>color</code></a></li>
<li><a href="#buildcolor-name-foreground-background">buildColor <code>name</code> <code>foreground</code> <code>background</code></a></li>
<li><a href="#allowscolors">allowsColors</a></li>
<li><a href="#getcolorescapecode-name-defaultcolor">getColorEscapeCode <code>name</code> <code>defaultColor?</code></a></li>
<li><a href="#resetcolor">resetColor</a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-command">API Reference (command)</a><ul>
<li><a href="#command">command</a><ul>
<li><a href="#runcommand-command">runCommand <code>command</code></a></li>
<li><a href="#runcommandasuidgid-uid-gid-folder-command">runCommandAsUidGid <code>uid</code> <code>gid</code> <code>folder</code> <code>command+</code></a></li>
<li><a href="#runcommandasuserandgroup-user-group-folder-command">runCommandAsUserAndGroup <code>user</code> <code>group</code> <code>folder</code> <code>command+</code></a></li>
<li><a href="#runcommandlongoutput-command">runCommandLongOutput <code>command</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-constant">API Reference (constant)</a><ul>
<li><a href="#constant">constant</a><ul>
<li><a href="#evalconstant-constantname-default">evalConstant <code>constantName</code> <code>default</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-date">API Reference (date)</a><ul>
<li><a href="#date">date</a><ul>
<li><a href="#date2jd-year-month-day">date2jd <code>year</code> <code>month</code> <code>day</code></a></li>
<li><a href="#date2jds-year-month-day-hour-minute-second">date2jds <code>year</code> <code>month</code> <code>day</code> <code>hour</code> <code>minute</code> <code>second</code></a></li>
<li><a href="#jd2date-date">jd2date <code>date</code></a></li>
<li><a href="#jds2date-timestamp">jds2date <code>timestamp</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-debug">API Reference (debug)</a><ul>
<li><a href="#debug">debug</a><ul>
<li><a href="#debugarray-arrayname">debugArray <code>arrayName</code></a></li>
<li><a href="#debugassociativearray-arrayname">debugAssociativeArray <code>arrayName</code></a></li>
<li><a href="#debugassociativearrayentry-key-value">debugAssociativeArrayEntry <code>key</code> <code>value</code></a></li>
<li><a href="#debugecho-message">debugEcho <code>message</code></a></li>
<li><a href="#debugvariable-varname-varvalue">debugVariable <code>varName</code> <code>varValue+</code></a></li>
<li><a href="#isdebugechoenabled">isDebugEchoEnabled</a></li>
<li><a href="#setdebugechoenabled-bool">setDebugEchoEnabled <code>bool</code></a></li>
<li><a href="#setdebuglogfile-filename">setDebugLogFile <code>fileName</code></a></li>
<li><a href="#traceapicall">traceApiCall</a></li>
<li><a href="#printapicall-parentargs">printApiCall <code>parentArgs*</code></a></li>
<li><a href="#debugduration-command">debugDuration <code>command*</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-dw-plumbing">API Reference (dw-plumbing)</a><ul>
<li><a href="#dw-plumbing">dw-plumbing</a><ul>
<li><a href="#checkreq-dependency-errorcode">checkReq <code>dependency</code> <code>errorCode?</code></a></li>
<li><a href="#cleanup">cleanup</a></li>
<li><a href="#isfunctionmissing-funcname-scriptfile">isFunctionMissing <code>funcName</code> <code>scriptFile?</code></a></li>
<li><a href="#isfunctionpresent-funcname-scriptfile">isFunctionPresent <code>funcName</code> <code>scriptFile?</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-echo">API Reference (echo)</a><ul>
<li><a href="#echo">echo</a><ul>
<li><a href="#echocolorizedtext-text-keyword-defaultcolorname">echoColorizedText <code>text</code> <code>keyword?</code> <code>defaultColorName?</code></a></li>
<li><a href="#echocolorizedtextwithcolor--n-colorname-text">echoColorizedTextWithColor <code>[-n]?</code> <code>colorName</code> <code>text</code></a></li>
<li><a href="#echoincolor--n-colorname-text">echoInColor <code>[-n]?</code> <code>colorName</code> <code>text</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-envvar">API Reference (envvar)</a><ul>
<li><a href="#envvar">envvar</a><ul>
<li><a href="#definebutdonotoverrideenvvar-varname-description-defaultvalue-command">defineButDoNotOverrideEnvVar <code>varName</code> <code>description</code> <code>defaultValue?</code> <code>command?</code></a></li>
<li><a href="#defineenvvar-varname-mandatoryoptional-description-defaultvalue-command">defineEnvVar <code>varName</code> <code>MANDATORY|OPTIONAL</code> <code>description</code> <code>defaultValue?</code> <code>command?</code></a></li>
<li><a href="#evalenvvars">evalEnvVars</a></li>
<li><a href="#evalvar-varname">evalVar <code>varName</code></a></li>
<li><a href="#isenvvardefined-varname">isEnvVarDefined <code>varName</code></a></li>
<li><a href="#isenvvarmandatory-varname">isEnvVarMandatory <code>varName</code></a></li>
<li><a href="#isenvvaroptional-varname">isEnvVarOptional <code>varName</code></a></li>
<li><a href="#overrideenvvar-varname-varvalue-description">overrideEnvVar <code>varName</code> <code>varValue?</code> <code>description?</code></a></li>
<li><a href="#printenvironment">printEnvironment</a></li>
<li><a href="#retrievecustomenvironmentvariables">retrieveCustomEnvironmentVariables</a></li>
<li><a href="#upvar-varname-value">upvar <code>varName</code> <code>value+</code></a></li>
<li><a href="#upvars--v-varname-value--an-varname-value">upvars <code>[-v</code> <code>varName</code> <code>value]</code> <code>|</code> <code>[-aN</code> <code>varName</code> <code>value+]</code></a></li>
<li><a href="#evalenvvar-varname">evalEnvVar <code>varName</code></a></li>
<li><a href="#extractkeyinpair-tuple">extractKeyInPair <code>tuple</code></a></li>
<li><a href="#extractvalueinpair-tuple">extractValueInPair <code>tuple</code></a></li>
<li><a href="#isvariabledefinedinfile-file-varname">isVariableDefinedInFile <code>file</code> <code>varName</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-error">API Reference (error)</a><ul>
<li><a href="#error">error</a><ul>
<li><a href="#adderror-label-message">addError <code>label</code> <code>message</code></a></li>
<li><a href="#appenderrormessage-error">appendErrorMessage <code>error</code></a></li>
<li><a href="#exitwitherror-label-message">exitWithError <code>label</code> <code>message</code></a></li>
<li><a href="#exitwitherrorcode-label">exitWithErrorCode <code>label</code></a></li>
<li><a href="#iserrordefined-label">isErrorDefined <code>label</code></a></li>
<li><a href="#iserrorundefined-label">isErrorUndefined <code>label</code></a></li>
<li><a href="#printerrormessage-label">printErrorMessage <code>label</code></a></li>
<li><a href="#printexitvalues">printExitValues</a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-file">API Reference (file)</a><ul>
<li><a href="#file">file</a><ul>
<li><a href="#addfiletocleanup-file">addFileToCleanup <code>file</code></a></li>
<li><a href="#createtempfile">createTempFile</a></li>
<li><a href="#folderallowsexec-folder">folderAllowsExec <code>folder</code></a></li>
<li><a href="#createtempfilenocleanup">createTempFileNoCleanup</a></li>
<li><a href="#createtempfolder-parent-prefix">createTempFolder <code>parent?</code> <code>prefix?</code></a></li>
<li><a href="#fileexists-file">fileExists <code>file</code></a></li>
<li><a href="#folderexists-folder">folderExists <code>folder</code></a></li>
<li><a href="#fileisnotempty-file">fileIsNotEmpty <code>file</code></a></li>
<li><a href="#fileisreadable-file">fileIsReadable <code>file</code></a></li>
<li><a href="#fileisregularfile-file">fileIsRegularFile <code>file</code></a></li>
<li><a href="#fileiswritable-file">fileIsWritable <code>file</code></a></li>
<li><a href="#folderiswritable-folder">folderIsWritable <code>folder</code></a></li>
<li><a href="#findfolderdistance-foldera-folderb">findFolderDistance <code>folderA</code> <code>folderB</code></a></li>
<li><a href="#findgreatestcommonparentfolder-foldera-folderb">findGreatestCommonParentFolder <code>folderA</code> <code>folderB</code></a></li>
<li><a href="#findinpath-file">findInPath <code>file</code></a></li>
<li><a href="#findrelativepathbetweenfolders-foldera-folderb">findRelativePathBetweenFolders <code>folderA</code> <code>folderB</code></a></li>
<li><a href="#isexecutable-fileorfolder">isExecutable <code>fileOrFolder</code></a></li>
<li><a href="#folderexistsandisnotasymlink-folder">folderExistsAndIsNotASymlink <code>folder</code></a></li>
<li><a href="#ismacosx">isMacOSX</a></li>
<li><a href="#issymlink-path">isSymlink <code>path</code></a></li>
<li><a href="#readconffile-file">readConfFile <code>file</code></a></li>
<li><a href="#readlink-param">readLink <code>param*</code></a></li>
<li><a href="#removeextension-filename">removeExtension <code>fileName</code></a></li>
<li><a href="#retrieveabsolutepath-relativepath">retrieveAbsolutePath <code>relativePath</code></a></li>
<li><a href="#retrievefreediskspaceunderfolder-folder">retrieveFreeDiskSpaceUnderFolder <code>folder</code></a></li>
<li><a href="#sourcefileifexists-file">sourceFileIfExists <code>file</code></a></li>
<li><a href="#uncompress-file-outputfolder">uncompress <code>file</code> <code>outputFolder</code></a></li>
<li><a href="#replacevariablesinfile-file-output-variables">replaceVariablesInFile <code>file</code> <code>output</code> <code>variables+</code></a></li>
<li><a href="#changefilepermissions-file-permissions">changeFilePermissions <code>file</code> <code>permissions</code></a></li>
<li><a href="#getowneroffileorfolder-fileorfolder">getOwnerOfFileOrFolder <code>fileOrFolder</code></a></li>
<li><a href="#getowneridoffileorfolder-fileorfolder">getOwnerIdOfFileOrFolder <code>fileOrFolder</code></a></li>
<li><a href="#getgroupoffileorfolder-fileorfolder">getGroupOfFileOrFolder <code>fileOrFolder</code></a></li>
<li><a href="#getgroupidoffileorfolder-fileorfolder">getGroupIdOfFileOrFolder <code>fileOrFolder</code></a></li>
<li><a href="#changefolderpermissionsrecursively-folder-permissions">changeFolderPermissionsRecursively <code>folder</code> <code>permissions</code></a></li>
<li><a href="#changeowneroffile-file-user-group-ownership">changeOwnerOfFile <code>file</code> <code>user</code> <code>group?</code> <code>ownership?</code></a></li>
<li><a href="#changeowneroffolderrecursively-dir-user-group">changeOwnerOfFolderRecursively <code>dir</code> <code>user</code> <code>group?</code></a></li>
<li><a href="#file.getcleanupfilesvariablename">FILE.getCleanupFilesVariableName</a></li>
<li><a href="#truncatefiles-folder-regex">truncateFiles <code>folder</code> <code>regex</code></a></li>
<li><a href="#filecontains-file-text">fileContains <code>file</code> <code>text</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-locale">API Reference (locale)</a><ul>
<li><a href="#locale">locale</a><ul>
<li><a href="#islocalesupported-locale-encoding">isLocaleSupported <code>locale</code> <code>encoding</code></a></li>
<li><a href="#islocalefileavailable-locale">isLocaleFileAvailable <code>locale</code></a></li>
<li><a href="#localerequiresencodingsuffix-locale-encoding">localeRequiresEncodingSuffix <code>locale</code> <code>encoding</code></a></li>
<li><a href="#changedefaultlocale-locale-encoding">changeDefaultLocale <code>locale</code> <code>encoding</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-logging">API Reference (logging)</a><ul>
<li><a href="#logging">logging</a><ul>
<li><a href="#definedtag-tag">definedTag <code>tag</code></a></li>
<li><a href="#disablequietmode">disableQuietMode</a></li>
<li><a href="#enablequietmode">enableQuietMode</a></li>
<li><a href="#findoutkeyword-text">findOutKeyword <code>text</code></a></li>
<li><a href="#getlogcategory">getLogCategory</a></li>
<li><a href="#getlognamespace">getLogNamespace</a></li>
<li><a href="#isdebugenabled">isDebugEnabled</a></li>
<li><a href="#isfailurekeyword-keyword">isFailureKeyword <code>keyword</code></a></li>
<li><a href="#isinfoenabled">isInfoEnabled</a></li>
<li><a href="#islowerthaninfoenabled">isLowerThanInfoEnabled</a></li>
<li><a href="#isquietmode">isQuietMode</a></li>
<li><a href="#issuccesskeyword-keyword">isSuccessKeyword <code>keyword</code></a></li>
<li><a href="#logresult-successfailure-message">logResult <code>SUCCESS|FAILURE?</code> <code>message</code></a></li>
<li><a href="#istraceenabled">isTraceEnabled</a></li>
<li><a href="#log-message">log <code>message</code></a></li>
<li><a href="#logdebug-message">logDebug <code>message</code></a></li>
<li><a href="#logdebugfromstdin">logDebugFromStdin</a></li>
<li><a href="#logdebugfile-file">logDebugFile <code>file</code></a></li>
<li><a href="#logdebugfilecontents-file">logDebugFileContents <code>file</code></a></li>
<li><a href="#logdebugresult-successfailure-message">logDebugResult <code>SUCCESS|FAILURE</code> <code>message</code></a></li>
<li><a href="#logfile-file">logFile <code>file</code></a></li>
<li><a href="#setlogoutcometokens-tokens">setLogOutcomeTokens <code>tokens+</code></a></li>
<li><a href="#getlogoutcomeseparator">getLogOutcomeSeparator</a></li>
<li><a href="#setlogoutcomeseparator">setLogOutcomeSeparator</a></li>
<li><a href="#seterrorlogprefixtoken-token">setErrorLogPrefixToken <code>token</code></a></li>
<li><a href="#setwarnlogprefixtoken-token">setWarnLogPrefixToken <code>token</code></a></li>
<li><a href="#setinfologprefixtoken-token">setInfoLogPrefixToken <code>token</code></a></li>
<li><a href="#setdebuglogprefixtoken-token">setDebugLogPrefixToken <code>token</code></a></li>
<li><a href="#settracelogprefixtoken-token">setTraceLogPrefixToken <code>token</code></a></li>
<li><a href="#setinvalidlogcategories-category">setInvalidLogCategories <code>category+</code></a></li>
<li><a href="#addinvalidlogcategory-category">addInvalidLogCategory <code>category</code></a></li>
<li><a href="#setlogprefixtokens-tokens">setLogPrefixTokens <code>tokens+</code></a></li>
<li><a href="#setlogprefixcolors-colors">setLogPrefixColors <code>colors+</code></a></li>
<li><a href="#setlogoutcomecolors-colors">setLogOutcomeColors <code>colors+</code></a></li>
<li><a href="#rightjustificationenabled">rightJustificationEnabled</a></li>
<li><a href="#getlognestedindentation">getLogNestedIndentation</a></li>
<li><a href="#setlognestedindentation">setLogNestedIndentation</a></li>
<li><a href="#isloglineopen">isLogLineOpen</a></li>
<li><a href="#getdefaultlogresumingtaskcolor">getDefaultLogResumingTaskColor</a></li>
<li><a href="#setdefaultlogresumingtaskcolor">setDefaultLogResumingTaskColor</a></li>
<li><a href="#setnestedtaskinprogressmarker">setNestedTaskInProgressMarker</a></li>
<li><a href="#getdefaultlogprefixcolor">getDefaultLogPrefixColor</a></li>
<li><a href="#setdefaultlogprefixcolor">setDefaultLogPrefixColor</a></li>
<li><a href="#getdefaultlogoutcomecolor">getDefaultLogOutcomeColor</a></li>
<li><a href="#setdefaultlogoutcomecolor">setDefaultLogOutcomeColor</a></li>
<li><a href="#setlogprefixcategoryseparator-separator">setLogPrefixCategorySeparator <code>separator</code></a></li>
<li><a href="#getlogtimestampformat">getLogTimestampFormat</a></li>
<li><a href="#setlogtimestampformat">setLogTimestampFormat</a></li>
<li><a href="#setoutcometextpositioninlogoutcome-position">setOutcomeTextPositionInLogOutcome <code>position</code></a></li>
<li><a href="#settimestamppositioninlogprefix-position">setTimestampPositionInLogPrefix <code>position</code></a></li>
<li><a href="#setnamespacepositioninlogprefix-position">setNamespacePositionInLogPrefix <code>position</code></a></li>
<li><a href="#setcategorypositioninlogprefix-position">setCategoryPositionInLogPrefix <code>position</code></a></li>
<li><a href="#setlevelpositioninlogprefix-position">setLevelPositionInLogPrefix <code>position</code></a></li>
<li><a href="#loginfo-message">logInfo <code>message</code></a></li>
<li><a href="#loginfofromstdin">logInfoFromStdin</a></li>
<li><a href="#loginfofile-file">logInfoFile <code>file</code></a></li>
<li><a href="#loginforesult-successfailure-message">logInfoResult <code>SUCCESS|FAILURE</code> <code>message</code></a></li>
<li><a href="#logtrace-message">logTrace <code>message</code></a></li>
<li><a href="#logtracefromstdin">logTraceFromStdin</a></li>
<li><a href="#logtracefile-file">logTraceFile <code>file</code></a></li>
<li><a href="#logtraceresult-successfailure-message">logTraceResult <code>SUCCESS|FAILURE</code> <code>message</code></a></li>
<li><a href="#resolveverbosity">resolveVerbosity</a></li>
<li><a href="#setdebugenabled">setDebugEnabled</a></li>
<li><a href="#setinfoenabled">setInfoEnabled</a></li>
<li><a href="#setlogcategory-category">setLogCategory <code>category</code></a></li>
<li><a href="#setlognamespace-namespace">setLogNamespace <code>namespace</code></a></li>
<li><a href="#setquietmode-mode">setQuietMode <code>mode</code></a></li>
<li><a href="#settraceenabled">setTraceEnabled</a></li>
<li><a href="#logtofile-file">logToFile <code>file</code></a></li>
<li><a href="#islogtofilesenabled">isLogToFilesEnabled</a></li>
<li><a href="#applythemeifpresent">applyThemeIfPresent</a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-net">API Reference (net)</a><ul>
<li><a href="#net">net</a><ul>
<li><a href="#hostisreachable-host">hostIsReachable <code>host</code></a></li>
<li><a href="#retrieveiface">retrieveIface</a></li>
<li><a href="#retrieveifaces">retrieveIfaces</a></li>
<li><a href="#retrieveip-interface">retrieveIp <code>interface</code></a></li>
<li><a href="#retrieveownip">retrieveOwnIp</a></li>
<li><a href="#retrievesubnet24-interface">retrieveSubnet24 <code>interface</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-number">API Reference (number)</a><ul>
<li><a href="#number">number</a><ul>
<li><a href="#isnumber-input">isNumber <code>input</code></a></li>
<li><a href="#mod-dividend-divisor">mod <code>dividend</code> <code>divisor</code></a></li>
<li><a href="#isgreaterthan-first-second">isGreaterThan <code>first</code> <code>second</code></a></li>
<li><a href="#isgreaterorequalto-first-second">isGreaterOrEqualTo <code>first</code> <code>second</code></a></li>
<li><a href="#islessthan-first-second">isLessThan <code>first</code> <code>second</code></a></li>
<li><a href="#islessorequalto-first-second">isLessOrEqualTo <code>first</code> <code>second</code></a></li>
<li><a href="#toordinal-input">toOrdinal <code>input</code></a></li>
<li><a href="#lastdigit-number">lastDigit <code>number</code></a></li>
<li><a href="#add-first-second">add <code>first</code> <code>second</code></a></li>
<li><a href="#subtract-first-second">subtract <code>first</code> <code>second</code></a></li>
<li><a href="#multiply-first-second">multiply <code>first</code> <code>second</code></a></li>
<li><a href="#divide-first-second">divide <code>first</code> <code>second</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-package">API Reference (package)</a><ul>
<li><a href="#package">package</a><ul>
<li><a href="#isinstalled-program">isInstalled <code>program</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-process">API Reference (process)</a><ul>
<li><a href="#process">process</a><ul>
<li><a href="#isrunning-filepath">isRunning <code>filePath</code></a></li>
<li><a href="#halt-seconds">halt <code>seconds?</code></a></li>
<li><a href="#anotherprocessalreadyrunning">anotherProcessAlreadyRunning</a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-ssh">API Reference (ssh)</a><ul>
<li><a href="#ssh">ssh</a><ul>
<li><a href="#remotesshcommand-user-server-command">remoteSshCommand <code>user</code> <code>server</code> <code>command*</code></a></li>
<li><a href="#remotesshcommandpipe-user-server-command-previouspipe">remoteSshCommandPipe <code>user</code> <code>server</code> <code>command</code> <code>previousPipe</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-stdlib">API Reference (stdlib)</a><ul>
<li><a href="#stdlib">stdlib</a><ul>
<li><a href="#areequal-first-second">areEqual <code>first</code> <code>second</code></a></li>
<li><a href="#arenotequal-first-second">areNotEqual <code>first</code> <code>second</code></a></li>
<li><a href="#isdefined-var">isDefined <code>var</code></a></li>
<li><a href="#isempty-value">isEmpty <code>value</code></a></li>
<li><a href="#isfalse-value">isFalse <code>value</code></a></li>
<li><a href="#isfunctiondefined-functionname">isFunctionDefined <code>functionName</code></a></li>
<li><a href="#isnotempty-value">isNotEmpty <code>value</code></a></li>
<li><a href="#isnotzero-value">isNotZero <code>value</code></a></li>
<li><a href="#istrue-value">isTrue <code>value</code></a></li>
<li><a href="#isvariabledefined-var">isVariableDefined <code>var</code></a></li>
<li><a href="#iszero-value">isZero <code>value</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-step">API Reference (step)</a><ul>
<li><a href="#step">step</a><ul>
<li><a href="#isstepalreadydone-label">isStepAlreadyDone <code>label</code></a></li>
<li><a href="#markstepasalreadydone-label">markStepAsAlreadyDone <code>label</code></a></li>
<li><a href="#setstepstatusfolder-folder">setStepStatusFolder <code>folder</code></a></li>
<li><a href="#getstepstatusfolder">getStepStatusFolder</a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-string">API Reference (string)</a><ul>
<li><a href="#string">string</a><ul>
<li><a href="#firstcharacter-text">firstCharacter <code>text</code></a></li>
<li><a href="#lastcharacter-text">lastCharacter <code>text</code></a></li>
<li><a href="#contains-text-substring">contains <code>text</code> <code>substring</code></a></li>
<li><a href="#endswith-text-substring">endsWith <code>text</code> <code>substring</code></a></li>
<li><a href="#normalize-text">normalize <code>text</code></a></li>
<li><a href="#normalizeuppercase-string">normalizeUppercase <code>string</code></a></li>
<li><a href="#removeprefix-text-prefix">removePrefix <code>text</code> <code>prefix</code></a></li>
<li><a href="#removesuffix-text-suffix">removeSuffix <code>text</code> <code>suffix</code></a></li>
<li><a href="#replacenleftmosttokens-text-newtoken-n-separator">replaceNLeftmostTokens <code>text</code> <code>newToken</code> <code>n</code> <code>separator</code></a></li>
<li><a href="#replacenrightmosttokens-text-newtoken-n-separator">replaceNRightmostTokens <code>text</code> <code>newToken</code> <code>n</code> <code>separator</code></a></li>
<li><a href="#startswith-text-substring">startsWith <code>text</code> <code>substring</code></a></li>
<li><a href="#tolower-text">toLower <code>text</code></a></li>
<li><a href="#toupper-text">toUpper <code>text</code></a></li>
<li><a href="#replaceall-text-old-replacement">replaceAll <code>text</code> <code>old</code> <code>replacement</code></a></li>
<li><a href="#split-text-separator-arrayname">split <code>text</code> <code>separator</code> <code>arrayName</code></a></li>
<li><a href="#startsandendswith-text-delimiter">startsAndEndsWith <code>text</code> <code>delimiter</code></a></li>
<li><a href="#removesurrounding-text-delimiter">removeSurrounding <code>text</code> <code>delimiter</code></a></li>
<li><a href="#trim-text">trim <code>text</code></a></li>
<li><a href="#keyvaluesplit-text">keyValueSplit <code>text</code></a></li>
<li><a href="#splitandextract-input-separator-index">splitAndExtract <code>input</code> <code>separator</code> <code>index</code></a></li>
<li><a href="#sha512-value">sha512 <code>value</code></a></li>
<li><a href="#sha384-value">sha384 <code>value</code></a></li>
<li><a href="#sha256-value">sha256 <code>value</code></a></li>
<li><a href="#sha224-value">sha224 <code>value</code></a></li>
<li><a href="#sha1-value">sha1 <code>value</code></a></li>
<li><a href="#sha-value">sha <code>value</code></a></li>
<li><a href="#hash-hash-value">hash <code>hash</code> <code>value</code></a></li>
<li><a href="#countmatchesofcharsinstring-chars-string">countMatchesOfCharsInString <code>chars</code> <code>string</code></a></li>
<li><a href="#camelcasetopascalcase-text">camelCaseToPascalCase <code>text</code></a></li>
<li><a href="#camelcasetosnakecase-text">camelCaseToSnakeCase <code>text</code></a></li>
<li><a href="#snakecasetocamelcase-text">snakeCaseToCamelCase <code>text</code></a></li>
<li><a href="#tocamelcase-text">toCamelCase <code>text</code></a></li>
<li><a href="#snakecasetopascalcase-text">snakeCaseToPascalCase <code>text</code></a></li>
<li><a href="#uncapitalize-text">uncapitalize <code>text</code></a></li>
<li><a href="#capitalize-text">capitalize <code>text</code></a></li>
<li><a href="#tailtext-text">tailText <code>text</code></a></li>
<li><a href="#stringlength-text">stringLength <code>text</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-sudo">API Reference (sudo)</a><ul>
<li><a href="#sudo">sudo</a><ul>
<li><a href="#checkpasswordlesssudo">checkPasswordlessSudo</a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-term">API Reference (term)</a><ul>
<li><a href="#term">term</a><ul>
<li><a href="#gettermwidth">getTermWidth</a></li>
<li><a href="#gettermwidthforterm-term">getTermWidthForTerm <code>term</code></a></li>
<li><a href="#retrieveterm">retrieveTERM</a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-url">API Reference (url)</a><ul>
<li><a href="#url">url</a><ul>
<li><a href="#urlencode-url">urlEncode <code>url</code></a></li>
<li><a href="#extractpathsegmentfromurl-url-index">extractPathSegmentFromUrl <code>url</code> <code>index</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-user">API Reference (user)</a><ul>
<li><a href="#user">user</a><ul>
<li><a href="#addusertogroup-username-groupname">addUserToGroup <code>userName</code> <code>groupName</code></a></li>
<li><a href="#creategroup-groupname-groupid">createGroup <code>groupName</code> <code>groupId?</code></a></li>
<li><a href="#createuser-username">createUser <code>userName</code></a></li>
<li><a href="#deletegroup-groupname">deleteGroup <code>groupName</code></a></li>
<li><a href="#deleteuser-username">deleteUser <code>userName</code></a></li>
<li><a href="#gidalreadyexists-gid">gidAlreadyExists <code>gid</code></a></li>
<li><a href="#groupalreadyexists-group">groupAlreadyExists <code>group</code></a></li>
<li><a href="#resolvecommandforuser-username-command">resolveCommandForUser <code>userName</code> <code>command</code></a></li>
<li><a href="#retrievegidfromgroup-group">retrieveGidFromGroup <code>group</code></a></li>
<li><a href="#retrievegroupfromgid-gid">retrieveGroupFromGid <code>gid</code></a></li>
<li><a href="#retrieveownergid-path">retrieveOwnerGid <code>path</code></a></li>
<li><a href="#retrieveowneruid-path">retrieveOwnerUid <code>path</code></a></li>
<li><a href="#retrieveuidfromuser-user">retrieveUidFromUser <code>user</code></a></li>
<li><a href="#retrieveuserfromuid-uid">retrieveUserFromUid <code>uid</code></a></li>
<li><a href="#uidalreadyexists-uid">uidAlreadyExists <code>uid</code></a></li>
<li><a href="#updategroupgid-groupname-gid">updateGroupGid <code>groupName</code> <code>gid</code></a></li>
<li><a href="#updateusergid-username-gid">updateUserGid <code>userName</code> <code>gid</code></a></li>
<li><a href="#updateuseruid-username-uid">updateUserUid <code>userName</code> <code>uid</code></a></li>
<li><a href="#useralreadyexists-user">userAlreadyExists <code>user</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-extaws-cli">API Reference (ext/aws-cli)</a><ul>
<li><a href="#aws-cli">aws-cli</a><ul>
<li><a href="#retrieveawsclifromprofileandregion-awsprofile-awsregion">retrieveAwsCliFromProfileAndRegion <code>awsProfile</code> <code>awsRegion</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-extaws-cloudformation">API Reference (ext/aws-cloudformation)</a><ul>
<li><a href="#aws-cloudformation">aws-cloudformation</a><ul>
<li><a href="#iscloudformationtemplatevalid-template-awscli">isCloudformationTemplateValid <code>template</code> <code>awsCli</code></a></li>
<li><a href="#getcloudformationexport-name-awsprofile">getCloudformationExport <code>name</code> <code>awsProfile</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-extaws">API Reference (ext/aws)</a></li>
<li><a href="#api-reference-extaws-ecr">API Reference (ext/aws-ecr)</a><ul>
<li><a href="#aws-ecr">aws-ecr</a><ul>
<li><a href="#getecrimages-repository-profile">getEcrImages <code>repository</code> <code>profile</code></a></li>
<li><a href="#emptyecrrepository-repository-profile">emptyEcrRepository <code>repository</code> <code>profile</code></a></li>
<li><a href="#deleteecrimages-repository-profile-imagedigests">deleteEcrImages <code>repository</code> <code>profile</code> <code>imageDigests+</code></a></li>
<li><a href="#ecrrepositoryalreadyexists-bucket-profile">ecrRepositoryAlreadyExists <code>bucket</code> <code>profile</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-extaws-ecs">API Reference (ext/aws-ecs)</a><ul>
<li><a href="#aws-ecs">aws-ecs</a><ul>
<li><a href="#getecsclusters-profile">getEcsClusters <code>profile</code></a></li>
<li><a href="#getecscluster-profile-clustername">getEcsCluster <code>profile</code> <code>clusterName</code></a></li>
<li><a href="#getecstasks-profile-clusterarn">getEcsTasks <code>profile</code> <code>clusterArn</code></a></li>
<li><a href="#getecstask-profile-clusterarn-taskname">getEcsTask <code>profile</code> <code>clusterArn</code> <code>taskName</code></a></li>
<li><a href="#getecstaskgroup-profile-clusterarn-taskarn">getEcsTaskGroup <code>profile</code> <code>clusterArn</code> <code>taskArn</code></a></li>
<li><a href="#stopecstask-profile-clusterarn-taskarn">stopEcsTask <code>profile</code> <code>clusterArn</code> <code>taskArn</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-extaws-s3">API Reference (ext/aws-s3)</a><ul>
<li><a href="#aws-s3">aws-s3</a><ul>
<li><a href="#emptys3bucket-bucket-profile">emptyS3Bucket <code>bucket</code> <code>profile</code></a></li>
<li><a href="#deletes3bucket-bucket-profile">deleteS3Bucket <code>bucket</code> <code>profile</code></a></li>
<li><a href="#deletes3bucketanalyticsconfiguration-bucket-id-profile">deleteS3BucketAnalyticsConfiguration <code>bucket</code> <code>id</code> <code>profile</code></a></li>
<li><a href="#deletes3bucketcors-bucket-profile">deleteS3BucketCors <code>bucket</code> <code>profile</code></a></li>
<li><a href="#deletes3bucketencryption-bucket-profile">deleteS3BucketEncryption <code>bucket</code> <code>profile</code></a></li>
<li><a href="#deletes3bucketinventoryconfiguration-bucket-profile">deleteS3BucketInventoryConfiguration <code>bucket</code> <code>profile</code></a></li>
<li><a href="#deletes3bucketlifecycle-bucket-profile">deleteS3BucketLifecycle <code>bucket</code> <code>profile</code></a></li>
<li><a href="#deletes3bucketmetricsconfiguration-bucket-profile">deleteS3BucketMetricsConfiguration <code>bucket</code> <code>profile</code></a></li>
<li><a href="#deletes3bucketpolicy-bucket-profile">deleteS3BucketPolicy <code>bucket</code> <code>profile</code></a></li>
<li><a href="#deletes3bucketreplication-bucket-profile">deleteS3BucketReplication <code>bucket</code> <code>profile</code></a></li>
<li><a href="#deletes3buckettagging-bucket-profile">deleteS3BucketTagging <code>bucket</code> <code>profile</code></a></li>
<li><a href="#deletes3bucketwebsite-bucket-profile">deleteS3BucketWebsite <code>bucket</code> <code>profile</code></a></li>
<li><a href="#s3bucketalreadyexists-bucket-profile">s3BucketAlreadyExists <code>bucket</code> <code>profile</code></a></li>
<li><a href="#syncs3bucket-folder-bucket-profile">syncS3Bucket <code>folder</code> <code>bucket</code> <code>profile</code></a></li>
<li><a href="#cps3bucket-file-bucket-destination-profile">cpS3Bucket <code>file</code> <code>bucket</code> <code>destination</code> <code>profile</code></a></li>
<li><a href="#rms3bucket-bucket-file-profile">rmS3Bucket <code>bucket</code> <code>file</code> <code>profile</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-extconcourse">API Reference (ext/concourse)</a><ul>
<li><a href="#concourse">concourse</a><ul>
<li><a href="#flylogin-target-url">flyLogin <code>target</code> <code>url</code></a></li>
<li><a href="#runflycommand-yyyesyesnnnono-command-arg">runFlyCommand <code>y|Y|yes|YES|n|N|no|NO</code> <code>command</code> <code>arg*</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-extcontestia">API Reference (ext/contestia)</a><ul>
<li><a href="#contestia">contestia</a><ul>
<li><a href="#getcontestiadomainname-environment-profile">getContestiaDomainName <code>environment</code> <code>profile</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-extcron">API Reference (ext/cron)</a><ul>
<li><a href="#cron">cron</a><ul>
<li><a href="#iscronrunning-cronpath">isCronRunning <code>cronPath?</code></a></li>
<li><a href="#sendsignaltocronprocess-signal">sendSignalToCronProcess <code>signal?</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-extdocker">API Reference (ext/docker)</a><ul>
<li><a href="#docker">docker</a><ul>
<li><a href="#connectdockercontainertonetwork-container-network">connectDockerContainerToNetwork <code>container</code> <code>network</code></a></li>
<li><a href="#copytodockercontainer-file-container-containerfolder">copyToDockerContainer <code>file</code> <code>container</code> <code>containerFolder</code></a></li>
<li><a href="#createdockernetwork-network">createDockerNetwork <code>network</code></a></li>
<li><a href="#dockercommand-command-args">dockerCommand <code>command</code> <code>args*</code></a></li>
<li><a href="#dockercontainerexists-container">dockerContainerExists <code>container</code></a></li>
<li><a href="#dockernetworkexists-network">dockerNetworkExists <code>network</code></a></li>
<li><a href="#isdockercontainerrunning-container">isDockerContainerRunning <code>container</code></a></li>
<li><a href="#removedockernetwork-network">removeDockerNetwork <code>network</code></a></li>
<li><a href="#retrievedockercontainerstatus-container">retrieveDockerContainerStatus <code>container</code></a></li>
<li><a href="#retrieveportsfromdockerfile-dockerfile">retrievePortsFromDockerfile <code>dockerfile</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-extfilebeat">API Reference (ext/filebeat)</a><ul>
<li><a href="#filebeat">filebeat</a><ul>
<li><a href="#configurefilebeattoaddlogfiletoforward-logfile-filebeatyml">configureFilebeatToAddLogFileToForward <code>logFile</code> <code>filebeatYml</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-extgit">API Reference (ext/git)</a><ul>
<li><a href="#git">git</a><ul>
<li><a href="#retrievebranch">retrieveBranch</a></li>
<li><a href="#retrieverepositoryurl">retrieveRepositoryUrl</a></li>
<li><a href="#retrieveheadrevision-repositoryfolder">retrieveHeadRevision <code>repositoryFolder</code></a></li>
<li><a href="#retrieveremotehead-repo-branch">retrieveRemoteHead <code>repo</code> <code>branch</code></a></li>
<li><a href="#retrieveremoteheadfromurl-url-branch">retrieveRemoteHeadFromUrl <code>url</code> <code>branch</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-extjetty">API Reference (ext/jetty)</a><ul>
<li><a href="#jetty">jetty</a><ul>
<li><a href="#updatekeystorepathinjettyconf-keystorepath-configfile">updateKeyStorePathInJettyConf <code>keyStorePath</code> <code>configFile</code></a></li>
<li><a href="#updatekeystorepasswordinjettyconf-keystorepassword-configfile">updateKeyStorePasswordInJettyConf <code>keyStorePassword</code> <code>configFile</code></a></li>
<li><a href="#updatetruststorepathinjettyconf-truststorepath-configfile">updateTrustStorePathInJettyConf <code>trustStorePath</code> <code>configFile</code></a></li>
<li><a href="#updatetruststorepasswordinjettyconf-truststorepassword-configfile">updateTrustStorePasswordInJettyConf <code>trustStorePassword</code> <code>configFile</code></a></li>
<li><a href="#updatekeymanagerpasswordinjettyconf-keymanagerpassword-configfile">updateKeyManagerPasswordInJettyConf <code>keyManagerPassword</code> <code>configFile</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-extmongodb-bootstrap">API Reference (ext/mongodb-bootstrap)</a><ul>
<li><a href="#mongodb-bootstrap">mongodb-bootstrap</a><ul>
<li><a href="#mongodbmigrate-user-group-dbfolder-permissionsfolder-configfile-database-authenticationdatabase-authenticationmechanism-adminusername-adminuserpassword-enablefreemonitoring-backuprolename-backuprolespec-backupusername-backupuserpassword-starttimeout-startcheckinterval-lockfile-dumpfile">mongodbMigrate <code>user</code> <code>group</code> <code>dbFolder</code> <code>permissionsFolder</code> <code>configFile</code> <code>database</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code> <code>adminUserName</code> <code>adminUserPassword</code> <code>enableFreeMonitoring</code> <code>backupRoleName</code> <code>backupRoleSpec</code> <code>backupUserName</code> <code>backupUserPassword</code> <code>startTimeout</code> <code>startCheckInterval</code> <code>lockFile</code> <code>dumpFile?</code></a></li>
<li><a href="#mongodbbootstrap.releasebootstraplock-lockfile">MONGODBBOOTSTRAP.releaseBootstrapLock <code>lockFile</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-extmongodb">API Reference (ext/mongodb)</a><ul>
<li><a href="#mongodb">mongodb</a><ul>
<li><a href="#enablemongodbcrauthentication">enableMongodbCrAuthentication</a></li>
<li><a href="#addmongodbadminuser-user-password-authenticationdatabase">addMongodbAdminUser <code>user</code> <code>password</code> <code>authenticationDatabase?</code></a></li>
<li><a href="#addmongodbbackuprole-rolename-root-rootpassword-authenticationdatabase-authenticationmechanism">addMongodbBackupRole <code>roleName</code> <code>root</code> <code>rootPassword</code> <code>authenticationDatabase?</code> <code>authenticationMechanism?</code></a></li>
<li><a href="#mongodbrolealreadyexists-rolename-database-root-rootpassword-authenticationdatabase-authenticationmechanism">mongodbRoleAlreadyExists <code>roleName</code> <code>database</code> <code>root</code> <code>rootPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></a></li>
<li><a href="#addmongodbrole-rolename-root-rootpassword-authenticationdatabase-authenticationmechanism-privilegespec-rolespec">addMongodbRole <code>roleName</code> <code>root</code> <code>rootPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code> <code>privilegeSpec?</code> <code>roleSpec?</code></a></li>
<li><a href="#addmongodbuser-user-password-database-root-rootpassword-authenticationdatabase-authenticationmechanism-rolespec">addMongodbUser <code>user</code> <code>password</code> <code>database</code> <code>root</code> <code>rootPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code> <code>roleSpec+</code></a></li>
<li><a href="#removemongodbuser-user-database-root-rootpassword-authenticationdatabase-authenticationmechanism">removeMongodbUser <code>user</code> <code>database</code> <code>root</code> <code>rootPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></a></li>
<li><a href="#mongodbfreemonitoringalreadyenabled-root-rootpassword-authenticationdatabase-authenticationmechanism">mongodbFreeMonitoringAlreadyEnabled <code>root</code> <code>rootPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></a></li>
<li><a href="#enablemongodbfreemonitoring-root-rootpassword-authenticationdatabase-authenticationmechanism">enableMongodbFreeMonitoring <code>root</code> <code>rootPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></a></li>
<li><a href="#disablemongodbfreemonitoring-root-rootpassword-authenticationdatabase-authenticationmechanism">disableMongodbFreeMonitoring <code>root</code> <code>rootPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></a></li>
<li><a href="#ismongodrunning">isMongodRunning</a></li>
<li><a href="#ismongodrunning-1">isMongodRunning</a></li>
<li><a href="#killmongod">killMongod</a></li>
<li><a href="#mongodump-output-host-user-pass-authenticationdatabase-authenticationmechanism">mongoDump <code>output</code> <code>host</code> <code>user?</code> <code>pass?</code> <code>authenticationDatabase?</code> <code>authenticationMechanism?</code></a></li>
<li><a href="#mongorestore-file-host-user-pass-authenticationdatabase-authenticationmechanism">mongoRestore <code>file</code> <code>host?</code> <code>user?</code> <code>pass?</code> <code>authenticationDatabase?</code> <code>authenticationMechanism?</code></a></li>
<li><a href="#mongoimport-file-host-user-pass-authenticationdatabase-authenticationmechanism">mongoImport <code>file</code> <code>host?</code> <code>user?</code> <code>pass?</code> <code>authenticationDatabase?</code> <code>authenticationMechanism?</code></a></li>
<li><a href="#startmongodwithauthenticationdisabled-user-group-permissionsfolder-configfile">startMongodWithAuthenticationDisabled <code>user</code> <code>group</code> <code>permissionsFolder</code> <code>configFile</code></a></li>
<li><a href="#startmongodwithauthenticationenabled-user-group-permissionsfolder-configfile-authenticationmechanism">startMongodWithAuthenticationEnabled <code>user</code> <code>group</code> <code>permissionsFolder</code> <code>configFile</code> <code>authenticationMechanism</code></a></li>
<li><a href="#waituntilmongodisrunning-timeout-checkinterval">waitUntilMongodIsRunning <code>timeout</code> <code>checkInterval</code></a></li>
<li><a href="#ismongodrunning-2">isMongodRunning</a></li>
<li><a href="#ismongodrunning-3">isMongodRunning</a></li>
<li><a href="#ismongodrunningwithnoauthentication">isMongodRunningWithNoAuthentication</a></li>
<li><a href="#checkmongodbusercanlogin-user-password-authenticationdatabase-authenticationmechanism">checkMongodbUserCanLogin <code>user</code> <code>password</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></a></li>
<li><a href="#mongodbadminuseralreadyexists-user-database">mongodbAdminUserAlreadyExists <code>user</code> <code>database</code></a></li>
<li><a href="#mongodbuseralreadyexists-user-database-adminusername-adminuserpassword-authenticationdatabase-authenticationmechanism">mongodbUserAlreadyExists <code>user</code> <code>database</code> <code>adminUserName</code> <code>adminUserPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></a></li>
<li><a href="#createmongodbindex-user-password-authenticationdatabase-authenticationmechanism-database-collection-index-options">createMongodbIndex <code>user</code> <code>password</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code> <code>database</code> <code>collection</code> <code>index</code> <code>options</code></a></li>
<li><a href="#mongodbindexalreadyexists-user-password-authenticationdatabase-authenticationmechanism-database-collection-index">mongodbIndexAlreadyExists <code>user</code> <code>password</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code> <code>database</code> <code>collection</code> <code>index</code></a></li>
<li><a href="#createmongodbdatabase-database-temporarycollection-user-password-authenticationdatabase-authenticationmechanism">createMongodbDatabase <code>database</code> <code>temporaryCollection</code> <code>user</code> <code>password</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></a></li>
<li><a href="#mongodbdatabasealreadyexists-database-user-password-authenticationdatabase-authenticationmechanism">mongodbDatabaseAlreadyExists <code>database</code> <code>user</code> <code>password</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></a></li>
<li><a href="#createmongodbcollection-database-collection-user-password-authenticationdatabase-authenticationmechanism-database-options">createMongodbCollection <code>database</code> <code>collection</code> <code>user</code> <code>password</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code> <code>database</code> <code>options</code></a></li>
<li><a href="#mongodbcollectionalreadyexists-database-collection-user-password-authenticationdatabase-authenticationmechanism">mongodbCollectionAlreadyExists <code>database</code> <code>collection</code> <code>user</code> <code>password</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></a></li>
<li><a href="#removemongodbcollection-database-collection-user-password-authenticationdatabase-authenticationmechanism">removeMongodbCollection <code>database</code> <code>collection</code> <code>user</code> <code>password</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></a></li>
<li><a href="#addmongodbroleifnecessary-rolename-privilegespec-rolespec-cannotaddroleerrorlabel-roledoesnotexisterrorlabel-database-adminuser-adminpassword-authenticationdatabase-authenticationmechanism">addMongodbRoleIfNecessary <code>roleName</code> <code>privilegeSpec</code> <code>roleSpec</code> <code>cannotAddRoleErrorLabel</code> <code>roleDoesNotExistErrorLabel</code> <code>database</code> <code>adminUser</code> <code>adminPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></a></li>
<li><a href="#addmongodbuserifnecessary-username-userpassword-database-rolespec-cannotcreateusererrorlabel-cannotloginerrorlabel-adminusername-adminuserpassword-authenticationdatabase-authenticationmechanism">addMongodbUserIfNecessary <code>userName</code> <code>userPassword</code> <code>database</code> <code>roleSpec</code> <code>cannotCreateUserErrorLabel</code> <code>cannotLogInErrorLabel</code> <code>adminUserName</code> <code>adminUserPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></a></li>
<li><a href="#removemongodbuserifnecessary-username-database-cannotcreateusererrorlabel-adminusername-adminuserpassword-authenticationdatabase-authenticationmechanism">removeMongodbUserIfNecessary <code>userName</code> <code>database</code> <code>cannotCreateUserErrorLabel</code> <code>adminUserName</code> <code>adminUserPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></a></li>
<li><a href="#addmongodbindexifnecessary-indexname-rolespec-database-collection-cannotcreateindexerrorlabel-indexdoesnotexisterrorlabel-adminusername-adminuserpassword-authenticationdatabase-authenticationmechanism">addMongodbIndexIfNecessary <code>indexName</code> <code>roleSpec</code> <code>database</code> <code>collection</code> <code>cannotCreateIndexErrorLabel</code> <code>indexDoesNotExistErrorLabel</code> <code>adminUserName</code> <code>adminUserPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></a></li>
<li><a href="#addmongodbdatabaseifnecessary-database-temporarycollection-cannotcreatedatabaseerrorlabel-databasedoesnotexisterrorlabel-adminusername-adminuserpassword-authenticationdatabase-authenticationmechanism">addMongodbDatabaseIfNecessary <code>database</code> <code>temporaryCollection</code> <code>cannotCreateDatabaseErrorLabel</code> <code>databaseDoesNotExistErrorLabel</code> <code>adminUserName</code> <code>adminUserPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></a></li>
<li><a href="#addmongodbcollectionifnecessary-database-collection-cannotcreatecollectionerrorlabel-collectiondoesnotexist-adminusername-adminuserpassword-authenticationdatabase-authenticationmechanism">addMongodbCollectionIfNecessary <code>database</code> <code>collection</code> <code>cannotCreateCollectionErrorLabel</code> <code>collectionDoesNotExist</code> <code>adminUserName</code> <code>adminUserPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></a></li>
<li><a href="#removemongodbcollectionifnecessary-database-collection-cannotremovecollectionerrorlabel-collectionexistserrorlabel-adminusername-adminuserpassword-authenticationdatabase-authenticationmechanism">removeMongodbCollectionIfNecessary <code>database</code> <code>collection</code> <code>cannotRemoveCollectionErrorLabel</code> <code>collectionExistsErrorLabel</code> <code>adminUserName</code> <code>adminUserPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-extnexus">API Reference (ext/nexus)</a><ul>
<li><a href="#nexus">nexus</a><ul>
<li><a href="#appendlogconfigdirtonexussystemproperties-file-folder">appendLogConfigDirToNexusSystemProperties <code>file</code> <code>folder</code></a></li>
<li><a href="#appendworkdirinnexussystemproperties-file-workdir">appendWorkDirInNexusSystemProperties <code>file</code> <code>workDir</code></a></li>
<li><a href="#enablejettyhttpsconfiginnexusproperties-file-output">enableJettyHttpsConfigInNexusProperties <code>file</code> <code>output</code></a></li>
<li><a href="#appendhttpsconnectorporttonexuscfg-nexuscfg-port">appendHttpsConnectorPortToNexusCfg <code>nexusCfg</code> <code>port</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-extphabricator">API Reference (ext/phabricator)</a><ul>
<li><a href="#phabricator">phabricator</a><ul>
<li><a href="#retrievecredentialpasswordfromphabricator-keyid-phabricatorurl-apitoken">retrieveCredentialPasswordFromPhabricator <code>keyId</code> <code>phabricatorUrl</code> <code>apiToken</code></a></li>
<li><a href="#retrievecredentialprivatekeyfromphabricator-keyid-phabricatorurl-apitoken">retrieveCredentialPrivateKeyFromPhabricator <code>keyId</code> <code>phabricatorUrl</code> <code>apiToken</code></a></li>
<li><a href="#retrievecredentialusernamefromphabricator-keyid-phabricatorurl-apitoken">retrieveCredentialUsernameFromPhabricator <code>keyId</code> <code>phabricatorUrl</code> <code>apiToken</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-extrabbitmq-bootstrap">API Reference (ext/rabbitmq-bootstrap)</a><ul>
<li><a href="#rabbitmq">rabbitmq</a><ul>
<li><a href="#rabbitmqmigrate">rabbitmqMigrate</a></li>
<li><a href="#setadminusertags-accessuser-accesspassword">setAdminUserTags <code>(accessUser</code> <code>accessPassword)?</code></a></li>
<li><a href="#setadminuserpermissions">setAdminUserPermissions</a></li>
<li><a href="#setmonitoringusertags-accessuser-accesspassword">setMonitoringUserTags <code>(accessUser</code> <code>accessPassword)?</code></a></li>
<li><a href="#setmonitoringuserpermissions">setMonitoringUserPermissions</a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-extrabbitmq">API Reference (ext/rabbitmq)</a><ul>
<li><a href="#rabbitmq-1">rabbitmq</a><ul>
<li><a href="#ensurerabbitmqmanagementisenabled-nodename">ensureRabbitmqManagementIsEnabled <code>nodename</code></a></li>
<li><a href="#israbbitmqrunning">isRabbitmqRunning</a></li>
<li><a href="#addvhost-virtualhost-nodename">addVhost <code>virtualHost</code> <code>nodename</code></a></li>
<li><a href="#adduser-user-password-nodename">addUser <code>user</code> <code>password</code> <code>nodename</code></a></li>
<li><a href="#useralreadyexists-user-nodename">userAlreadyExists <code>user</code> <code>nodename</code></a></li>
<li><a href="#deleteuser-user-nodename">deleteUser <code>user</code> <code>nodename</code></a></li>
<li><a href="#declareexchange-name-type-nodename-accessuser-accesspassword-durable-internal-args">declareExchange <code>name</code> <code>type</code> <code>nodename</code> <code>accessUser</code> <code>accessPassword</code> <code>durable?</code> <code>internal?</code> <code>args*</code></a></li>
<li><a href="#exchangealreadyexists-exchangename-exchangetype-nodename">exchangeAlreadyExists <code>exchangeName</code> <code>exchangeType</code> <code>nodename</code></a></li>
<li><a href="#deleteexchange-exchangename-nodename-accessuser-accesspasword">deleteExchange <code>exchangeName</code> <code>nodename</code> <code>accessUser</code> <code>accessPasword</code></a></li>
<li><a href="#declarequeue-name-durable-nodename-accessuser-accesspassword">declareQueue <code>name</code> <code>durable</code> <code>nodename</code> <code>accessUser</code> <code>accessPassword</code></a></li>
<li><a href="#queuealreadyexists-queuename-nodename">queueAlreadyExists <code>queueName</code> <code>nodename</code></a></li>
<li><a href="#deletequeue-queuename-nodename-accessuser-accesspasword">deleteQueue <code>queueName</code> <code>nodename</code> <code>accessUser</code> <code>accessPasword</code></a></li>
<li><a href="#setpermissions-virtualhost-user-configurepermissions-writepermissions-readpermissions-nodename">setPermissions <code>virtualHost</code> <code>user</code> <code>configurePermissions</code> <code>writePermissions</code> <code>readPermissions</code> <code>nodename</code></a></li>
<li><a href="#setpolicy-name-match-body-type-nodename">setPolicy <code>name</code> <code>match</code> <code>body</code> <code>type</code> <code>nodename</code></a></li>
<li><a href="#policyalreadyexists-virtualhost-name-match-body-objecttype-nodename">policyAlreadyExists <code>virtualHost</code> <code>name</code> <code>match</code> <code>body</code> <code>objectType</code> <code>nodename</code></a></li>
<li><a href="#deletepolicy-policyname-nodename-accessuser-accesspasword">deletePolicy <code>policyName</code> <code>nodename</code> <code>accessUser</code> <code>accessPasword</code></a></li>
<li><a href="#setpolicyunlessitexistsalready">setPolicyUnlessItExistsAlready</a></li>
<li><a href="#declarebinding-source-destinationtype-destination-routingkey-nodename">declareBinding <code>source</code> <code>destinationType</code> <code>destination</code> <code>routingKey</code> <code>nodename</code></a></li>
<li><a href="#bindingalreadyexists-source-destinationtype-destination-routingkey-nodename-accessuser-accesspassword">bindingAlreadyExists <code>source</code> <code>destinationType</code> <code>destination</code> <code>routingKey</code> <code>nodename</code> <code>(accessUser</code> <code>accessPassword)?</code></a></li>
<li><a href="#deletebinding-source-destinationtype-destination-routingkey-nodename-accessuser-accesspassword">deleteBinding <code>source</code> <code>destinationType</code> <code>destination</code> <code>routingKey</code> <code>nodename</code> <code>(accessUser</code> <code>accessPassword)?</code></a></li>
<li><a href="#setusertags-nodename-user-tags">setUserTags <code>nodename</code> <code>user</code> <code>tags+</code></a></li>
<li><a href="#getusertags-user-nodename-accessuser-accesspassword">getUserTags <code>user</code> <code>nodename</code> <code>(accessUser</code> <code>accessPassword)?</code></a></li>
<li><a href="#addtagtouser-user-tag-nodename-accessuser-accesspassword">addTagToUser <code>user</code> <code>tag</code> <code>nodename</code> <code>(accessUser</code> <code>accessPassword)?</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-extsed">API Reference (ext/sed)</a><ul>
<li><a href="#sed">sed</a><ul>
<li><a href="#safesedreplacement-match-replacement-file">safeSedReplacement <code>match</code> <code>replacement</code> <code>file?</code></a></li>
<li><a href="#safesedminusireplacement-match-replacement-file">safeSedMinusIReplacement <code>match</code> <code>replacement</code> <code>file</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-extssl">API Reference (ext/ssl)</a><ul>
<li><a href="#ssl">ssl</a><ul>
<li><a href="#generatekeypair-outputdir-alias-password-encryption">generateKeyPair <code>outputDir</code> <code>alias</code> <code>password</code> <code>encryption</code></a></li>
<li><a href="#generatecsr-outputdir-alias-key-password-subject">generateCSR <code>outputDir</code> <code>alias</code> <code>key</code> <code>password</code> <code>subject</code></a></li>
<li><a href="#generatecertificate-outputdir-alias-csr-key-password-expirationdays">generateCertificate <code>outputDir</code> <code>alias</code> <code>csr</code> <code>key</code> <code>password</code> <code>expirationDays</code></a></li>
<li><a href="#generatepem-outputdir-alias-csr-key-password-expirationdays">generatePEM <code>outputDir</code> <code>alias</code> <code>csr</code> <code>key</code> <code>password</code> <code>expirationDays</code></a></li>
<li><a href="#changesslkeypermissions-keyfile">changeSslKeyPermissions <code>keyFile</code></a></li>
<li><a href="#changesslkeyownership-keyfile-user-group">changeSslKeyOwnership <code>keyFile</code> <code>user</code> <code>group</code></a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-extubuntu">API Reference (ext/ubuntu)</a><ul>
<li><a href="#ubuntu">ubuntu</a><ul>
<li><a href="#retrieveversion-package">retrieveVersion <code>package</code></a></li>
<li><a href="#installubuntupackage-package">installUbuntuPackage <code>package</code></a></li>
<li><a href="#isaptcachemissing">isAptCacheMissing</a></li>
<li><a href="#updateubuntusystem">updateUbuntuSystem</a></li>
<li><a href="#upgradeubuntusystem">upgradeUbuntuSystem</a></li>
<li><a href="#autoremoveubuntupackages">autoremoveUbuntuPackages</a></li>
<li><a href="#cleanubuntusystem">cleanUbuntuSystem</a></li>
<li><a href="#pinubuntupackage">pinUbuntuPackage</a></li>
</ul></li>
</ul></li>
<li><a href="#api-reference-extvault">API Reference (ext/vault)</a><ul>
<li><a href="#vault">vault</a><ul>
<li><a href="#authorizeinvault">authorizeInVault</a></li>
<li><a href="#buildpipelineparameterpathinvault-folder-team-pipeline-parameter">buildPipelineParameterPathInVault <code>folder</code> <code>team</code> <code>pipeline</code> <code>parameter</code></a></li>
<li><a href="#checkvaultrunning">checkVaultRunning</a></li>
<li><a href="#createorstartvaultcontainer-vaultcontainername-vaultversion-virtualhost-vaultport-network-configcontainername-vaulthclfile">createOrStartVaultContainer <code>vaultContainerName</code> <code>vaultVersion</code> <code>virtualHost</code> <code>vaultPort</code> <code>network</code> <code>configContainerName</code> <code>vaultHclFile</code></a></li>
<li><a href="#deletevaultcontainer-containername">deleteVaultContainer <code>containerName</code></a></li>
<li><a href="#generatevaulthclfile-file-leasettl-maxleasettl-vaultip">generateVaultHclFile <code>file</code> <code>leaseTTL</code> <code>maxLeaseTTL</code> <code>vaultIP</code></a></li>
<li><a href="#retrievevaulttoken-file">retrieveVaultToken <code>file</code></a></li>
<li><a href="#retrievevaulturl">retrieveVaultUrl</a></li>
<li><a href="#runvaultcommand-command-args">runVaultCommand <code>command</code> <code>args*</code></a></li>
<li><a href="#writefileinvault-source-destination">writeFileInVault <code>source</code> <code>destination</code></a></li>
<li><a href="#writevalueinvault-destination-value">writeValueInVault <code>destination</code> <code>value</code></a></li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="content">
<div id="header">
<h1>dry-wit</h1>
</div>
<section id="api-reference-array" class="level1">
<h1>API Reference (array)</h1>
<section id="array" class="level2 module">
<h2>array</h2>
<p>Functions related to arrays and associative arrays.</p>
<section id="arraycontains-element-array" class="level3 function">
<h3>arrayContains <code>element</code> <code>array</code></h3>
<p>Checks if an element is already contained in an array.</p>
<section id="parameters" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>element</code></dt>
<dd>The element to check.
</dd>
<dt><code>array</code></dt>
<dd>The array (passed as “${array[@]}”).
</dd>
</dl>
<p>Returns 0/TRUE if the element is present in the array; 1/FALSE otherwise.</p>
</section>
<section id="usage-example" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1"></a><span class="va">a=(</span><span class="st">&quot;one&quot;</span> <span class="st">&quot;two&quot;</span> <span class="st">&quot;three&quot;</span> <span class="st">&quot;other number&quot;</span><span class="va">)</span>;</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">if</span> <span class="ex">arrayContains</span> <span class="st">&quot;other number&quot;</span> <span class="st">&quot;</span><span class="va">${a[@]}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1"></a>  <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${a[@]}</span><span class="st"> contains &#39;other number&#39;;</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="arraydoesnotcontain-element-array" class="level3 function">
<h3>arrayDoesNotContain <code>element</code> <code>array</code></h3>
<p>Checks if an element is not already contained in an array.</p>
<section id="parameters-1" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>element</code></dt>
<dd>The element to check.
</dd>
<dt><code>array</code></dt>
<dd>The array (passed as “${array[@]}”).
</dd>
</dl>
<p>Returns 0/TRUE if the element is not present in the array; 1/FALSE Otherwise.</p>
</section>
<section id="usage-example-1" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1"></a><span class="va">a=(</span><span class="st">&quot;one&quot;</span> <span class="st">&quot;two&quot;</span> <span class="st">&quot;three&quot;</span> <span class="st">&quot;other number&quot;</span><span class="va">)</span>;</span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw">if</span> <span class="ex">arrayDoesNotContain</span> <span class="st">&quot;four&quot;</span> <span class="st">&quot;</span><span class="va">${a[@]}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1"></a>  <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${a[@]}</span><span class="st"> does not contain &#39;four&#39;&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="getindexofiteminarray-item-array" class="level3 function">
<h3>getIndexOfItemInArray <code>item</code> <code>array</code></h3>
<p>Retrieves the index of given item in an array.</p>
<p>item: The item.</p>
<p>array: The array (passed as “${array[@]}”)</p>
<p>Returns 0/TRUE if the item was found in the array; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the index of the item.</p>
<section id="usage-example-2" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1"></a><span class="kw">if</span> <span class="ex">getIndexOfItemInArray</span> <span class="st">&quot;a&quot;</span> <span class="st">&quot;a b c&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Index of &#39;a&#39;: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="clearassociativearray-arrayname" class="level3 function">
<h3>clearAssociativeArray <code>arrayName</code></h3>
<p>Clears given associative array.</p>
<section id="parameters-2" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>arrayName</code></dt>
<dd>The name of the associative array.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-3" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1"></a><span class="ex">clearAssociativeArray</span> myArray<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="flattenarray-arrayname-separator" class="level3 function">
<h3>flattenArray <code>arrayName</code> <code>separator</code></h3>
<p>Flattens an array, using given separator.</p>
<section id="parameters-3" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>arrayName</code></dt>
<dd>The name of the array variable.
</dd>
<dt><code>separator</code></dt>
<dd>The separator to use.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
<p>The variable RESULT contains the resulting string.</p>
</section>
<section id="usage-example-4" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1"></a><span class="va">A=(</span>a b c<span class="va">)</span>;</span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1"></a><span class="ex">flattenArray</span> A <span class="st">&quot;x&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1"></a><span class="bu">echo</span> <span class="st">&quot;A-&gt;</span><span class="va">${RESULT}</span><span class="st">&quot;</span> <span class="co"># axbxc</span></span></code></pre></div>
</section>
</section>
<section id="foreachassociativearrayentrydo-arrayname-callback" class="level3 function">
<h3>forEachAssociativeArrayEntryDo <code>arrayName</code> <code>callback</code></h3>
<p>Calls a given function for each entry found in given associative array.</p>
<section id="parameters-4" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>arrayName</code></dt>
<dd>The name of the associative array variable.
</dd>
<dt><code>callback</code></dt>
<dd>The name of the callback function.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-5" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1"></a><span class="kw">function</span><span class="fu"> process_code()</span> <span class="kw">{</span></span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Code: </span><span class="va">${1}</span><span class="st">, description: </span><span class="va">${2}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1"></a><span class="ex">...</span></span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1"></a><span class="ex">forEachAssociativeArrayEntryDo</span> <span class="st">&quot;CODE_DESCRIPTION_MAPPING&quot;</span> <span class="st">&quot;process_code&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="isarrayempty-arrayname" class="level3 function">
<h3>isArrayEmpty <code>arrayName</code></h3>
<p>Checks whether given array is empty.</p>
<section id="parameters-5" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>arrayName</code></dt>
<dd>The name of the array.
</dd>
</dl>
<p>Returns 0/TRUE if the array is empty; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-6" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1"></a><span class="kw">if</span> <span class="ex">isArrayEmpty</span> array<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1"></a>  <span class="bu">echo</span> <span class="st">&quot;array is empty&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb23"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="retrieveassociativearraykeys-arrayname" class="level3 function">
<h3>retrieveAssociativeArrayKeys <code>arrayName</code></h3>
<p>Extracts the keys of given associative array.</p>
<section id="parameters-6" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>arrayName</code></dt>
<dd>The array name.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
<p>The variable RESULT contains the list of the keys, wrapped in double quotes.</p>
</section>
<section id="usage-example-7" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1"></a><span class="va">myMapping=([foo]=</span>bar <span class="va">[with spaces]=</span><span class="st">&quot;with spaces&quot;</span><span class="va">)</span>;</span></code></pre></div>
<div class="sourceCode" id="cb25"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1"></a><span class="ex">retrieveAssociativeArrayKeys</span> myMapping<span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb26"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1"></a><span class="kw">for</span> <span class="ex">key</span> in <span class="va">${RESULT}</span><span class="kw">;</span> <span class="kw">do</span></span></code></pre></div>
<div class="sourceCode" id="cb27"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb28"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1"></a><span class="kw">done</span></span></code></pre></div>
</section>
</section>
<section id="nth-nth-array" class="level3 function">
<h3>nth <code>nth</code> <code>array</code></h3>
<p>Retrieves the nth element of given array.</p>
<section id="parameters-7" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>nth</code></dt>
<dd>The index.
</dd>
<dt><code>arrayName</code></dt>
<dd>The destination array.
</dd>
</dl>
<p>Returns 0/TRUE if the element could be retrieved; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the nth element.</p>
</section>
<section id="usage-example-8" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb29"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1"></a><span class="ex">nth</span> 0 myArray<span class="kw">;</span> <span class="bu">echo</span> <span class="st">&quot;First element: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-cache" class="level1">
<h1>API Reference (cache)</h1>
<section id="cache" class="level2 module">
<h2>cache</h2>
<p>Memoization support.</p>
<p>Adapted from http://unix.stackexchange.com/questions/38101/does-bash-have-a-built-in-caching-command-available-sort-of-like-mktemp-or-spon</p>
<section id="cache-function-functionarguments" class="level3 function">
<h3>cache <code>function</code> <code>functionArguments</code></h3>
<p>Memoizes a function call: Annotates its output, to speed up future invocations.</p>
<section id="parameters-8" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>function</code></dt>
<dd>the name of the function to call.
</dd>
<dt><code>functionArguments</code></dt>
<dd>the arguments of the function.
</dd>
</dl>
<p>Returns the result of the function call.</p>
</section>
<section id="usage-example-9" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb30"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1"></a><span class="ex">cache</span> findPrimeNumbers 100000 <span class="co"># takes a long time</span></span>
<span id="cb30-2"><a href="#cb30-2"></a><span class="ex">cache</span> findPrimeNumbers 100000 <span class="co"># returns instantly</span></span></code></pre></div>
</section>
</section>
<section id="uncache-function-functionarguments" class="level3 function">
<h3>uncache <code>function</code> <code>functionArguments</code></h3>
<p>Discards previous memoized values for a function call.</p>
<section id="parameters-9" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>function</code></dt>
<dd>the name of the function..
</dd>
<dt><code>functionArguments</code></dt>
<dd>the arguments of the function.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-10" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb31"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1"></a><span class="ex">uncache</span> findPrimeNumbers 100000</span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-check" class="level1">
<h1>API Reference (check)</h1>
<section id="check" class="level2 module">
<h2>check</h2>
<p>Functions to provide ways for checking parameters.</p>
<section id="checkfunctionpresent-paramname-function-paramindex" class="level3 function">
<h3>checkFunctionPresent <code>paramName</code> <code>function</code> <code>paramIndex</code></h3>
<p>Checks whether a function is present.</p>
<section id="parameters-10" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>paramName</code></dt>
<dd>The parameter name.
</dd>
<dt><code>function</code></dt>
<dd>The function name.
</dd>
<dt><code>paramIndex</code></dt>
<dd>The parameter index.
</dd>
</dl>
<p>Exits if the check fails; otherwise returns 0/TRUE.</p>
</section>
<section id="usage-example-11" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb32"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1"></a><span class="ex">checkFunctionPresent</span> <span class="st">&quot;callback&quot;</span> <span class="st">&quot;echo&quot;</span> 1<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="checknotempty-paramname-paramvalue-paramindex" class="level3 function">
<h3>checkNotEmpty <code>paramName</code> <code>paramValue</code> <code>paramIndex</code></h3>
<p>Performs a precondition check on given parameter to ensure it’s not empty. Exits if the check fails.</p>
<section id="parameters-11" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>paramName</code></dt>
<dd>The parameter name.
</dd>
<dt><code>paramValue</code></dt>
<dd>The parameter value.
</dd>
<dt><code>paramIndex</code></dt>
<dd>The parameter index.
</dd>
</dl>
<p>Exits if the check fails; otherwise returns 0/TRUE.</p>
</section>
<section id="usage-example-12" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb33"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1"></a><span class="ex">checkNotEmpty</span> <span class="st">&quot;user&quot;</span> <span class="st">&quot;</span><span class="va">${user}</span><span class="st">&quot;</span> 1 <span class="co"># -&gt; throws an error if the first (1) parameter (&quot;user&quot;) is empty.</span></span></code></pre></div>
</section>
</section>
<section id="checkoneof-paramname-paramvalue-validvalues-paramindex" class="level3 function">
<h3>checkOneOf <code>paramName</code> <code>paramValue</code> <code>validValues</code> <code>paramIndex</code></h3>
<p>Performs a precondition check on given parameter to ensure it’s included in a predefined list.</p>
<section id="parameters-12" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>paramName</code></dt>
<dd>The parameter name.
</dd>
<dt><code>paramValue</code></dt>
<dd>The parameter value.
</dd>
<dt><code>validValues</code></dt>
<dd>The list of allowed values.
</dd>
<dt><code>paramIndex</code></dt>
<dd>The parameter index.
</dd>
</dl>
<p>Exits if the check fails; otherwise returns 0/TRUE.</p>
</section>
<section id="usage-example-13" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb34"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1"></a><span class="ex">checkOneOf</span> <span class="st">&quot;option&quot;</span> <span class="st">&quot;</span><span class="va">${option}</span><span class="st">&quot;</span> <span class="st">&quot;VALID INVALID&quot;</span> 1 <span class="co"># -&gt; throws an error if the first (1) parameter (&quot;option&quot;) is neither VALID nor INVALID.</span></span></code></pre></div>
</section>
</section>
<section id="checknumber-paramname-paramvalue-paramindex" class="level3 function">
<h3>checkNumber <code>paramName</code> <code>paramValue</code> <code>paramIndex</code></h3>
<p>Checks whether given parameter is a number.</p>
<section id="parameters-13" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>paramName</code></dt>
<dd>The parameter name.
</dd>
<dt><code>paramValue</code></dt>
<dd>The parameter value.
</dd>
<dt><code>paramIndex</code></dt>
<dd>The parameter index.
</dd>
</dl>
<p>Exits if the check fails; otherwise returns 0/TRUE.</p>
</section>
<section id="usage-example-14" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb35"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1"></a><span class="ex">checkNumber</span> <span class="st">&quot;index&quot;</span> <span class="st">&quot;</span><span class="va">${index}</span><span class="st">&quot;</span> 1 <span class="co"># -&gt; throws an error if the first (1) parameter (&quot;index&quot;) is not a number.</span></span></code></pre></div>
</section>
</section>
<section id="checkboolean-paramname-paramvalue-paramindex" class="level3 function">
<h3>checkBoolean <code>paramName</code> <code>paramValue</code> <code>paramIndex</code></h3>
<p>Checks whether given parameter is a boolean (either a 0 or a 1).</p>
<section id="parameters-14" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>paramName</code></dt>
<dd>The parameter name.
</dd>
<dt><code>paramValue</code></dt>
<dd>The parameter value.
</dd>
<dt><code>paramIndex</code></dt>
<dd>The parameter index.
</dd>
</dl>
<p>Exits if the check fails; otherwise returns 0/TRUE.</p>
</section>
<section id="usage-example-15" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb36"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1"></a><span class="ex">checkBoolean</span> <span class="st">&quot;index&quot;</span> <span class="st">&quot;</span><span class="va">${index}</span><span class="st">&quot;</span> 1 <span class="co"># -&gt; throws an error if the first (1) parameter (&quot;index&quot;) is not either 0 or 1.</span></span></code></pre></div>
</section>
</section>
<section id="checkfileexists-paramname-paramvalue-paramindex" class="level3 function">
<h3>checkFileExists <code>paramName</code> <code>paramValue</code> <code>paramIndex</code></h3>
<p>Checks whether given parameter references an existing file.</p>
<section id="parameters-15" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>paramName</code></dt>
<dd>The name of the parameter.
</dd>
<dt><code>paramValue</code></dt>
<dd>The parameter value.
</dd>
<dt><code>paramIndex</code></dt>
<dd>The parameter index.
</dd>
</dl>
<p>Exits if the check fails; otherwise returns 0/TRUE.</p>
</section>
<section id="usage-example-16" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb37"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1"></a><span class="ex">checkFileExists</span> file <span class="st">&quot;</span><span class="va">${file}</span><span class="st">&quot;</span> 1 <span class="co"># -&gt; throws an error if the first (1) parameter (&quot;file&quot;) references a file that doesn&#39;t exist.</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-cli" class="level1">
<h1>API Reference (cli)</h1>
<section id="cli" class="level2 module">
<h2>cli</h2>
<p>Functions to parse and check command-line arguments.</p>
<section id="environment-variables" class="level4">
<h4>Environment variables</h4>
<dl>
<dt><code>EXPECTS_ARGUMENT</code></dt>
<dd>A constant to represent that a flag expects an argument.
</dd>
<dt><code>NO_ARGUMENT</code></dt>
<dd>A constant to represent that a flag doesn’n expect an argument.
</dd>
<dt><code>SINGLE</code></dt>
<dd>A constant to represent a parameter only accepts a value.
</dd>
</dl>
</section>
<section id="getscriptcopyright" class="level3 function">
<h3>getScriptCopyright</h3>
<p>Retrieves the script copyright.</p>
<p>Returns 0/TRUE always.</p>
<p>The variable RESULT contains the script copyright.</p>
<section id="usage-example-17" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb38"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1"></a><span class="ex">getScriptCopyright</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb39"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1"></a><span class="bu">echo</span> <span class="st">&quot;Copyright: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setscriptcopyright-copyrightdescription" class="level3 function">
<h3>setScriptCopyright <code>copyrightDescription</code></h3>
<p>Sets the script copyright message.</p>
<section id="parameters-16" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>copyrightDescription</code></dt>
<dd>The copyright message.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-18" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb40"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1"></a><span class="ex">setScriptCopyright</span> <span class="st">&quot;2018-today Acme Inc.&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="getscriptdescription" class="level3 function">
<h3>getScriptDescription</h3>
<p>Retrieves the script description.</p>
<p>Returns 0/TRUE always.</p>
<p>The variable RESULT contains the script description.</p>
<section id="usage-example-19" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb41"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1"></a><span class="ex">getScriptDescription</span><span class="kw">;</span> <span class="bu">echo</span> <span class="st">&quot;description: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setscriptdescription-description" class="level3 function">
<h3>setScriptDescription <code>description</code></h3>
<p>Defines the script description.</p>
<section id="parameters-17" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>description</code></dt>
<dd>The description.
</dd>
</dl>
<p>Returns 0/TRUE in any case.</p>
</section>
<section id="usage-example-20" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb42"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1"></a><span class="ex">setScriptDescription</span> <span class="st">&quot;This script calculates fibonacci sequence items&quot;</span></span></code></pre></div>
</section>
</section>
<section id="getscriptlicensesummary" class="level3 function">
<h3>getScriptLicenseSummary</h3>
<p>Retrieves the script license summary.</p>
<p>Returns 0/TRUE always.</p>
<p>The variable RESULT contains the license summary.</p>
<section id="usage-example-21" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb43"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1"></a><span class="ex">getScriptLicenseSummary</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb44"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1"></a><span class="bu">echo</span> <span class="st">&quot;License summary: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setscriptlicensesummary-license" class="level3 function">
<h3>setScriptLicenseSummary <code>license</code></h3>
<p>Sets the script license summary.</p>
<section id="parameters-18" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>license</code></dt>
<dd>The license message.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-22" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb45"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1"></a><span class="ex">setScriptLicenseSummary</span> <span class="st">&quot;Distributed this under the GNU General Public License v3.&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="addcommandlineflag-longname-shortname-description-mandatoryoptional-expects_argumentno_argument-defaultvalue" class="level3 function">
<h3>addCommandLineFlag <code>longName</code> <code>shortName</code> <code>description</code> <code>MANDATORY|OPTIONAL</code> <code>EXPECTS_ARGUMENT|NO_ARGUMENT</code> <code>defaultValue?</code></h3>
<p>Adds a command-line flag.</p>
<section id="parameters-19" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>longName</code></dt>
<dd>The long name of the flag.
</dd>
<dt><code>shortName</code></dt>
<dd>The short name of the flag.
</dd>
<dt><code>description</code></dt>
<dd>The flag description.
</dd>
<dt><code>MANDATORY|OPTIONAL</code></dt>
<dd>MANDATORY if the flag is mandatory; OPTIONAL otherwise.
</dd>
<dt><code>EXPECTS_ARGUMENT|NO_ARGUMENT</code></dt>
<dd>EXPECTS_ARGUMENT if the flag contains a value; NO_ARGUMENT otherwise.
</dd>
<dt><code>defaultValue</code></dt>
<dd>The default value (if the flag is optional).
</dd>
</dl>
<p>Returns 0/TRUE if the flag is added successfully; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-23" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb46"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1"></a><span class="kw">if</span> <span class="ex">addCommandLineFlag</span> <span class="st">&quot;file&quot;</span> <span class="st">&quot;f&quot;</span> <span class="st">&quot;The file to read&quot;</span> MANDATORY EXPECTS_ARGUMENT <span class="st">&quot;/tmp/file.log&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb47"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1"></a>  <span class="bu">echo</span> <span class="st">&quot;-f|--file flag added&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb48"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="addcommandlineparameter-paramname-paramdescription-mandatoryoptional-singlemultiple" class="level3 function">
<h3>addCommandLineParameter <code>paramName</code> <code>paramDescription</code> <code>MANDATORY|OPTIONAL</code> <code>SINGLE|MULTIPLE</code></h3>
<p>Declares the script expects another command-line parameter.</p>
<section id="parameters-20" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>paramName</code></dt>
<dd>The parameter name.
</dd>
<dt><code>paramDescription</code></dt>
<dd>The parameter description.
</dd>
<dt><code>MANDATORY|OPTIONAL</code></dt>
<dd>MANDATORY if the parameter is mandatory; OPTIONAL otherwise.
</dd>
<dt><code>SINGLE|MULTIPLE</code></dt>
<dd>SINGLE if the parameter can not be repeated; MULTIPLE otherwise.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-24" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb49"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb49-1"><a href="#cb49-1"></a><span class="ex">addCommandLineParameter</span> <span class="st">&quot;project&quot;</span> <span class="st">&quot;The project to process&quot;</span> MANDATORY SINGLE<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="flagenabled-flagname" class="level3 function">
<h3>flagEnabled <code>flagName</code></h3>
<p>Checks whether a given flag is enabled.</p>
<section id="parameters-21" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>flagName</code></dt>
<dd>the name of the flag variable.
</dd>
</dl>
<p>Returns 0/TRUE if the flag is enabled, 1/FALSE otherwise.</p>
</section>
<section id="usage-example-25" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb50"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1"></a><span class="kw">if</span> <span class="ex">flagEnabled</span> MY_FLAG<span class="kw">;</span> <span class="kw">then</span> <span class="ex">...</span></span></code></pre></div>
</section>
</section>
<section id="removecommandlineflag-shortorlongname" class="level3 function">
<h3>removeCommandLineFlag <code>shortOrLongName</code></h3>
<p>Removes a command-line flag.</p>
<section id="parameters-22" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>shortOrLongName</code></dt>
<dd>The flag (either short or long name).
</dd>
</dl>
<p>Returns 0/TRUE if the flag is removed successfully; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-26" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb51"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb51-1"><a href="#cb51-1"></a><span class="kw">if</span> <span class="ex">removeCommandLineFlag</span> <span class="st">&quot;--file&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb52"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1"></a>  <span class="bu">echo</span> <span class="st">&quot;--file flag removed&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb53"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb53-1"><a href="#cb53-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="printhelp" class="level3 function">
<h3>printHelp</h3>
<p>Prints the help message.</p>
<p>Returns 0/TRUE always.</p>
<section id="usage-example-27" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb54"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb54-1"><a href="#cb54-1"></a><span class="ex">printHelp</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="printusage" class="level3 function">
<h3>printUsage</h3>
<p>Prints the usage message.</p>
<p>Returns 0/TRUE always.</p>
<section id="usage-example-28" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb55"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb55-1"><a href="#cb55-1"></a><span class="ex">printUsage</span><span class="kw">;</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-color" class="level1">
<h1>API Reference (color)</h1>
<section id="color" class="level2 module">
<h2>color</h2>
<p>Functions to create color constants.</p>
<section id="getsuccesscolor" class="level3 function">
<h3>getSuccessColor</h3>
<p>Retrieves the color used to represent success.</p>
<p>Returns 0/TRUE always.</p>
<p>The RESULT variable contains the color.</p>
<section id="usage-example-29" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb56"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb56-1"><a href="#cb56-1"></a><span class="ex">getSuccessColor</span><span class="kw">;</span> <span class="bu">echo</span> <span class="st">&quot;success color: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setsuccesscolor-color" class="level3 function">
<h3>setSuccessColor <code>color</code></h3>
<p>Specifies the color to use to represent success.</p>
<section id="parameters-23" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>color</code></dt>
<dd>The color for success.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-30" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb57"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb57-1"><a href="#cb57-1"></a><span class="ex">setSuccessColor</span> GREEN<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="getfailurecolor" class="level3 function">
<h3>getFailureColor</h3>
<p>Retrieves the color used to represent failure.</p>
<p>Returns 0/TRUE always.</p>
<p>The RESULT variable contains the color.</p>
<section id="usage-example-31" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb58"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb58-1"><a href="#cb58-1"></a><span class="ex">getFailureColor</span><span class="kw">;</span> <span class="bu">echo</span> <span class="st">&quot;failure color: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setfailurecolor-color" class="level3 function">
<h3>setFailureColor <code>color</code></h3>
<p>Specifies the color to use to represent failure.</p>
<section id="parameters-24" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>color</code></dt>
<dd>The color to use.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-32" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb59"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb59-1"><a href="#cb59-1"></a><span class="ex">setFailureColor</span> RED<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="getneutralcolor" class="level3 function">
<h3>getNeutralColor</h3>
<p>Retrieves the color used to represent neutral.</p>
<p>Returns 0/TRUE always.</p>
<p>The RESULT variable contains the color.</p>
<section id="usage-example-33" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb60"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb60-1"><a href="#cb60-1"></a><span class="ex">getNeutralColor</span><span class="kw">;</span> <span class="bu">echo</span> <span class="st">&quot;neutral color: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setneutralcolor-color" class="level3 function">
<h3>setNeutralColor <code>color</code></h3>
<p>Specifies the color to use to represent neutral.</p>
<section id="parameters-25" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>color</code></dt>
<dd>The color for neutral.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-34" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb61"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb61-1"><a href="#cb61-1"></a><span class="ex">setNeutralColor</span> GREEN<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="getinprogresscolor" class="level3 function">
<h3>getInProgressColor</h3>
<p>Retrieves the color used to represent in-progress tasks.</p>
<p>Returns 0/TRUE always.</p>
<p>The RESULT variable contains the color.</p>
<section id="usage-example-35" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb62"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb62-1"><a href="#cb62-1"></a><span class="ex">getInProgressColor</span><span class="kw">;</span> <span class="bu">echo</span> <span class="st">&quot;In-progress color: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setinprogresscolor-color" class="level3 function">
<h3>setInProgressColor <code>color</code></h3>
<p>Specifies the color used to represent in-progress tasks.</p>
<section id="parameters-26" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>color</code></dt>
<dd>The color to use.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-36" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb63"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb63-1"><a href="#cb63-1"></a><span class="ex">setInProgressColor</span> YELLOW<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="getnocolor" class="level3 function">
<h3>getNoColor</h3>
<p>Retrieves the value to use when we don’t want to use colored logging.</p>
<p>Returns 0/TRUE always.</p>
<p>The RESULT variable contains the value for no color.</p>
<section id="usage-example-37" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb64"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb64-1"><a href="#cb64-1"></a><span class="ex">getNoColor</span><span class="kw">;</span> <span class="bu">echo</span> <span class="st">&quot;No color: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="getnocolorvariablename" class="level3 function">
<h3>getNoColorVariableName</h3>
<p>Retrieves the name of the variable containing the value to use when we don’t want to use colored logging.</p>
<p>Returns 0/TRUE always.</p>
<p>The RESULT variable contains the value for no color.</p>
<section id="usage-example-38" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb65"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb65-1"><a href="#cb65-1"></a><span class="ex">getNoColor</span><span class="kw">;</span> <span class="bu">echo</span> <span class="st">&quot;No color: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setnocolor-color" class="level3 function">
<h3>setNoColor <code>color</code></h3>
<p>Specifies the value to use when we don’t want to use colored logging.</p>
<section id="parameters-27" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>color</code></dt>
<dd>The name of the color for no-colored texts.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-39" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb66"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb66-1"><a href="#cb66-1"></a><span class="ex">setNoColor</span> GRAY<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="buildcolor-name-foreground-background" class="level3 function">
<h3>buildColor <code>name</code> <code>foreground</code> <code>background</code></h3>
<p>Builds a new color.</p>
<section id="parameters-28" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>name</code></dt>
<dd>The color name.
</dd>
<dt><code>foreground</code></dt>
<dd>The foreground value.
</dd>
<dt><code>background</code></dt>
<dd>The background value.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
<p>Exports <a href="#color">COLOR</a>_FG, <a href="#color">COLOR</a><em>BG, LIGHT</em><a href="#color">COLOR</a><em>FG, UNDERSCORE</em><a href="#color">COLOR</a><em>FG, BLINK</em><a href="#color">COLOR</a><em>FG and CONCEALED</em><a href="#color">COLOR</a>_FG variables.</p>
</section>
<section id="usage-example-40" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb67"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb67-1"><a href="#cb67-1"></a><span class="ex">buildColor</span> <span class="st">&quot;GREEN&quot;</span> <span class="st">&quot;32&quot;</span> <span class="st">&quot;42&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="allowscolors" class="level3 function">
<h3>allowsColors</h3>
<p>Checks whether the terminal allows colors or not. If the variable ENABLE_COLOR is ${FALSE}, colors are disabled.</p>
<p>Returns 0/TRUE if the terminal supports colors and ENABLE_COLOR is ${TRUE}; 1/FALSE otherwise.</p>
<section id="usage-example-41" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb68"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb68-1"><a href="#cb68-1"></a><span class="kw">if</span> <span class="ex">allowsColors</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb69"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb69-1"><a href="#cb69-1"></a>  <span class="ex">...</span></span></code></pre></div>
<div class="sourceCode" id="cb70"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb70-1"><a href="#cb70-1"></a><span class="kw">fi</span></span>
<span id="cb70-2"><a href="#cb70-2"></a>    <span class="fu">env</span> <span class="kw">|</span> <span class="fu">grep</span> -e <span class="st">&#39;^_=&#39;</span> <span class="kw">|</span> <span class="fu">grep</span> env <span class="op">&gt;</span> /dev/null <span class="op">2&gt;&amp;1</span><span class="kw">;</span></span>
<span id="cb70-3"><a href="#cb70-3"></a>    <span class="kw">if</span> <span class="ex">isTrue</span> <span class="va">$?</span><span class="kw">;</span> <span class="kw">then</span></span>
<span id="cb70-4"><a href="#cb70-4"></a>    <span class="kw">else</span></span>
<span id="cb70-5"><a href="#cb70-5"></a>      <span class="va">_rescode=${FALSE}</span>;</span>
<span id="cb70-6"><a href="#cb70-6"></a>    <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="getcolorescapecode-name-defaultcolor" class="level3 function">
<h3>getColorEscapeCode <code>name</code> <code>defaultColor?</code></h3>
<p>Retrieves the color for given name.</p>
<section id="parameters-29" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>name</code></dt>
<dd>The color name.
</dd>
<dt><code>defaultColor</code></dt>
<dd>The fallback color. Optional.
</dd>
</dl>
<p>Returns 0/TRUE if the color is defined; 1/FALSE otherwise.</p>
<p>The variable RESULT contains the color value, or the default if not defined.</p>
</section>
<section id="usage-example-42" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb71"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb71-1"><a href="#cb71-1"></a><span class="ex">getColorEscapeCode</span> RED<span class="kw">;</span></span>
<span id="cb71-2"><a href="#cb71-2"></a><span class="ex">exitWithErrorCode</span> INTERNAL_ERROR <span class="st">&quot;Error getting color </span><span class="va">${_colorSymbol}</span><span class="st"> (variable: </span><span class="va">${_colorVariableName}</span><span class="st">) (default: </span><span class="va">${_defaultColorVariableName}</span><span class="st">)&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="resetcolor" class="level3 function">
<h3>resetColor</h3>
<p>Resets the color for future calls to “echo”.</p>
<p>Returns 0/TRUE always.</p>
<section id="usage-example-43" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb72"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb72-1"><a href="#cb72-1"></a><span class="ex">resetColor</span><span class="kw">;</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-command" class="level1">
<h1>API Reference (command)</h1>
<section id="command" class="level2 module">
<h2>command</h2>
<p>Functions to run external commands.</p>
<section id="runcommand-command" class="level3 function">
<h3>runCommand <code>command</code></h3>
<p>Runs a command supporting logging of command-line and output.</p>
<section id="parameters-30" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>command</code></dt>
<dd>The command to run.
</dd>
</dl>
<p>Returns the result of the command.</p>
<p>The output is stored in the variable RESULT. If it’s expected to be longer use ‘runCommandLongOutput’ instead.</p>
</section>
<section id="usage-example-44" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb73"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb73-1"><a href="#cb73-1"></a><span class="kw">if</span> <span class="ex">runCommand</span> <span class="st">&quot;nmap -Pn&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb74"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb74-1"><a href="#cb74-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb75"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb75-1"><a href="#cb75-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="runcommandasuidgid-uid-gid-folder-command" class="level3 function">
<h3>runCommandAsUidGid <code>uid</code> <code>gid</code> <code>folder</code> <code>command+</code></h3>
<p>Runs a command in a folder, under a given user.</p>
<section id="parameters-31" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>uid</code></dt>
<dd>The user id.
</dd>
<dt><code>gid</code></dt>
<dd>The group id.
</dd>
<dt><code>folder</code></dt>
<dd>the folder.
</dd>
<dt><code>command</code></dt>
<dd>the command.
</dd>
</dl>
<p>Returns the result of the command.</p>
</section>
<section id="usage-example-45" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb76"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb76-1"><a href="#cb76-1"></a><span class="kw">if</span> <span class="ex">runCommandAsUidGid</span> 1000 100 /tmp <span class="st">&quot;ls -ltrhia&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb77"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb77-1"><a href="#cb77-1"></a>  <span class="bu">echo</span> <span class="st">&quot;ls -ltrhia run successfully as uid 1000, gid 100, on /tmp&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb78"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb78-1"><a href="#cb78-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="runcommandasuserandgroup-user-group-folder-command" class="level3 function">
<h3>runCommandAsUserAndGroup <code>user</code> <code>group</code> <code>folder</code> <code>command+</code></h3>
<p>Runs the command in a folder, under a given user.</p>
<section id="parameters-32" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>user</code></dt>
<dd>The user.
</dd>
<dt><code>group</code></dt>
<dd>The group.
</dd>
<dt><code>folder</code></dt>
<dd>the folder.
</dd>
<dt><code>command</code></dt>
<dd>the command.
</dd>
</dl>
<p>Returns the result of the command.</p>
</section>
<section id="usage-example-46" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb79"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb79-1"><a href="#cb79-1"></a><span class="kw">if</span> <span class="ex">runCommandAsUserAndGroup</span> root root /tmp <span class="st">&quot;ls -ltrhia&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb80"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb80-1"><a href="#cb80-1"></a>  <span class="bu">echo</span> <span class="st">&quot;ls -ltrhia run successfully as root/root, on /tmp&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb81"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb81-1"><a href="#cb81-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="runcommandlongoutput-command" class="level3 function">
<h3>runCommandLongOutput <code>command</code></h3>
<p>Runs a command supporting logging of command-line and output, even if it’s long, since it uses a temporary file to store it.</p>
<section id="parameters-33" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>command</code></dt>
<dd>The command to run.
</dd>
</dl>
<p>Returns the result of the command.</p>
</section>
<section id="usage-example-47" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb82"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb82-1"><a href="#cb82-1"></a><span class="kw">if</span> <span class="ex">runCommandLongOutput</span> <span class="st">&quot;nmap -Pn&quot;</span><span class="kw">;</span> <span class="kw">then</span> <span class="ex">...</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-constant" class="level1">
<h1>API Reference (constant)</h1>
<section id="constant" class="level2 module">
<h2>constant</h2>
<p>Functions related to constants.</p>
<section id="evalconstant-constantname-default" class="level3 function">
<h3>evalConstant <code>constantName</code> <code>default</code></h3>
<p>Retrieves the value of a constant.</p>
<section id="parameters-34" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>constantName</code></dt>
<dd>The constant name.
</dd>
<dt><code>default</code></dt>
<dd>The default.
</dd>
</dl>
<p>Returns 0/TRUE if the constant could be evaluated; 1/FALSE otherwise.</p>
<p>The variable RESULT contains the constant value.</p>
</section>
<section id="usage-example-48" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb83"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb83-1"><a href="#cb83-1"></a><span class="va">OTHERVAR=</span><span class="st">&quot;works&quot;</span> <span class="va">MYVAR=</span><span class="st">&quot;OTHERVAR&quot;</span> <span class="ex">evalConstant</span> <span class="st">&quot;</span><span class="va">${MYVAR}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb84"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb84-1"><a href="#cb84-1"></a><span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${MYVAR}</span><span class="st">-&gt;</span><span class="va">${RESULT}</span><span class="st">&quot;</span> <span class="co"># OTHERVAR-&gt;works</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-date" class="level1">
<h1>API Reference (date)</h1>
<section id="date" class="level2 module">
<h2>date</h2>
<p>Functions to parse and format dates.</p>
<section id="date2jd-year-month-day" class="level3 function">
<h3>date2jd <code>year</code> <code>month</code> <code>day</code></h3>
<p>Converts given formatted date to a day-based one.</p>
<section id="parameters-35" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>year</code></dt>
<dd>The year.
</dd>
<dt><code>month</code></dt>
<dd>The month.
</dd>
<dt><code>day</code></dt>
<dd>The day.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
<p>The variable RESULT contains the day-based timestamp.</p>
</section>
<section id="usage-example-49" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb85"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb85-1"><a href="#cb85-1"></a><span class="ex">date2jd</span> 2019 6 2</span></code></pre></div>
</section>
</section>
<section id="date2jds-year-month-day-hour-minute-second" class="level3 function">
<h3>date2jds <code>year</code> <code>month</code> <code>day</code> <code>hour</code> <code>minute</code> <code>second</code></h3>
<p>Converts given formatted date to a second-based one.</p>
<section id="parameters-36" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>year</code></dt>
<dd>The year.
</dd>
<dt><code>month</code></dt>
<dd>The month.
</dd>
<dt><code>day</code></dt>
<dd>The day.
</dd>
<dt><code>hour</code></dt>
<dd>The hour.
</dd>
<dt><code>minute</code></dt>
<dd>The minute.
</dd>
<dt><code>second</code></dt>
<dd>The second.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
<p>The variable RESULT contains the number of seconds.</p>
</section>
<section id="usage-example-50" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb86"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb86-1"><a href="#cb86-1"></a><span class="ex">date2jjds</span> 2019 6 2 18 13 56</span></code></pre></div>
</section>
</section>
<section id="jd2date-date" class="level3 function">
<h3>jd2date <code>date</code></h3>
<p>Converts given date (in days) to a formatted date.</p>
<section id="parameters-37" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>date</code></dt>
<dd>The day-based timestamp.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
<p>The variable RESULT contains “year month day”</p>
</section>
<section id="usage-example-51" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb87"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb87-1"><a href="#cb87-1"></a><span class="ex">jd2date</span> 135353</span></code></pre></div>
</section>
</section>
<section id="jds2date-timestamp" class="level3 function">
<h3>jds2date <code>timestamp</code></h3>
<p>Converts given date (in seconds) to a formatted date.</p>
<section id="parameters-38" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>timestamp</code></dt>
<dd>The timestamp, in seconds.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
<p>The variable RESULT contains “days hour minute second”.</p>
</section>
<section id="usage-example-52" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb88"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb88-1"><a href="#cb88-1"></a><span class="ex">jds2date</span> 112412542444</span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-debug" class="level1">
<h1>API Reference (debug)</h1>
<section id="debug" class="level2 module">
<h2>debug</h2>
<p>Functions to help while debugging scripts.</p>
<section id="debugarray-arrayname" class="level3 function">
<h3>debugArray <code>arrayName</code></h3>
<p>Prints the contents of given array.</p>
<section id="parameters-39" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>arrayName</code></dt>
<dd>The name of the array.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-53" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb89"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb89-1"><a href="#cb89-1"></a><span class="va">A=(</span> <span class="st">&quot;1&quot;</span> <span class="st">&quot;2&quot;</span> <span class="st">&quot;3&quot;</span> <span class="va">)</span>;</span></code></pre></div>
<div class="sourceCode" id="cb90"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb90-1"><a href="#cb90-1"></a><span class="ex">debugArray</span> <span class="st">&quot;</span><span class="va">${A}</span><span class="st">&quot;</span></span></code></pre></div>
</section>
</section>
<section id="debugassociativearray-arrayname" class="level3 function">
<h3>debugAssociativeArray <code>arrayName</code></h3>
<p>Prints the contents of given associative array.</p>
<section id="parameters-40" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>arrayName</code></dt>
<dd>The name of the associative array.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-54" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb91"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb91-1"><a href="#cb91-1"></a><span class="va">A=(</span> <span class="va">[foo]=</span>bar <span class="va">[other key]=</span><span class="st">&quot;other value&quot;</span> <span class="va">)</span>;</span></code></pre></div>
<div class="sourceCode" id="cb92"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb92-1"><a href="#cb92-1"></a><span class="ex">debugArray</span> <span class="st">&quot;</span><span class="va">${A}</span><span class="st">&quot;</span></span></code></pre></div>
</section>
</section>
<section id="debugassociativearrayentry-key-value" class="level3 function">
<h3>debugAssociativeArrayEntry <code>key</code> <code>value</code></h3>
<p>Callback to be called to debug a specific entry in an associative array.</p>
<section id="parameters-41" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>key</code></dt>
<dd>The entry key. Mandatory.
</dd>
<dt><code>value</code></dt>
<dd>The entry value. Could be empty.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-55" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb93"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb93-1"><a href="#cb93-1"></a><span class="ex">forEachAssociativeArrayEntryDo</span> MY_ASSOCIATIVE_ARRAY debugAssociativeArrayEntry<span class="kw">;</span> <span class="kw">done</span></span></code></pre></div>
</section>
</section>
<section id="debugecho-message" class="level3 function">
<h3>debugEcho <code>message</code></h3>
<p>Echoes a line to the debug log file. Useful for locating them easily when debugging.</p>
<section id="parameters-42" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>message</code></dt>
<dd>The message to print.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-56" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb94"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb94-1"><a href="#cb94-1"></a><span class="ex">debugEcho</span> <span class="st">&quot;message&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="debugvariable-varname-varvalue" class="level3 function">
<h3>debugVariable <code>varName</code> <code>varValue+</code></h3>
<p>Tries to declare a variable with given arguments.</p>
<section id="parameters-43" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>varName</code></dt>
<dd>The variable name.
</dd>
<dt><code>varValue</code></dt>
<dd>The variable value(s).
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-57" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb95"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb95-1"><a href="#cb95-1"></a><span class="ex">debugVariable</span> <span class="st">&quot;foo&quot;</span> <span class="st">&quot;bar&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="isdebugechoenabled" class="level3 function">
<h3>isDebugEchoEnabled</h3>
<p>Retrieves whether “debugEcho” is enabled.</p>
<p>Returns 0/TRUE if it’s enabled; 1/FALSE otherwise.</p>
<section id="usage-example-58" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb96"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb96-1"><a href="#cb96-1"></a><span class="kw">if</span> <span class="ex">isDebugEchoEnabled</span><span class="kw">;</span> <span class="kw">then</span> <span class="ex">...</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="setdebugechoenabled-bool" class="level3 function">
<h3>setDebugEchoEnabled <code>bool</code></h3>
<p>Specifies whether “debugEcho” is enabled.</p>
<section id="parameters-44" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>bool</code></dt>
<dd>That condition.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-59" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb97"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb97-1"><a href="#cb97-1"></a><span class="ex">setDebugEchoEnabled</span> TRUE<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setdebuglogfile-filename" class="level3 function">
<h3>setDebugLogFile <code>fileName</code></h3>
<p>Specifies the log file for debugging purposes.</p>
<section id="parameters-45" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>fileName</code></dt>
<dd>The log file.
</dd>
</dl>
<p>Returns 0/TRUE if the log file can be used for writing; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-60" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb98"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb98-1"><a href="#cb98-1"></a><span class="ex">setDebugLogFile</span> <span class="st">&quot;/tmp/.dw-debug.log&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="traceapicall" class="level3 function">
<h3>traceApiCall</h3>
<p>Traces the API call to the default log file using in development.</p>
<p>Returns 0/TRUE always.</p>
<section id="usage-example-61" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb99"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb99-1"><a href="#cb99-1"></a><span class="ex">traceApiCall</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="printapicall-parentargs" class="level3 function">
<h3>printApiCall <code>parentArgs*</code></h3>
<p>Prints the API call to the default log file using in development.</p>
<p>parentArgs: The arguments passed to the parent function. Optional.</p>
<p>Returns 0/TRUE always.</p>
<section id="usage-example-62" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb100"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb100-1"><a href="#cb100-1"></a><span class="ex">printApiCall</span> <span class="va">$*</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="debugduration-command" class="level3 function">
<h3>debugDuration <code>command*</code></h3>
<p>Runs a function or a command and prints the elapsed time in the debug log.</p>
<section id="parameters-46" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>command*</code></dt>
<dd>The command or function.
</dd>
</dl>
<p>Returns whatever the command or function does return.</p>
</section>
<section id="usage-example-63" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb101"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb101-1"><a href="#cb101-1"></a><span class="ex">debugDuration</span> ls -l /</span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-dw-plumbing" class="level1">
<h1>API Reference (dw-plumbing)</h1>
<section id="dw-plumbing" class="level2 module">
<h2>dw-plumbing</h2>
<p>Functions internal to dry-wit</p>
<section id="environment-variables-1" class="level4">
<h4>Environment variables</h4>
<dl>
<dt><code>MANDATORY</code></dt>
<dd>Represents mandatory parameters.
</dd>
<dt><code>OPTIONAL</code></dt>
<dd>Represents optional parameters.
</dd>
</dl>
</section>
<section id="checkreq-dependency-errorcode" class="level3 function">
<h3>checkReq <code>dependency</code> <code>errorCode?</code></h3>
<p>Performs the checks for a required dependency.</p>
<section id="parameters-47" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>dependency</code></dt>
<dd>The dependency.
</dd>
<dt><code>errorCode</code></dt>
<dd>The error code, optional.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-64" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb102"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb102-1"><a href="#cb102-1"></a><span class="ex">checkReq</span> jq<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="cleanup" class="level3 function">
<h3>cleanup</h3>
<p>Cleans up temporary resources.</p>
<p>Returns 0/TRUE always.</p>
<section id="usage-example-65" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb103"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb103-1"><a href="#cb103-1"></a><span class="ex">cleanup</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="isfunctionmissing-funcname-scriptfile" class="level3 function">
<h3>isFunctionMissing <code>funcName</code> <code>scriptFile?</code></h3>
<p>Checks if given function is missing.</p>
<section id="parameters-48" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>funcName</code></dt>
<dd>The function name.
</dd>
<dt><code>scriptFile</code></dt>
<dd>The script file. Optional.
</dd>
</dl>
<p>Returns 0/TRUE if the function is missing; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-66" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb104"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb104-1"><a href="#cb104-1"></a><span class="kw">if</span> <span class="ex">isFunctionMissing</span> <span class="st">&quot;myFunc&quot;</span> <span class="st">&quot;myScript.sh&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb105"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb105-1"><a href="#cb105-1"></a>  <span class="bu">echo</span> <span class="st">&quot;myFunc is not defined in myScript.sh&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb106"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb106-1"><a href="#cb106-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="isfunctionpresent-funcname-scriptfile" class="level3 function">
<h3>isFunctionPresent <code>funcName</code> <code>scriptFile?</code></h3>
<p>Checks if given function is present.</p>
<section id="parameters-49" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>funcName</code></dt>
<dd>The function name.
</dd>
<dt><code>scriptFile</code></dt>
<dd>The script file. Optional.
</dd>
</dl>
<p>Returns 0/TRUE if the function is found; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-67" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb107"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb107-1"><a href="#cb107-1"></a><span class="kw">if</span> <span class="ex">isFunctionPresent</span> <span class="st">&quot;myFunc&quot;</span> <span class="st">&quot;myScript.sh&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb108"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb108-1"><a href="#cb108-1"></a>  <span class="bu">echo</span> <span class="st">&quot;myFunc is defined in myScript.sh&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb109"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb109-1"><a href="#cb109-1"></a><span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-echo" class="level1">
<h1>API Reference (echo)</h1>
<section id="echo" class="level2 module">
<h2>echo</h2>
<p>Functions related to displaying text to stdout.</p>
<section id="echocolorizedtext-text-keyword-defaultcolorname" class="level3 function">
<h3>echoColorizedText <code>text</code> <code>keyword?</code> <code>defaultColorName?</code></h3>
<p>Echoes given text, colorized.</p>
<section id="parameters-50" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The text to colorize.
</dd>
<dt><code>keyword</code></dt>
<dd>The keyword (0 -&gt; success; 1 -&gt; failure; other -&gt; try to infer from the text). Optional.
</dd>
<dt><code>defaultColorName</code></dt>
<dd>The default color. Optional.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-68" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb110"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb110-1"><a href="#cb110-1"></a><span class="ex">echoColorizeText</span> <span class="st">&quot;done&quot;</span> SUCCESS<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="echocolorizedtextwithcolor--n-colorname-text" class="level3 function">
<h3>echoColorizedTextWithColor <code>[-n]?</code> <code>colorName</code> <code>text</code></h3>
<p>Echoes given text, colorized.</p>
<section id="parameters-51" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>-n</code></dt>
<dd>Whether to include a new line at the end of the text.
</dd>
<dt><code>colorName</code></dt>
<dd>The name of the color.
</dd>
<dt><code>text</code></dt>
<dd>The text to colorize.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-69" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb111"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb111-1"><a href="#cb111-1"></a><span class="ex">echoColorizeTextWithColor</span> WHITE <span class="st">&quot;done&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="echoincolor--n-colorname-text" class="level3 function">
<h3>echoInColor <code>[-n]?</code> <code>colorName</code> <code>text</code></h3>
<p>Prints a text in color.</p>
<section id="parameters-52" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>-n</code></dt>
<dd>Whether to remove the CRLF from the end (optional).
</dd>
<dt><code>colorName</code></dt>
<dd>The name of the color.
</dd>
<dt><code>text</code></dt>
<dd>The text to echo.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-70" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb112"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb112-1"><a href="#cb112-1"></a><span class="ex">echoInColor</span> -n RED <span class="st">&quot;Work in progress&quot;</span><span class="kw">;</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-envvar" class="level1">
<h1>API Reference (envvar)</h1>
<section id="envvar" class="level2 module">
<h2>envvar</h2>
<p>Functions to define and evaluate environment variables.</p>
<p>Using work from: http://fvue.nl/wiki/Bash:_Passing_variables_by_reference</p>
<section id="definebutdonotoverrideenvvar-varname-description-defaultvalue-command" class="level3 function">
<h3>defineButDoNotOverrideEnvVar <code>varName</code> <code>description</code> <code>defaultValue?</code> <code>command?</code></h3>
<p>Defines an environment variable, if it’s not already defined.</p>
<section id="parameters-53" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>varName</code></dt>
<dd>The variable name.
</dd>
<dt><code>description</code></dt>
<dd>The variable description.
</dd>
<dt><code>defaultValue</code></dt>
<dd>The default value. Optional.
</dd>
<dt><code>command</code></dt>
<dd>An optional command to provide the variable value at runtime.
</dd>
</dl>
<p>Returns 0/TRUE if the variable is defined; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-71" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb113"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb113-1"><a href="#cb113-1"></a><span class="kw">if</span> <span class="ex">defineButDoNotOverrideEnvVar</span> <span class="st">&quot;MY_VAR&quot;</span> <span class="st">&quot;MY_VAR is used for this and that&quot;</span> <span class="st">&quot;dummy&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb114"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb114-1"><a href="#cb114-1"></a>  <span class="bu">echo</span> <span class="st">&quot;MY_VAR defined&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb115"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb115-1"><a href="#cb115-1"></a><span class="kw">else</span></span></code></pre></div>
<div class="sourceCode" id="cb116"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb116-1"><a href="#cb116-1"></a>  <span class="bu">echo</span> <span class="st">&quot;MY_VAR already defined. Not overridden&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb117"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb117-1"><a href="#cb117-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="defineenvvar-varname-mandatoryoptional-description-defaultvalue-command" class="level3 function">
<h3>defineEnvVar <code>varName</code> <code>MANDATORY|OPTIONAL</code> <code>description</code> <code>defaultValue?</code> <code>command?</code></h3>
<p>Declares a new environment variable.</p>
<section id="parameters-54" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>varName</code></dt>
<dd>The variable name.
</dd>
<dt><code>MANDATORY|OPTIONAL</code></dt>
<dd>Whether is the variable is mandatory or not.
</dd>
<dt><code>description</code></dt>
<dd>The variable description.
</dd>
<dt><code>defaultValue</code></dt>
<dd>The default value (optional).
</dd>
<dt><code>command</code></dt>
<dd>The command to retrieve the actual value (optional).
</dd>
</dl>
<p>Returns 0/TRUE if a new variable gets defined; 1/FALSE if the variable already existed.</p>
</section>
<section id="usage-example-72" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb118"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb118-1"><a href="#cb118-1"></a><span class="kw">if</span> <span class="ex">defineEnvVar</span> <span class="st">&quot;MY_VAR&quot;</span> MANDATORY <span class="st">&quot;My env var&quot;</span> <span class="st">&quot;foo&quot;</span> <span class="st">&quot;date&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb119"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb119-1"><a href="#cb119-1"></a>  <span class="bu">echo</span> <span class="st">&quot;MY_VAR created&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb120"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb120-1"><a href="#cb120-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="evalenvvars" class="level3 function">
<h3>evalEnvVars</h3>
<p>Resolves the value of all custom environment variables.</p>
<p>Returns 0/TRUE always.</p>
<section id="usage-example-73" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb121"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb121-1"><a href="#cb121-1"></a><span class="ex">evalEnvVars</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="evalvar-varname" class="level3 function">
<h3>evalVar <code>varName</code></h3>
<p>Retrieves the value of given variable.</p>
<section id="parameters-55" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>varName</code></dt>
<dd>The variable name.
</dd>
</dl>
<p>Returns 0/TRUE if the value could be retrieved; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the variable value.</p>
</section>
<section id="usage-example-74" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb122"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb122-1"><a href="#cb122-1"></a><span class="kw">if</span> <span class="ex">evalVar</span> <span class="st">&quot;MY_VAR&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb123"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb123-1"><a href="#cb123-1"></a>  <span class="bu">echo</span> <span class="st">&quot;MY_VAR -&gt; </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb124"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb124-1"><a href="#cb124-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="isenvvardefined-varname" class="level3 function">
<h3>isEnvVarDefined <code>varName</code></h3>
<p>Checks whether giver variable is defined.</p>
<section id="parameters-56" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>varName</code></dt>
<dd>The variable name.
</dd>
</dl>
<p>Returns 0/TRUE if the variable is defined; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-75" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb125"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb125-1"><a href="#cb125-1"></a><span class="kw">if</span> <span class="ex">isEnvVarDefined</span> <span class="st">&quot;MY_VAR&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb126"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb126-1"><a href="#cb126-1"></a>  <span class="bu">echo</span> <span class="st">&quot;MY_VAR is defined already&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb127"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb127-1"><a href="#cb127-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="isenvvarmandatory-varname" class="level3 function">
<h3>isEnvVarMandatory <code>varName</code></h3>
<p>Checks whether given environment variable is mandatory.</p>
<section id="parameters-57" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>varName</code></dt>
<dd>The variable name.
</dd>
</dl>
<p>Returns 0/TRUE if the variable is mandatory; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-76" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb128"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb128-1"><a href="#cb128-1"></a><span class="kw">if</span> <span class="ex">isEnvVarMandatory</span> <span class="st">&quot;MY_VAR&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb129"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb129-1"><a href="#cb129-1"></a>  <span class="bu">echo</span> <span class="st">&quot;MY_VAR is mandatory&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb130"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb130-1"><a href="#cb130-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="isenvvaroptional-varname" class="level3 function">
<h3>isEnvVarOptional <code>varName</code></h3>
<p>Checks whether given environment variable is optional.</p>
<section id="parameters-58" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>varName</code></dt>
<dd>The variable name.
</dd>
</dl>
<p>Returns 0/TRUE if the variable is optional; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-77" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb131"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb131-1"><a href="#cb131-1"></a><span class="kw">if</span> <span class="ex">isEnvVarMandatory</span> <span class="st">&quot;MY_VAR&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb132"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb132-1"><a href="#cb132-1"></a>  <span class="bu">echo</span> <span class="st">&quot;MY_VAR is optional&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb133"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb133-1"><a href="#cb133-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="overrideenvvar-varname-varvalue-description" class="level3 function">
<h3>overrideEnvVar <code>varName</code> <code>varValue?</code> <code>description?</code></h3>
<p>Overrides the value of an environment variable.</p>
<section id="parameters-59" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>varName</code></dt>
<dd>The variable name.
</dd>
<dt><code>varValue</code></dt>
<dd>The variable value.
</dd>
<dt><code>description</code></dt>
<dd>The variable description. Optional.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-78" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb134"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb134-1"><a href="#cb134-1"></a><span class="ex">overrideEnvVar</span> MY_VAR <span class="st">&quot;new-value&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="printenvironment" class="level3 function">
<h3>printEnvironment</h3>
<p>Prints the environment variables.</p>
<p>Returns 0/TRUE always.</p>
<section id="usage-example-79" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb135"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb135-1"><a href="#cb135-1"></a> <span class="ex">printEnvironment</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="retrievecustomenvironmentvariables" class="level3 function">
<h3>retrieveCustomEnvironmentVariables</h3>
<p>Retrieves the custom environment variables.</p>
<p>Returns 0/TRUE always.</p>
<p>The variable RESULT contains the environment variables.</p>
<section id="usage-example-80" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb136"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb136-1"><a href="#cb136-1"></a><span class="ex">retrieveCustomEnvironmentVariables</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb137"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb137-1"><a href="#cb137-1"></a><span class="bu">echo</span> <span class="st">&quot;Custom environment variables: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="upvar-varname-value" class="level3 function">
<h3>upvar <code>varName</code> <code>value+</code></h3>
<p>Assigns a variable one scope above the caller.</p>
<section id="parameters-60" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>varName</code></dt>
<dd>The variable name to assign value to.
</dd>
<dt><code>value</code></dt>
<dd>The value(s) to assign. If multiple values, an array is assigned, otherwise a single value is assigned.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
<p>NOTE: For assigning multiple variables, use ‘upvars’. Do NOT use multiple ‘upvar’ calls, since one ‘upvar’ call might reassign a variable to be used by another ‘upvar’ call.</p>
</section>
<section id="usage-example-81" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb138"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb138-1"><a href="#cb138-1"></a><span class="fu">f()</span> <span class="kw">{</span> <span class="bu">local</span> <span class="va">b</span>; <span class="ex">g</span> b<span class="kw">;</span> <span class="bu">echo</span> <span class="va">$b</span><span class="kw">;</span> <span class="kw">}</span></span></code></pre></div>
<div class="sourceCode" id="cb139"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb139-1"><a href="#cb139-1"></a><span class="fu">g()</span> <span class="kw">{</span> <span class="bu">local</span> <span class="st">&quot;</span><span class="va">$1</span><span class="st">&quot;</span> <span class="kw">&amp;&amp;</span> <span class="ex">upvar</span> <span class="va">$1</span> bar<span class="kw">;</span> <span class="kw">}</span></span></code></pre></div>
<div class="sourceCode" id="cb140"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb140-1"><a href="#cb140-1"></a><span class="ex">f</span>  <span class="co"># Ok: b=bar</span></span></code></pre></div>
</section>
</section>
<section id="upvars--v-varname-value--an-varname-value" class="level3 function">
<h3>upvars <code>[-v</code> <code>varName</code> <code>value]</code> <code>|</code> <code>[-aN</code> <code>varName</code> <code>value+]</code></h3>
<p>Assign variables one scope above the caller</p>
<p>Usage: local varname [varname …] &amp;&amp; upvars [-v varname value] | [-aN varname [value …]] …</p>
<section id="parameters-61" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>-v</code></dt>
<dd>Assign single value to varname.
</dd>
<dt><code>varName</code></dt>
<dd>The name of the variable.
</dd>
<dt><code>-aN</code></dt>
<dd>Assign next N values to varname as array.
</dd>
<dt><code>value</code></dt>
<dd>The value(s) to assign.
</dd>
</dl>
<p>Returns 0/TRUE if the variables are assigned; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-82" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb141"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb141-1"><a href="#cb141-1"></a><span class="fu">f()</span> <span class="kw">{</span> <span class="bu">local</span> <span class="va">a</span> <span class="va">b</span>; <span class="ex">g</span> a b<span class="kw">;</span> <span class="bu">declare</span> -p <span class="va">a</span> <span class="va">b</span>; <span class="kw">}</span></span></code></pre></div>
<div class="sourceCode" id="cb142"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb142-1"><a href="#cb142-1"></a><span class="fu">g()</span> <span class="kw">{</span></span></code></pre></div>
<div class="sourceCode" id="cb143"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb143-1"><a href="#cb143-1"></a>  <span class="bu">local</span> <span class="va">c=(</span> foo bar <span class="va">)</span></span></code></pre></div>
<div class="sourceCode" id="cb144"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb144-1"><a href="#cb144-1"></a>  <span class="bu">local</span> <span class="st">&quot;</span><span class="va">$1</span><span class="st">&quot;</span> <span class="st">&quot;</span><span class="va">$2</span><span class="st">&quot;</span> <span class="kw">&amp;&amp;</span> <span class="ex">upvars</span> -v <span class="va">$1</span> A -a<span class="va">${#c[@]}</span> <span class="va">$2</span> <span class="st">&quot;</span><span class="va">${c[@]}</span><span class="st">&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb145"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb145-1"><a href="#cb145-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb146"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb146-1"><a href="#cb146-1"></a><span class="ex">f</span>  <span class="co"># Ok: a=A, b=(foo bar)</span></span></code></pre></div>
</section>
</section>
<section id="evalenvvar-varname" class="level3 function">
<h3>evalEnvVar <code>varName</code></h3>
<p>Evaluates given environment variable.</p>
<section id="parameters-62" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>varName</code></dt>
<dd>the variable name.
</dd>
</dl>
<p>Returns 0/TRUE if the environment variable is evaluated successfully; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-83" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb147"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb147-1"><a href="#cb147-1"></a><span class="kw">if</span> <span class="ex">evalEnvVar</span> <span class="st">&quot;MY_VAR&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb148"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb148-1"><a href="#cb148-1"></a>  <span class="bu">echo</span> <span class="st">&quot;MY_VAR -&gt; </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb149"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb149-1"><a href="#cb149-1"></a><span class="kw">fi</span></span>
<span id="cb149-2"><a href="#cb149-2"></a><span class="bu">echo</span> -n <span class="st">&quot;Evaluating </span><span class="va">${_varName}</span><span class="st">_DEFAULT_COMMAND -&gt; &quot;</span><span class="kw">;</span></span>
<span id="cb149-3"><a href="#cb149-3"></a><span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${_defaultCommand}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="extractkeyinpair-tuple" class="level3 function">
<h3>extractKeyInPair <code>tuple</code></h3>
<p>Given a key=value, it extracts the key.</p>
<section id="parameters-63" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>tuple</code></dt>
<dd>The pair.
</dd>
</dl>
<p>Returns 0/TRUE if the key could be extracted; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-84" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb150"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb150-1"><a href="#cb150-1"></a><span class="kw">if</span> <span class="ex">extractKeyInPair</span> <span class="st">&quot;a=b&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb151"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb151-1"><a href="#cb151-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Key: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb152"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb152-1"><a href="#cb152-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="extractvalueinpair-tuple" class="level3 function">
<h3>extractValueInPair <code>tuple</code></h3>
<p>Given a key=value, it extracts the value.</p>
<section id="parameters-64" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>tuple</code></dt>
<dd>The pair.
</dd>
</dl>
<p>Returns 0/TRUE if the value could be extracted; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-85" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb153"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb153-1"><a href="#cb153-1"></a><span class="kw">if</span> <span class="ex">extractValueInPair</span> <span class="st">&quot;a=b&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb154"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb154-1"><a href="#cb154-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Value: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb155"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb155-1"><a href="#cb155-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="isvariabledefinedinfile-file-varname" class="level3 function">
<h3>isVariableDefinedInFile <code>file</code> <code>varName</code></h3>
<p>Checks if a variable is defined in given file.</p>
<section id="parameters-65" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file.
</dd>
<dt><code>varName</code></dt>
<dd>The name of the variable.
</dd>
</dl>
<p>Returns 0/TRUE if the variable is defined; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-86" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb156"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb156-1"><a href="#cb156-1"></a><span class="kw">if</span> <span class="ex">isVariableDefinedInFile</span> /tmp/my-script.sh RUN_COMMAND<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb157"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb157-1"><a href="#cb157-1"></a>  <span class="bu">echo</span> <span class="st">&quot;RUN_COMMAND is defined in /tmp/my-script.sh&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb158"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb158-1"><a href="#cb158-1"></a><span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-error" class="level1">
<h1>API Reference (error)</h1>
<section id="error" class="level2 module">
<h2>error</h2>
<p>Functions related to declaring and using errors.</p>
<section id="adderror-label-message" class="level3 function">
<h3>addError <code>label</code> <code>message</code></h3>
<p>Annotates a new error.</p>
<section id="parameters-66" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>label</code></dt>
<dd>The error label.
</dd>
<dt><code>message</code></dt>
<dd>The error message.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-87" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb159"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb159-1"><a href="#cb159-1"></a><span class="ex">addError</span> INVALID_NAME <span class="st">&quot;The name is not valid&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="appenderrormessage-error" class="level3 function">
<h3>appendErrorMessage <code>error</code></h3>
<p>Appends a new error to ERROR_MESSAGES.</p>
<section id="parameters-67" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>error</code></dt>
<dd>The error to add.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-88" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb160"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb160-1"><a href="#cb160-1"></a><span class="ex">appendErrorMessage</span> <span class="st">&quot;item&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="exitwitherror-label-message" class="level3 function">
<h3>exitWithError <code>label</code> <code>message</code></h3>
<p>Exits with an error.</p>
<section id="parameters-68" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>label</code></dt>
<dd>The error label.
</dd>
<dt><code>message</code></dt>
<dd>The error message.
</dd>
</dl>
</section>
<section id="usage-example-89" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb161"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb161-1"><a href="#cb161-1"></a><span class="ex">exitWithError</span> UNKNOWN_OPTION <span class="st">&quot;Unknown option&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="exitwitherrorcode-label" class="level3 function">
<h3>exitWithErrorCode <code>label</code></h3>
<p>Exits with an error code associated with given error label.</p>
<section id="parameters-69" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>label</code></dt>
<dd>The error label.
</dd>
</dl>
</section>
<section id="usage-example-90" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb162"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb162-1"><a href="#cb162-1"></a><span class="ex">exitWithErrorCode</span> UNKNOWN_OPTION<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="iserrordefined-label" class="level3 function">
<h3>isErrorDefined <code>label</code></h3>
<p>Checks whether an error is defined.</p>
<section id="parameters-70" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>label</code></dt>
<dd>The error label.
</dd>
</dl>
<p>0/TRUE if the error is defined; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-91" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb163"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb163-1"><a href="#cb163-1"></a><span class="kw">if</span> <span class="ex">isErrorDefined</span> INVALID_NAME<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb164"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb164-1"><a href="#cb164-1"></a>  <span class="bu">echo</span> <span class="st">&quot;INVALID_NAME already defined&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb165"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb165-1"><a href="#cb165-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="iserrorundefined-label" class="level3 function">
<h3>isErrorUndefined <code>label</code></h3>
<p>Checks whether an error is undefined.</p>
<section id="parameters-71" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>label</code></dt>
<dd>The error label.
</dd>
</dl>
<p>Returns 0/TRUE if the error is undefined; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-92" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb166"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb166-1"><a href="#cb166-1"></a><span class="kw">if</span> <span class="ex">isErrorUndefined</span> INVALID_NAME<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb167"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb167-1"><a href="#cb167-1"></a>  <span class="ex">addError</span> INVALID_NAME <span class="st">&quot;The name is not valid&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb168"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb168-1"><a href="#cb168-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="printerrormessage-label" class="level3 function">
<h3>printErrorMessage <code>label</code></h3>
<p>Prints the error message for given label.</p>
<section id="parameters-72" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>label</code></dt>
<dd>The error label.
</dd>
</dl>
<p>Returns 0/TRUE if the error is found and gets printed; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-93" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb169"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb169-1"><a href="#cb169-1"></a><span class="kw">if</span> <span class="ex">printErrorMessage</span> INVALID_OPTION<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb170"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb170-1"><a href="#cb170-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb171"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb171-1"><a href="#cb171-1"></a><span class="kw">fi</span></span>
<span id="cb171-2"><a href="#cb171-2"></a>     <span class="kw">||</span> <span class="ex">startsWith</span> <span class="st">&quot;</span><span class="va">${FUNCNAME[${_callStackIndex}]}</span><span class="st">&quot;</span> <span class="st">&quot;LOGGING.&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
</section>
</section>
<section id="printexitvalues" class="level3 function">
<h3>printExitValues</h3>
<p>Prints the exit values.</p>
<p>Returns 0/TRUE always.</p>
<section id="usage-example-94" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb172"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb172-1"><a href="#cb172-1"></a><span class="ex">printExitValues</span><span class="kw">;</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-file" class="level1">
<h1>API Reference (file)</h1>
<section id="file" class="level2 module">
<h2>file</h2>
<p>Functions dealing with files.</p>
<section id="addfiletocleanup-file" class="level3 function">
<h3>addFileToCleanup <code>file</code></h3>
<p>Annotates a file to be removed.</p>
<section id="parameters-73" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file to delete.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-95" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb173"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb173-1"><a href="#cb173-1"></a><span class="ex">addFileToCleanup</span> <span class="st">&quot;/tmp/my-log.txt&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="createtempfile" class="level3 function">
<h3>createTempFile</h3>
<p>Creates a new temporary file.</p>
<p>Returns 0/TRUE if the file gets created successfully; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the name of the temporary file.</p>
<section id="usage-example-96" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb174"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb174-1"><a href="#cb174-1"></a><span class="kw">if</span> <span class="ex">createTempFile</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb175"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb175-1"><a href="#cb175-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Temp file: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb176"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb176-1"><a href="#cb176-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="folderallowsexec-folder" class="level3 function">
<h3>folderAllowsExec <code>folder</code></h3>
<p>Checks if given folder allows executing files.</p>
<section id="parameters-74" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>folder</code></dt>
<dd>The folder to check.
</dd>
</dl>
<p>Returns 0/TRUE in such case; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-97" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb177"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb177-1"><a href="#cb177-1"></a><span class="kw">if</span> <span class="ex">folderAllowsExec</span> /tmp<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb178"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb178-1"><a href="#cb178-1"></a>  <span class="bu">echo</span> <span class="st">&quot;/tmp does not allow executing files&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb179"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb179-1"><a href="#cb179-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="createtempfilenocleanup" class="level3 function">
<h3>createTempFileNoCleanup</h3>
<p>Creates a new temporary file, without managing its cleanup.</p>
<p>Returns 0/TRUE if the file gets created successfully; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the name of the temporary file.</p>
<section id="usage-example-98" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb180"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb180-1"><a href="#cb180-1"></a><span class="kw">if</span> <span class="ex">createTempFileNoCleanup</span><span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;Temp file: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="createtempfolder-parent-prefix" class="level3 function">
<h3>createTempFolder <code>parent?</code> <code>prefix?</code></h3>
<p>Creates a temporary folder.</p>
<section id="parameters-75" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>parent</code></dt>
<dd>The parent folder. Optional.
</dd>
<dt><code>prefix</code></dt>
<dd>The folder name prefix. Optional.
</dd>
</dl>
<p>Returns 0/TRUE if the folder gets created successfully; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the new folder.</p>
</section>
<section id="usage-example-99" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb181"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb181-1"><a href="#cb181-1"></a><span class="kw">if</span> <span class="ex">createTempFolder</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb182"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb182-1"><a href="#cb182-1"></a>  <span class="bu">echo</span> <span class="st">&quot;New folder: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb183"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb183-1"><a href="#cb183-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="fileexists-file" class="level3 function">
<h3>fileExists <code>file</code></h3>
<p>Checks if given file exists.</p>
<section id="parameters-76" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file to check.
</dd>
</dl>
<p>Returns 0/TRUE if the file exists; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-100" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb184"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb184-1"><a href="#cb184-1"></a><span class="kw">if</span> <span class="ex">fileExists</span> <span class="st">&quot;/tmp/test.txt&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb185"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb185-1"><a href="#cb185-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb186"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb186-1"><a href="#cb186-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="folderexists-folder" class="level3 function">
<h3>folderExists <code>folder</code></h3>
<p>Checks if given folder exists.</p>
<section id="parameters-77" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>folder</code></dt>
<dd>The folder to check.
</dd>
</dl>
<p>Returns 0/TRUE if the folder exists; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-101" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb187"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb187-1"><a href="#cb187-1"></a><span class="kw">if</span> <span class="ex">folderExists</span> <span class="st">&quot;/tmp&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb188"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb188-1"><a href="#cb188-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb189"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb189-1"><a href="#cb189-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="fileisnotempty-file" class="level3 function">
<h3>fileIsNotEmpty <code>file</code></h3>
<p>Checks if given file is not empty.</p>
<section id="parameters-78" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file to check.
</dd>
</dl>
<p>Returns 0/TRUE if the file is not empty; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-102" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb190"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb190-1"><a href="#cb190-1"></a><span class="kw">if</span> <span class="ex">fileIsNotEmpty</span> <span class="st">&quot;/tmp/test.txt&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb191"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb191-1"><a href="#cb191-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb192"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb192-1"><a href="#cb192-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="fileisreadable-file" class="level3 function">
<h3>fileIsReadable <code>file</code></h3>
<p>Checks if given file is readable.</p>
<section id="parameters-79" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file to check.
</dd>
</dl>
<p>Returns 0/TRUE if the file is readable; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-103" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb193"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb193-1"><a href="#cb193-1"></a><span class="kw">if</span> <span class="ex">fileIsReadable</span> <span class="st">&quot;/tmp/test.txt&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb194"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb194-1"><a href="#cb194-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb195"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb195-1"><a href="#cb195-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="fileisregularfile-file" class="level3 function">
<h3>fileIsRegularFile <code>file</code></h3>
<p>Checks if given file is a regular file.</p>
<section id="parameters-80" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file to check.
</dd>
</dl>
<p>Returns 0/TRUE if the file is a regular file; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-104" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb196"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb196-1"><a href="#cb196-1"></a><span class="kw">if</span> <span class="ex">fileIsRegularFile</span> <span class="st">&quot;/tmp/test.txt&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb197"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb197-1"><a href="#cb197-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb198"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb198-1"><a href="#cb198-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="fileiswritable-file" class="level3 function">
<h3>fileIsWritable <code>file</code></h3>
<p>Checks if given file is writable.</p>
<section id="parameters-81" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file to check.
</dd>
</dl>
<p>Returns 0/TRUE if the file is writable; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-105" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb199"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb199-1"><a href="#cb199-1"></a><span class="kw">if</span> <span class="ex">fileIsWritable</span> <span class="st">&quot;/tmp/test.txt&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb200"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb200-1"><a href="#cb200-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb201"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb201-1"><a href="#cb201-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="folderiswritable-folder" class="level3 function">
<h3>folderIsWritable <code>folder</code></h3>
<p>Checks if given folder is writable.</p>
<section id="parameters-82" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>folder</code></dt>
<dd>The folder to check.
</dd>
</dl>
<p>Returns 0/TRUE if the folder is writable; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-106" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb202"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb202-1"><a href="#cb202-1"></a><span class="kw">if</span> <span class="ex">folderIsWritable</span> <span class="st">&quot;/tmp&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb203"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb203-1"><a href="#cb203-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb204"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb204-1"><a href="#cb204-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="findfolderdistance-foldera-folderb" class="level3 function">
<h3>findFolderDistance <code>folderA</code> <code>folderB</code></h3>
<p>Finds the distance between two folders.</p>
<section id="parameters-83" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>folderA</code></dt>
<dd>The first folder.
</dd>
<dt><code>folderB</code></dt>
<dd>The second folder.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
<p>The variable RESULT contains the distance.</p>
</section>
<section id="usage-example-107" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb205"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb205-1"><a href="#cb205-1"></a><span class="ex">findFolderDistance</span> <span class="st">&quot;/home/myuser/a/b/c&quot;</span> <span class="st">&quot;/home/myuser/a/b/d/e&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="findgreatestcommonparentfolder-foldera-folderb" class="level3 function">
<h3>findGreatestCommonParentFolder <code>folderA</code> <code>folderB</code></h3>
<p>Finds the greatest common parent folder</p>
<section id="parameters-84" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>folderA</code></dt>
<dd>The first folder.
</dd>
<dt><code>folderB</code></dt>
<dd>The second folder.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
<p>The variable RESULT contains the parent folder.</p>
</section>
<section id="usage-example-108" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb206"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb206-1"><a href="#cb206-1"></a><span class="ex">findGreatestCommonParentFolder</span> <span class="va">${HOME}</span>/a/b/c <span class="va">${HOME}</span>/a/b/d/e<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="findinpath-file" class="level3 function">
<h3>findInPath <code>file</code></h3>
<p>Finds a given file within a PATH variable.</p>
<section id="parameters-85" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file name to look for.
</dd>
</dl>
<p>Prints the file path via (stdin).</p>
</section>
<section id="usage-example-109" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb207"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb207-1"><a href="#cb207-1"></a><span class="bu">local</span> <span class="va">path=</span><span class="st">&quot;</span><span class="va">$(</span><span class="ex">findInPath</span> myFile<span class="va">)</span><span class="st">&quot;</span>;</span></code></pre></div>
</section>
</section>
<section id="findrelativepathbetweenfolders-foldera-folderb" class="level3 function">
<h3>findRelativePathBetweenFolders <code>folderA</code> <code>folderB</code></h3>
<p>Given two paths, A and B, finds the shortest way to reach B from A.</p>
<section id="parameters-86" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>folderA</code></dt>
<dd>The first folder.
</dd>
<dt><code>folderB</code></dt>
<dd>The second folder.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
<p>The variable RESULT contains the relative path.</p>
</section>
<section id="usage-example-110" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb208"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb208-1"><a href="#cb208-1"></a><span class="ex">findRelativePathBetweenFolders</span> <span class="va">${HOME}</span>/a/b/c <span class="va">${HOME}</span>/a/d/e<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="isexecutable-fileorfolder" class="level3 function">
<h3>isExecutable <code>fileOrFolder</code></h3>
<p>Checks whether given file or folder are executable.</p>
<section id="parameters-87" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>fileOrFolder</code></dt>
<dd>The file or folder to check.
</dd>
</dl>
<p>Returns 0/TRUE if the folder can be visited; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-111" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb209"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb209-1"><a href="#cb209-1"></a><span class="kw">if</span> <span class="ex">isExecutable</span> <span class="st">&quot;/tmp&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb210"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb210-1"><a href="#cb210-1"></a>  <span class="bu">cd</span> /tmp<span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb211"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb211-1"><a href="#cb211-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="folderexistsandisnotasymlink-folder" class="level3 function">
<h3>folderExistsAndIsNotASymlink <code>folder</code></h3>
<p>Checks whether given folder exists and it’s not a symbolic link.</p>
<section id="parameters-88" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>folder</code></dt>
<dd>The folder to check.
</dd>
</dl>
<p>Returns 0/TRUE if the folder exists; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-112" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb212"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb212-1"><a href="#cb212-1"></a><span class="kw">if</span> <span class="ex">folderExistsAndIsNotASymlink</span> <span class="st">&quot;/tmp&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb213"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb213-1"><a href="#cb213-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb214"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb214-1"><a href="#cb214-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="ismacosx" class="level3 function">
<h3>isMacOSX</h3>
<p>Checks if the system is a MacOSX.</p>
<p>Returns 0/TRUE if the system is MacOSX; 1/FALSE otherwise.</p>
<section id="usage-example-113" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb215"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb215-1"><a href="#cb215-1"></a><span class="kw">if</span> <span class="ex">isMacOSX</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb216"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb216-1"><a href="#cb216-1"></a>  <span class="bu">echo</span> <span class="st">&quot;I&#39;m running on a MacOSX&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb217"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb217-1"><a href="#cb217-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="issymlink-path" class="level3 function">
<h3>isSymlink <code>path</code></h3>
<p>Checks whether given path is a symlink.</p>
<section id="parameters-89" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>path</code></dt>
<dd>The path to check.
</dd>
</dl>
<p>Returns 0/TRUE if the path is a symlink; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-114" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb218"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb218-1"><a href="#cb218-1"></a><span class="kw">if</span> <span class="ex">isSymlink</span> <span class="st">&quot;/tmp&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb219"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb219-1"><a href="#cb219-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb220"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb220-1"><a href="#cb220-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="readconffile-file" class="level3 function">
<h3>readConfFile <code>file</code></h3>
<p>Reads given configuration file.</p>
<section id="parameters-90" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The config file.
</dd>
</dl>
<p>Returns 0/TRUE if the file is read successfully; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-115" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb221"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb221-1"><a href="#cb221-1"></a><span class="kw">if</span> <span class="ex">readConfFile</span> <span class="st">&quot;/tmp/app.conf&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb222"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb222-1"><a href="#cb222-1"></a>  <span class="bu">echo</span> <span class="st">&quot;/tmp/app.conf read successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb223"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb223-1"><a href="#cb223-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="readlink-param" class="level3 function">
<h3>readLink <code>param*</code></h3>
<p>Runs readlink (differs in Linux and in MacOSX).</p>
<section id="parameters-91" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>param</code></dt>
<dd>The readlink parameters.
</dd>
</dl>
<p>Returns the result code of readlink.</p>
<p>The variable RESULT contains the output of readlink.</p>
</section>
<section id="usage-example-116" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb224"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb224-1"><a href="#cb224-1"></a><span class="kw">if</span> <span class="ex">readLink</span> -f <span class="st">&quot;/bin/bash&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb225"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb225-1"><a href="#cb225-1"></a>  <span class="bu">echo</span> <span class="st">&quot;readlink result: </span><span class="va">${RESULT}</span><span class="st">&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb226"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb226-1"><a href="#cb226-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="removeextension-filename" class="level3 function">
<h3>removeExtension <code>fileName</code></h3>
<p>Removes the extension from given file name.</p>
<section id="parameters-92" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>fileName</code></dt>
<dd>The file name.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
<p>The variable RESULT contains the file name, without the extension.</p>
</section>
<section id="usage-example-117" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb227"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb227-1"><a href="#cb227-1"></a><span class="ex">removeExtension</span> <span class="st">&quot;myfile.sh&quot;</span> <span class="co"># -&gt; RESULT=&quot;myfile&quot;;</span></span></code></pre></div>
</section>
</section>
<section id="retrieveabsolutepath-relativepath" class="level3 function">
<h3>retrieveAbsolutePath <code>relativePath</code></h3>
<p>Retrieves the absolute path of given argument.</p>
<section id="parameters-93" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>relativePath</code></dt>
<dd>The relative path.
</dd>
</dl>
<p>Returns 0/TRUE if the file was found; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the absolute path.</p>
</section>
<section id="usage-example-118" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb228"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb228-1"><a href="#cb228-1"></a><span class="kw">if</span> <span class="ex">retrieveAbsolutePath</span> <span class="st">&#39;./myfile&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb229"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb229-1"><a href="#cb229-1"></a>  <span class="bu">echo</span> <span class="st">&quot;absolute path: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb230"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb230-1"><a href="#cb230-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="retrievefreediskspaceunderfolder-folder" class="level3 function">
<h3>retrieveFreeDiskSpaceUnderFolder <code>folder</code></h3>
<p>Retrieves the disk space available in the filesystem containing given folder. Prints the available space in bytes.</p>
<section id="parameters-94" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>folder</code></dt>
<dd>The folder.
</dd>
</dl>
<p>Returns 0/TRUE if the space could be calculated; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-119" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb231"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb231-1"><a href="#cb231-1"></a><span class="kw">if</span> <span class="ex">retrieveFreeDiskSpaceUnderFolder</span> <span class="st">&quot;/tmp&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb232"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb232-1"><a href="#cb232-1"></a>  <span class="bu">echo</span> <span class="st">&quot;/tmp -&gt; </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb233"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb233-1"><a href="#cb233-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="sourcefileifexists-file" class="level3 function">
<h3>sourceFileIfExists <code>file</code></h3>
<p>Sources given file, if it exists.</p>
<section id="parameters-95" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file to source.
</dd>
</dl>
<p>Returns 0/TRUE if the file is sourced; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-120" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb234"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb234-1"><a href="#cb234-1"></a><span class="ex">sourceFileIfExists</span> <span class="st">&quot;/tmp/my-env&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="uncompress-file-outputfolder" class="level3 function">
<h3>uncompress <code>file</code> <code>outputFolder</code></h3>
<p>Uncompresses given file to a concrete folder.</p>
<section id="parameters-96" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file.
</dd>
<dt><code>outputFolder</code></dt>
<dd>The output folder.
</dd>
</dl>
<p>Returns 0/TRUE if the file is uncompressed successfully; 1/FALSE if the format of the file is invalid; and 2 if there’s some other error when uncompressing the file.</p>
</section>
<section id="usage-example-121" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb235"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb235-1"><a href="#cb235-1"></a><span class="ex">uncompress</span> <span class="st">&quot;my.zip&quot;</span> <span class="st">&quot;/tmp&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="replacevariablesinfile-file-output-variables" class="level3 function">
<h3>replaceVariablesInFile <code>file</code> <code>output</code> <code>variables+</code></h3>
<p>Processes the variables in given file. It uses enviroment variables as well as extra variables.</p>
<section id="parameters-97" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The input file.
</dd>
<dt><code>output</code></dt>
<dd>The output file.
</dd>
<dt><code>variables+</code></dt>
<dd>name=value pairs.
</dd>
</dl>
<p>Returns 0/TRUE if the file was processed successfully; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-122" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb236"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb236-1"><a href="#cb236-1"></a><span class="kw">if</span> <span class="ex">replaceVariablesInFile</span> <span class="st">&quot;my.template&quot;</span> <span class="st">&quot;output&quot;</span> <span class="st">&quot;name=John&quot;</span> <span class="st">&quot;age=23&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb237"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb237-1"><a href="#cb237-1"></a>  <span class="ex">...</span></span></code></pre></div>
<div class="sourceCode" id="cb238"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb238-1"><a href="#cb238-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="changefilepermissions-file-permissions" class="level3 function">
<h3>changeFilePermissions <code>file</code> <code>permissions</code></h3>
<p>Changes the permissions of given file.</p>
<section id="parameters-98" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file to update.
</dd>
<dt><code>permissions</code></dt>
<dd>The permissions.
</dd>
</dl>
<p>Returns 0/TRUE if the permissions were updated; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-123" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb239"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb239-1"><a href="#cb239-1"></a><span class="kw">if</span> <span class="ex">changeFilePermissions</span> /tmp/my-file 0700<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb240"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb240-1"><a href="#cb240-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Permissions changed&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb241"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb241-1"><a href="#cb241-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="getowneroffileorfolder-fileorfolder" class="level3 function">
<h3>getOwnerOfFileOrFolder <code>fileOrFolder</code></h3>
<p>Retrieves the name of the owner of given file or folder.</p>
<section id="parameters-99" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>fileOrFolder</code></dt>
<dd>The file or folder.
</dd>
</dl>
<p>Retrieves 0/TRUE if the owner could be retrieved; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the name of the owner.</p>
</section>
<section id="usage-example-124" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb242"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb242-1"><a href="#cb242-1"></a><span class="kw">if</span> <span class="ex">getOwnerOfFileOrFolder</span> /tmp<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb243"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb243-1"><a href="#cb243-1"></a>  <span class="bu">echo</span> <span class="st">&quot;owner of /tmp: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb244"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb244-1"><a href="#cb244-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="getowneridoffileorfolder-fileorfolder" class="level3 function">
<h3>getOwnerIdOfFileOrFolder <code>fileOrFolder</code></h3>
<p>Retrieves the id of the owner of given file or folder.</p>
<section id="parameters-100" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>fileOrFolder</code></dt>
<dd>The file or folder.
</dd>
</dl>
<p>Retrieves 0/TRUE if the owner could be retrieved; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the id of the owner.</p>
</section>
<section id="usage-example-125" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb245"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb245-1"><a href="#cb245-1"></a><span class="kw">if</span> <span class="ex">getOwnerIdOfFileOrFolder</span> /tmp<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb246"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb246-1"><a href="#cb246-1"></a>  <span class="bu">echo</span> <span class="st">&quot;owner id of /tmp: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb247"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb247-1"><a href="#cb247-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="getgroupoffileorfolder-fileorfolder" class="level3 function">
<h3>getGroupOfFileOrFolder <code>fileOrFolder</code></h3>
<p>Retrieves the name of the group of given file or folder.</p>
<section id="parameters-101" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>fileOrFolder</code></dt>
<dd>The file or folder.
</dd>
</dl>
<p>Retrieves 0/TRUE if the group could be retrieved; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the name of the group.</p>
</section>
<section id="usage-example-126" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb248"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb248-1"><a href="#cb248-1"></a><span class="kw">if</span> <span class="ex">getGroupOfFileOrFolder</span> /tmp<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb249"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb249-1"><a href="#cb249-1"></a>  <span class="bu">echo</span> <span class="st">&quot;group of /tmp: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb250"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb250-1"><a href="#cb250-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="getgroupidoffileorfolder-fileorfolder" class="level3 function">
<h3>getGroupIdOfFileOrFolder <code>fileOrFolder</code></h3>
<p>Retrieves the id of the group of given file or folder.</p>
<section id="parameters-102" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>fileOrFolder</code></dt>
<dd>The file or folder.
</dd>
</dl>
<p>Retrieves 0/TRUE if the group could be retrieved; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the id of the group.</p>
</section>
<section id="usage-example-127" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb251"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb251-1"><a href="#cb251-1"></a><span class="kw">if</span> <span class="ex">getGroupIdOfFileOrFolder</span> /tmp<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb252"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb252-1"><a href="#cb252-1"></a>  <span class="bu">echo</span> <span class="st">&quot;group id of /tmp: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb253"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb253-1"><a href="#cb253-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="changefolderpermissionsrecursively-folder-permissions" class="level3 function">
<h3>changeFolderPermissionsRecursively <code>folder</code> <code>permissions</code></h3>
<p>Changes the permissions of given folder, recursively.</p>
<section id="parameters-103" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>folder</code></dt>
<dd>The folder to update.
</dd>
<dt><code>permissions</code></dt>
<dd>The permissions.
</dd>
</dl>
<p>Returns 0/TRUE if the permissions were updated; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-128" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb254"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb254-1"><a href="#cb254-1"></a><span class="kw">if</span> <span class="ex">changeFolderPermissionsRecursively</span> /tmp/ 0700<span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;Permissions changed&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="changeowneroffile-file-user-group-ownership" class="level3 function">
<h3>changeOwnerOfFile <code>file</code> <code>user</code> <code>group?</code> <code>ownership?</code></h3>
<p>Changes the ownership of given file.</p>
<section id="parameters-104" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file to update.
</dd>
<dt><code>user</code></dt>
<dd>The owner.
</dd>
<dt><code>group</code></dt>
<dd>The group. Optional.
</dd>
<dt><code>ownership</code></dt>
<dd>The ownership. Optional.
</dd>
</dl>
<p>Returns 0/TRUE if the permissions were updated; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-129" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb255"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb255-1"><a href="#cb255-1"></a><span class="kw">if</span> <span class="ex">changeOwnerOfFile</span> /tmp/my-file 0700<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb256"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb256-1"><a href="#cb256-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Ownership changed&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb257"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb257-1"><a href="#cb257-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="changeowneroffolderrecursively-dir-user-group" class="level3 function">
<h3>changeOwnerOfFolderRecursively <code>dir</code> <code>user</code> <code>group?</code></h3>
<p>Changes the ownership of given folder and its contents.</p>
<section id="parameters-105" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>dir</code></dt>
<dd>The folder to update.
</dd>
<dt><code>user</code></dt>
<dd>The user.
</dd>
<dt><code>group</code></dt>
<dd>The group. Optional.
</dd>
</dl>
<p>Returns 0/TRUE if the owner information was updated; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-130" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb258"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb258-1"><a href="#cb258-1"></a><span class="kw">if</span> <span class="ex">changeOwnerOfFolderRecursively</span> /tmp root wheel<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb259"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb259-1"><a href="#cb259-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Ownership changed&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb260"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb260-1"><a href="#cb260-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="file.getcleanupfilesvariablename" class="level3 function">
<h3>FILE.getCleanupFilesVariableName</h3>
<p>Retrieves the variable name containing the files to clean up.</p>
<p>Returns 0/TRUE always.</p>
<p>The variable RESULT contains the variable name.</p>
<section id="usage-example-131" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb261"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb261-1"><a href="#cb261-1"></a><span class="ex">FILE.getCleanupFilesVariableName</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb262"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb262-1"><a href="#cb262-1"></a><span class="bu">local</span> -n <span class="va">cleanupFiles=${RESULT}</span>;</span></code></pre></div>
</section>
</section>
<section id="truncatefiles-folder-regex" class="level3 function">
<h3>truncateFiles <code>folder</code> <code>regex</code></h3>
<p>Truncates files under given folder matching given regex.</p>
<p>Returns 0/TRUE if the logs get truncated; 1/FALSE otherwise.</p>
<section id="usage-example-132" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb263"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb263-1"><a href="#cb263-1"></a><span class="kw">if</span> <span class="ex">truncateFiles</span> /var/log <span class="st">&#39;*.log&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb264"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb264-1"><a href="#cb264-1"></a>  <span class="ex">...</span></span></code></pre></div>
<div class="sourceCode" id="cb265"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb265-1"><a href="#cb265-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="filecontains-file-text" class="level3 function">
<h3>fileContains <code>file</code> <code>text</code></h3>
<p>Checks whether a file contains given text.</p>
<section id="parameters-106" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file.
</dd>
<dt><code>text</code></dt>
<dd>The text.
</dd>
</dl>
<p>Returns 0/TRUE if the file contains given text; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-133" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb266"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb266-1"><a href="#cb266-1"></a><span class="kw">if</span> <span class="ex">fileContains</span> /etc/passwd <span class="va">${USER}</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb267"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb267-1"><a href="#cb267-1"></a>  <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${USER}</span><span class="st"> in /etc/passwd&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb268"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb268-1"><a href="#cb268-1"></a><span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-locale" class="level1">
<h1>API Reference (locale)</h1>
<section id="locale" class="level2 module">
<h2>locale</h2>
<p>Deals with installed locales.</p>
<section id="islocalesupported-locale-encoding" class="level3 function">
<h3>isLocaleSupported <code>locale</code> <code>encoding</code></h3>
<p>Checks if given locale identifier is supported.</p>
<section id="parameters-107" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>locale</code></dt>
<dd>The locale identifier.
</dd>
<dt><code>encoding</code></dt>
<dd>The file encoding.
</dd>
</dl>
<p>Returns 0/TRUE if the locale is supported; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-134" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb269"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb269-1"><a href="#cb269-1"></a><span class="kw">if</span> <span class="ex">isLocaleSupported</span> <span class="st">&quot;en_US&quot;</span> <span class="st">&quot;UTF-8&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb270"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb270-1"><a href="#cb270-1"></a>  <span class="bu">echo</span> <span class="st">&quot;en_US with UTF-8 is supported&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb271"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb271-1"><a href="#cb271-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="islocalefileavailable-locale" class="level3 function">
<h3>isLocaleFileAvailable <code>locale</code></h3>
<p>Checks if the locale file is available.</p>
<section id="parameters-108" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>locale</code></dt>
<dd>The locale.
</dd>
</dl>
<p>Returns 0/TRUE if the locale file exists; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-135" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb272"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb272-1"><a href="#cb272-1"></a><span class="kw">if</span> <span class="ex">isLocaleFileAvailable</span> <span class="st">&quot;en_US&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb273"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb273-1"><a href="#cb273-1"></a>  <span class="bu">echo</span> <span class="st">&quot;English-US is available&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb274"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb274-1"><a href="#cb274-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="localerequiresencodingsuffix-locale-encoding" class="level3 function">
<h3>localeRequiresEncodingSuffix <code>locale</code> <code>encoding</code></h3>
<p>Checks if locale requires appending the encoding or not.</p>
<section id="parameters-109" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>locale</code></dt>
<dd>the locale.
</dd>
<dt><code>enocding</code></dt>
<dd>the encoding.
</dd>
</dl>
<p>Returns 0/TRUE if the locale requires the encoding suffix; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-136" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb275"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb275-1"><a href="#cb275-1"></a><span class="kw">if</span> <span class="ex">localeRequiresEncodingSuffix</span> <span class="st">&quot;</span><span class="va">${locale}</span><span class="st">&quot;</span> <span class="st">&quot;</span><span class="va">${encoding}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb276"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb276-1"><a href="#cb276-1"></a>  <span class="va">localeDefinition=</span><span class="st">&quot;</span><span class="va">${locale}</span><span class="st">.</span><span class="va">${encoding}</span><span class="st">&quot;</span>;</span></code></pre></div>
<div class="sourceCode" id="cb277"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb277-1"><a href="#cb277-1"></a><span class="kw">fi</span></span></code></pre></div>
<p>Checks if given locale + encoding is supported.</p>
</section>
<section id="parameters-110" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>locale</code></dt>
<dd>The locale.
</dd>
<dt><code>encoding</code></dt>
<dd>The encoding.
</dd>
</dl>
<p>Returns 0/TRUE if the language is supported; 1/FALSE otherwise.</p>
<p>The variable RESULT contains the supported locales if the funcion returns 0/TRUE.</p>
</section>
<section id="usage-example-137" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb278"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb278-1"><a href="#cb278-1"></a><span class="kw">if</span> <span class="ex">isLocaleAvailableInLanguageFile</span> <span class="st">&quot;en_US&quot;</span> <span class="st">&quot;UTF-8&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb279"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb279-1"><a href="#cb279-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Supported English locales: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb280"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb280-1"><a href="#cb280-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="changedefaultlocale-locale-encoding" class="level3 function">
<h3>changeDefaultLocale <code>locale</code> <code>encoding</code></h3>
<p>Changes the default locale.</p>
<section id="parameters-111" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>locale</code></dt>
<dd>The locale.
</dd>
<dt><code>encoding</code></dt>
<dd>The file encoding.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-138" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb281"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb281-1"><a href="#cb281-1"></a><span class="ex">changeDefaultLocale</span> <span class="st">&quot;en_US.UTF-8&quot;</span> <span class="st">&quot;UTF-8&quot;</span><span class="kw">;</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-logging" class="level1">
<h1>API Reference (logging)</h1>
<section id="logging" class="level2 module">
<h2>logging</h2>
<p>Logging functions</p>
<section id="definedtag-tag" class="level3 function">
<h3>definedTag <code>tag</code></h3>
<p>Checks whether given tag is defined.</p>
<section id="parameters-112" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>tag</code></dt>
<dd>The tag to check.
</dd>
</dl>
<p>0/TRUE if the tag is defined; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-139" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb282"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb282-1"><a href="#cb282-1"></a><span class="kw">if</span> <span class="ex">definedTag</span> SUCCESS<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb283"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb283-1"><a href="#cb283-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb284"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb284-1"><a href="#cb284-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="disablequietmode" class="level3 function">
<h3>disableQuietMode</h3>
<p>Disables quiet mode.</p>
<p>Returns 0/TRUE always.</p>
<section id="usage-example-140" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb285"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb285-1"><a href="#cb285-1"></a><span class="ex">disableQuietMode</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="enablequietmode" class="level3 function">
<h3>enableQuietMode</h3>
<p>Enables quiet mode.</p>
<p>Returns 0/TRUE always.</p>
<section id="usage-example-141" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb286"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb286-1"><a href="#cb286-1"></a><span class="ex">enableQuietMode</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="findoutkeyword-text" class="level3 function">
<h3>findOutKeyword <code>text</code></h3>
<p>Guesses the type of keyword associated to given text.</p>
<section id="parameters-113" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The text of the keyword.
</dd>
</dl>
<p>Returns SUCCESS, FAILURE, or UNDEFINED.</p>
</section>
<section id="usage-example-142" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb287"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb287-1"><a href="#cb287-1"></a><span class="ex">findOutKeyword</span> <span class="st">&quot;done&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb288"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb288-1"><a href="#cb288-1"></a><span class="bu">local</span> -i <span class="va">keyword=$?</span>;</span></code></pre></div>
</section>
</section>
<section id="getlogcategory" class="level3 function">
<h3>getLogCategory</h3>
<p>Retrieves the log category.</p>
<p>Returns 0/TRUE always.</p>
<p>The variable RESULT contains the log category.</p>
<section id="usage-example-143" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb289"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb289-1"><a href="#cb289-1"></a><span class="ex">getLogCategory</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb290"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb290-1"><a href="#cb290-1"></a><span class="bu">echo</span> <span class="st">&quot;Log category: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="getlognamespace" class="level3 function">
<h3>getLogNamespace</h3>
<p>Retrieves the log namespace.</p>
<p>Returns 0/TRUE always.</p>
<p>The variable RESULT contains the log namespace.</p>
<section id="usage-example-144" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb291"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb291-1"><a href="#cb291-1"></a><span class="ex">getLogNamespace</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb292"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb292-1"><a href="#cb292-1"></a><span class="bu">echo</span> <span class="st">&quot;log namespace: </span><span class="va">${RESULT}</span><span class="st">&quot;</span></span></code></pre></div>
</section>
</section>
<section id="isdebugenabled" class="level3 function">
<h3>isDebugEnabled</h3>
<p>Checks whether the debug level is enabled.</p>
<p>Returns 0/TRUE if debug is allowed; 1/FALSE otherwise.</p>
<section id="usage-example-145" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb293"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb293-1"><a href="#cb293-1"></a><span class="kw">if</span> <span class="ex">isDebugEnabled</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb294"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb294-1"><a href="#cb294-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb295"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb295-1"><a href="#cb295-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="isfailurekeyword-keyword" class="level3 function">
<h3>isFailureKeyword <code>keyword</code></h3>
<p>Checks whether given keyword represents a failure.</p>
<section id="parameters-114" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>keyword</code></dt>
<dd>The keyword.
</dd>
</dl>
<p>Returns 0/TRUE if the keyword is considered a failure; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-146" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb296"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb296-1"><a href="#cb296-1"></a><span class="kw">if</span> <span class="ex">isFailureKeyword</span> <span class="st">&quot;</span><span class="va">${keyword}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb297"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb297-1"><a href="#cb297-1"></a><span class="ex">logInfoResult</span> SUCCESS <span class="st">&quot;done&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb298"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb298-1"><a href="#cb298-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="isinfoenabled" class="level3 function">
<h3>isInfoEnabled</h3>
<p>Checks whether the “info” level is enabled.</p>
<p>Returns 0/TRUE in such case; 1/FALSE otherwise.</p>
<section id="usage-example-147" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb299"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb299-1"><a href="#cb299-1"></a><span class="kw">if</span> <span class="ex">isInfoEnabled</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb300"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb300-1"><a href="#cb300-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb301"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb301-1"><a href="#cb301-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="islowerthaninfoenabled" class="level3 function">
<h3>isLowerThanInfoEnabled</h3>
<p>Checks whether the enabled log level is lower than “info”.</p>
<p>Returns 0/TRUE in such case; 1/FALSE otherwise.</p>
<section id="usage-example-148" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb302"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb302-1"><a href="#cb302-1"></a><span class="kw">if</span> <span class="ex">isLowerThanInfoEnabled</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb303"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb303-1"><a href="#cb303-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb304"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb304-1"><a href="#cb304-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="isquietmode" class="level3 function">
<h3>isQuietMode</h3>
<p>Retrieves whether the quiet mode is on or off.</p>
<p>Returns 0/TRUE if the mode is enabled; 1/FALSE otherwise.</p>
<section id="usage-example-149" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb305"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb305-1"><a href="#cb305-1"></a><span class="kw">if</span> <span class="ex">isQuietMode</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb306"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb306-1"><a href="#cb306-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb307"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb307-1"><a href="#cb307-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="issuccesskeyword-keyword" class="level3 function">
<h3>isSuccessKeyword <code>keyword</code></h3>
<p>Checks whether given keyword represents a success.</p>
<section id="parameters-115" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>keyword</code></dt>
<dd>The keyword.
</dd>
</dl>
<p>Returns 0/TRUE if the keyword is considered a success; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-150" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb308"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb308-1"><a href="#cb308-1"></a><span class="kw">if</span> <span class="ex">isSuccessKeyword</span> <span class="st">&quot;</span><span class="va">${keyword}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb309"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb309-1"><a href="#cb309-1"></a>  <span class="ex">logInfoResult</span> SUCCESS <span class="st">&quot;done&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb310"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb310-1"><a href="#cb310-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="logresult-successfailure-message" class="level3 function">
<h3>logResult <code>SUCCESS|FAILURE?</code> <code>message</code></h3>
<p>Logs given outcome.</p>
<section id="parameters-116" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>SUCCESS|FAILURE</code></dt>
<dd>The keyword. Optional. If omitted, it’ll be inferred from the message.
</dd>
<dt><code>message</code></dt>
<dd>The outcome to log.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-151" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb311"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb311-1"><a href="#cb311-1"></a><span class="ex">logResult</span> SUCCESS <span class="st">&quot;done&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="istraceenabled" class="level3 function">
<h3>isTraceEnabled</h3>
<p>Checks whether trace is enabled.</p>
<p>Returns 0/TRUE if trace is enabled; 1/FALSE otherwise.</p>
<section id="usage-example-152" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb312"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb312-1"><a href="#cb312-1"></a><span class="kw">if</span> <span class="ex">isTraceEnabled</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb313"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb313-1"><a href="#cb313-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb314"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb314-1"><a href="#cb314-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="log-message" class="level3 function">
<h3>log <code>message</code></h3>
<p>Logs a message as “info”.</p>
<section id="parameters-117" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>message</code></dt>
<dd>The message to log.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-153" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb315"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb315-1"><a href="#cb315-1"></a><span class="ex">log</span> <span class="st">&quot;Operation in progress&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="logdebug-message" class="level3 function">
<h3>logDebug <code>message</code></h3>
<p>Logs given message under the “debug” level.</p>
<section id="parameters-118" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>message</code></dt>
<dd>The message to log.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-154" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb316"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb316-1"><a href="#cb316-1"></a><span class="ex">logDebug</span> <span class="st">&quot;Operation in progress&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="logdebugfromstdin" class="level3 function">
<h3>logDebugFromStdin</h3>
<p>Logs given message under the “debug” level.</p>
<section id="parameters-119" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>[stdin]</code></dt>
<dd>The message to log.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-155" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb317"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb317-1"><a href="#cb317-1"></a><span class="ex">logDebugFromStdin</span> <span class="op">&lt;&lt;&lt;</span><span class="st">&quot;Operation in progress&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="logdebugfile-file" class="level3 function">
<h3>logDebugFile <code>file</code></h3>
<p>Logs the contents of given file, under the “debug” level.</p>
<section id="parameters-120" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file to log.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-156" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb318"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb318-1"><a href="#cb318-1"></a><span class="ex">logDebugFile</span> <span class="st">&#39;/tmp/my-log.txt&#39;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="logdebugfilecontents-file" class="level3 function">
<h3>logDebugFileContents <code>file</code></h3>
<p>Logs the contents of a file, using the DEBUG level.</p>
<section id="parameters-121" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-157" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb319"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb319-1"><a href="#cb319-1"></a><span class="ex">logDebugFileContents</span> /tmp/my-file.log</span></code></pre></div>
</section>
</section>
<section id="logdebugresult-successfailure-message" class="level3 function">
<h3>logDebugResult <code>SUCCESS|FAILURE</code> <code>message</code></h3>
<p>Logs given outcome under the “debug” level.</p>
<section id="parameters-122" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>SUCCESS|FAILURE</code></dt>
<dd>The keyword.
</dd>
<dt><code>message</code></dt>
<dd>The outcome to log.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-158" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb320"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb320-1"><a href="#cb320-1"></a><span class="ex">logDebugResult</span> SUCCESS <span class="st">&quot;done&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="logfile-file" class="level3 function">
<h3>logFile <code>file</code></h3>
<p>Logs the contents of a file, as “info”.</p>
<section id="parameters-123" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file with the log messages.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-159" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb321"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb321-1"><a href="#cb321-1"></a><span class="ex">logFile</span> /tmp/my-log.txt<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setlogoutcometokens-tokens" class="level3 function">
<h3>setLogOutcomeTokens <code>tokens+</code></h3>
<p>Specifies the log outcome tokens.</p>
<section id="parameters-124" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>tokens</code></dt>
<dd>The log outcome tokens.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-160" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb322"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb322-1"><a href="#cb322-1"></a><span class="ex">setLogOutcomeTokens</span> <span class="st">&quot;[&quot;</span> <span class="st">&quot;timestamp&quot;</span> <span class="st">&quot;&lt;&quot;</span> <span class="st">&quot;category&quot;</span> <span class="st">&quot;&gt;&quot;</span> <span class="st">&quot;logLevel&quot;</span> <span class="st">&quot;]&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="getlogoutcomeseparator" class="level3 function">
<h3>getLogOutcomeSeparator</h3>
<p>Retrieves the log outcome separator.</p>
<p>Returns 0/TRUE always.</p>
<p>The variable RESULT contains the log outcome separator.</p>
<section id="usage-example-161" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb323"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb323-1"><a href="#cb323-1"></a><span class="ex">getLogOutcomeSeparator</span><span class="kw">;</span> <span class="bu">local</span> <span class="va">logOutputSeparator=</span><span class="st">&quot;</span><span class="va">${RESULT}</span><span class="st">&quot;</span>;</span></code></pre></div>
</section>
</section>
<section id="setlogoutcomeseparator" class="level3 function">
<h3>setLogOutcomeSeparator</h3>
<p>Specifies the log outcome separator.</p>
<section id="parameters-125" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>separator</code></dt>
<dd>The separator.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-162" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb324"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb324-1"><a href="#cb324-1"></a><span class="ex">setLogOutcomeSeparator</span> <span class="st">&quot; &quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="seterrorlogprefixtoken-token" class="level3 function">
<h3>setErrorLogPrefixToken <code>token</code></h3>
<p>Specifies the log prefix token for the ERROR log level.</p>
<section id="parameters-126" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>token</code></dt>
<dd>The token.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-163" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb325"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb325-1"><a href="#cb325-1"></a><span class="ex">setErrorLogPrefixToken</span> <span class="st">&quot;.&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setwarnlogprefixtoken-token" class="level3 function">
<h3>setWarnLogPrefixToken <code>token</code></h3>
<p>Specifies the log prefix token for the WARN log level.</p>
<section id="parameters-127" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>token</code></dt>
<dd>The token.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-164" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb326"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb326-1"><a href="#cb326-1"></a><span class="ex">setWarnLogPrefixToken</span> <span class="st">&quot;.&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setinfologprefixtoken-token" class="level3 function">
<h3>setInfoLogPrefixToken <code>token</code></h3>
<p>Specifies the log prefix token for the INFO log level.</p>
<section id="parameters-128" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>token</code></dt>
<dd>The token.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-165" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb327"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb327-1"><a href="#cb327-1"></a><span class="ex">setInfoLogPrefixToken</span> <span class="st">&quot;.&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setdebuglogprefixtoken-token" class="level3 function">
<h3>setDebugLogPrefixToken <code>token</code></h3>
<p>Specifies the log prefix token for the DEBUG log level.</p>
<section id="parameters-129" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>token</code></dt>
<dd>The token.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-166" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb328"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb328-1"><a href="#cb328-1"></a><span class="ex">setDebugLogPrefixToken</span> <span class="st">&quot;o&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="settracelogprefixtoken-token" class="level3 function">
<h3>setTraceLogPrefixToken <code>token</code></h3>
<p>Specifies the log prefix token for the TRACE log level.</p>
<section id="parameters-130" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>token</code></dt>
<dd>The token.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-167" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb329"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb329-1"><a href="#cb329-1"></a><span class="ex">setTraceLogPrefixToken</span> <span class="st">&quot;O&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setinvalidlogcategories-category" class="level3 function">
<h3>setInvalidLogCategories <code>category+</code></h3>
<p>Specifies the invalid log categories.</p>
<section id="parameters-131" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>category</code></dt>
<dd>The invalid log categories.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-168" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb330"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb330-1"><a href="#cb330-1"></a><span class="ex">setInvalidLogCategories</span> myLog logInfo<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="addinvalidlogcategory-category" class="level3 function">
<h3>addInvalidLogCategory <code>category</code></h3>
<p>Adds a new invalid log category.</p>
<section id="parameters-132" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>category</code></dt>
<dd>The log category to hide in prefix tokens.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-169" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb331"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb331-1"><a href="#cb331-1"></a><span class="ex">addInvalidLogCategory</span> myLog<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setlogprefixtokens-tokens" class="level3 function">
<h3>setLogPrefixTokens <code>tokens+</code></h3>
<p>Specifies the log prefix tokens.</p>
<section id="parameters-133" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>tokens</code></dt>
<dd>The log prefix tokens.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-170" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb332"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb332-1"><a href="#cb332-1"></a><span class="ex">setLogPrefixTokens</span> <span class="st">&quot;[&quot;</span> <span class="st">&quot;timestamp&quot;</span> <span class="st">&quot;&lt;&quot;</span> <span class="st">&quot;category&quot;</span> <span class="st">&quot;&gt;&quot;</span> <span class="st">&quot;logLevel&quot;</span> <span class="st">&quot;]&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setlogprefixcolors-colors" class="level3 function">
<h3>setLogPrefixColors <code>colors+</code></h3>
<p>Specifies the log prefix colors.</p>
<section id="parameters-134" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>colors</code></dt>
<dd>The colors, in the same order as log prefixes.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-171" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb333"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb333-1"><a href="#cb333-1"></a><span class="ex">setLogPrefixColors</span> BLUE CYAN YELLOW MAGENTA YELLOW RED BLUE<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setlogoutcomecolors-colors" class="level3 function">
<h3>setLogOutcomeColors <code>colors+</code></h3>
<p>Specifies the log outcome colors.</p>
<section id="parameters-135" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>colors</code></dt>
<dd>The log outcome colors.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-172" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb334"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb334-1"><a href="#cb334-1"></a><span class="ex">setLogOutcomeColors</span> CYAN WHITE CYAN<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="rightjustificationenabled" class="level3 function">
<h3>rightJustificationEnabled</h3>
<p>Checks if the logging outcomes should be justified to the right or not.</p>
<p>Returns 0/TRUE in that case; 1/FALSE otherwise.</p>
<section id="usage-example-173" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb335"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb335-1"><a href="#cb335-1"></a><span class="kw">if</span> <span class="ex">rightJustificationEnabled</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb336"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb336-1"><a href="#cb336-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Justification is enabled&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb337"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb337-1"><a href="#cb337-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="getlognestedindentation" class="level3 function">
<h3>getLogNestedIndentation</h3>
<p>Retrieves the indentation used when logging nested tasks.</p>
<p>Returns 0/TRUE always.</p>
<p>The RESULT variable contains the nested indentation.</p>
<section id="usage-example-174" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb338"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb338-1"><a href="#cb338-1"></a><span class="ex">getLogNestedIndentation</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb339"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb339-1"><a href="#cb339-1"></a><span class="bu">echo</span> <span class="st">&quot;indentation: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setlognestedindentation" class="level3 function">
<h3>setLogNestedIndentation</h3>
<p>Specifies the indentation text used when logging nested tasks.</p>
<section id="parameters-136" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The text to use.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-175" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb340"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb340-1"><a href="#cb340-1"></a><span class="ex">setLogNestedIndentation</span> <span class="st">&quot;  &quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="isloglineopen" class="level3 function">
<h3>isLogLineOpen</h3>
<p>Checks whether the log line is currently opened.</p>
<p>Returns 0/TRUE if it’s open; 1/FALSE otherwise.</p>
<section id="usage-example-176" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb341"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb341-1"><a href="#cb341-1"></a><span class="kw">if</span> <span class="ex">isLogLineOpen</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb342"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb342-1"><a href="#cb342-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb343"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb343-1"><a href="#cb343-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="getdefaultlogresumingtaskcolor" class="level3 function">
<h3>getDefaultLogResumingTaskColor</h3>
<p>Retrieves the default color used when logging a resuming task.</p>
<p>Returns 0/TRUE always.</p>
<p>The RESULT variable contains the text.</p>
<section id="usage-example-177" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb344"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb344-1"><a href="#cb344-1"></a><span class="ex">getDefaultLogResumingTaskColor</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb345"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb345-1"><a href="#cb345-1"></a><span class="bu">echo</span> <span class="st">&quot;Default log resuming task color: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setdefaultlogresumingtaskcolor" class="level3 function">
<h3>setDefaultLogResumingTaskColor</h3>
<p>Specifies the default color used when logging a resuming task.</p>
<section id="parameters-137" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>color</code></dt>
<dd>The color to use.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-178" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb346"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb346-1"><a href="#cb346-1"></a><span class="ex">setDefaultLogResumingTaskColor</span> GREEN<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setnestedtaskinprogressmarker" class="level3 function">
<h3>setNestedTaskInProgressMarker</h3>
<p>Specifies the text used to represent a nested task is in progress.</p>
<section id="parameters-138" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The text used as marker.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-179" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb347"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb347-1"><a href="#cb347-1"></a><span class="ex">setNestedTaskInProgressMarker</span> <span class="st">&quot;....&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="getdefaultlogprefixcolor" class="level3 function">
<h3>getDefaultLogPrefixColor</h3>
<p>Retrieves the log prefix color by default.</p>
<p>Returns 0/TRUE always.</p>
<p>The RESULT variable contains the log prefix color by default.</p>
<section id="usage-example-180" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb348"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb348-1"><a href="#cb348-1"></a><span class="ex">getDefaultLogPrefixColor</span><span class="kw">;</span> <span class="bu">echo</span> <span class="st">&quot;default log prefix color: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setdefaultlogprefixcolor" class="level3 function">
<h3>setDefaultLogPrefixColor</h3>
<p>Specifies the log prefix color by default.</p>
<section id="parameters-139" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>color</code></dt>
<dd>The color to use by default.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-181" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb349"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb349-1"><a href="#cb349-1"></a><span class="ex">setDefaultLogPrefixColor</span> GRAY<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="getdefaultlogoutcomecolor" class="level3 function">
<h3>getDefaultLogOutcomeColor</h3>
<p>Retrieves the log outcome color by default.</p>
<p>Returns 0/TRUE always.</p>
<p>The RESULT variable contains the log outcome color by default.</p>
<section id="usage-example-182" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb350"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb350-1"><a href="#cb350-1"></a><span class="ex">getDefaultLogOutcomeColor</span><span class="kw">;</span> <span class="bu">echo</span> <span class="st">&quot;default log outcome color: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setdefaultlogoutcomecolor" class="level3 function">
<h3>setDefaultLogOutcomeColor</h3>
<p>Specifies the log outcome color by default.</p>
<section id="parameters-140" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>color</code></dt>
<dd>The color to use by default.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-183" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb351"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb351-1"><a href="#cb351-1"></a><span class="ex">setDefaultLogOutcomeColor</span> GRAY<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setlogprefixcategoryseparator-separator" class="level3 function">
<h3>setLogPrefixCategorySeparator <code>separator</code></h3>
<p>Specifies what to use to separate log categories in the log prefix.</p>
<section id="parameters-141" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>separator</code></dt>
<dd>The separator.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-184" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb352"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb352-1"><a href="#cb352-1"></a><span class="ex">setLogPrefixCategorySeparator</span> <span class="st">&quot;:&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="getlogtimestampformat" class="level3 function">
<h3>getLogTimestampFormat</h3>
<p>Retrieves the timestamp format used for logging.</p>
<p>Use setLogTimestampFormat to modify the timestamp format.</p>
<p>Returns 0/TRUE always.</p>
<section id="usage-example-185" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb353"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb353-1"><a href="#cb353-1"></a><span class="ex">LOGGING.getLogTimestampFormat</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb354"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb354-1"><a href="#cb354-1"></a><span class="bu">echo</span> <span class="st">&quot;The log timestamp format is </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setlogtimestampformat" class="level3 function">
<h3>setLogTimestampFormat</h3>
<p>Retrieves the timestamp format used for logging.</p>
<p>Use setLogTimestampFormat to modify the timestamp format.</p>
<p>Returns 0/TRUE always.</p>
<section id="usage-example-186" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb355"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb355-1"><a href="#cb355-1"></a><span class="ex">LOGGING.getLogTimestampFormat</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb356"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb356-1"><a href="#cb356-1"></a><span class="bu">echo</span> <span class="st">&quot;The log timestamp format is </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setoutcometextpositioninlogoutcome-position" class="level3 function">
<h3>setOutcomeTextPositionInLogOutcome <code>position</code></h3>
<p>Specifies the position of the outcome token in the log outcome colors array.</p>
<section id="parameters-142" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>position</code></dt>
<dd>The position of the outcome token.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-187" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb357"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb357-1"><a href="#cb357-1"></a><span class="ex">setOutcomeTextPositionInLogOutcome</span> 1<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="settimestamppositioninlogprefix-position" class="level3 function">
<h3>setTimestampPositionInLogPrefix <code>position</code></h3>
<p>Specifies the position of the timestamp token in the log prefix colors array.</p>
<section id="parameters-143" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>position</code></dt>
<dd>The position of the timestamp token.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-188" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb358"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb358-1"><a href="#cb358-1"></a><span class="ex">setTimestampPositionInLogPrefix</span> 1<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setnamespacepositioninlogprefix-position" class="level3 function">
<h3>setNamespacePositionInLogPrefix <code>position</code></h3>
<p>Specifies the position of the namespace token in the log prefix colors array.</p>
<section id="parameters-144" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>position</code></dt>
<dd>The position of the namespace token.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-189" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb359"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb359-1"><a href="#cb359-1"></a><span class="ex">setNamespacePositionInLogPrefix</span> 1<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setcategorypositioninlogprefix-position" class="level3 function">
<h3>setCategoryPositionInLogPrefix <code>position</code></h3>
<p>Specifies the position of the category token in the log prefix colors array.</p>
<section id="parameters-145" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>position</code></dt>
<dd>The position of the category token.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-190" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb360"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb360-1"><a href="#cb360-1"></a><span class="ex">setCategoryPositionInLogPrefix</span> 1<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setlevelpositioninlogprefix-position" class="level3 function">
<h3>setLevelPositionInLogPrefix <code>position</code></h3>
<p>Specifies the position of the level token in the log prefix colors array.</p>
<section id="parameters-146" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>position</code></dt>
<dd>The position of the level token.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-191" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb361"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb361-1"><a href="#cb361-1"></a><span class="ex">setLevelPositionInLogPrefix</span> 1<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="loginfo-message" class="level3 function">
<h3>logInfo <code>message</code></h3>
<p>Logs a message as “info”.</p>
<section id="parameters-147" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>message</code></dt>
<dd>The message to log.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-192" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb362"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb362-1"><a href="#cb362-1"></a><span class="ex">logInfo</span> <span class="st">&quot;Operation in progress&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="loginfofromstdin" class="level3 function">
<h3>logInfoFromStdin</h3>
<p>Logs given message under the “debug” level.</p>
<section id="parameters-148" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>[stdin]</code></dt>
<dd>The message to log.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-193" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb363"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb363-1"><a href="#cb363-1"></a><span class="ex">logInfoFromStdin</span> <span class="op">&lt;&lt;&lt;</span><span class="st">&quot;Operation in progress&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="loginfofile-file" class="level3 function">
<h3>logInfoFile <code>file</code></h3>
<p>Logs the contents of a file as “info”.</p>
<section id="parameters-149" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file containing the text to log.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-194" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb364"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb364-1"><a href="#cb364-1"></a><span class="ex">logInfoFile</span> /tmp/my-log.txt<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="loginforesult-successfailure-message" class="level3 function">
<h3>logInfoResult <code>SUCCESS|FAILURE</code> <code>message</code></h3>
<p>Logs the outcome of an operation as “info”.</p>
<section id="parameters-150" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>SUCCESS|FAILURE</code></dt>
<dd>The outcome.
</dd>
<dt><code>message</code></dt>
<dd>The message to log.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-195" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb365"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb365-1"><a href="#cb365-1"></a><span class="ex">logInfoResult</span> SUCCESS <span class="st">&quot;done&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="logtrace-message" class="level3 function">
<h3>logTrace <code>message</code></h3>
<p>Logs given message under the “trace” level.</p>
<section id="parameters-151" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>message</code></dt>
<dd>The message to log.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-196" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb366"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb366-1"><a href="#cb366-1"></a><span class="ex">logTrace</span> <span class="st">&quot;Operation in progress&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="logtracefromstdin" class="level3 function">
<h3>logTraceFromStdin</h3>
<p>Logs given message under the “debug” level.</p>
<section id="parameters-152" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>[stdin]</code></dt>
<dd>The message to log.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-197" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb367"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb367-1"><a href="#cb367-1"></a><span class="ex">logTraceFromStdin</span> <span class="op">&lt;&lt;&lt;</span><span class="st">&quot;Operation in progress&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="logtracefile-file" class="level3 function">
<h3>logTraceFile <code>file</code></h3>
<p>Logs the contents of given file, under the “trace” level.</p>
<section id="parameters-153" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file to log.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-198" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb368"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb368-1"><a href="#cb368-1"></a><span class="ex">logTraceFile</span> /tmp/my-log.txt<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="logtraceresult-successfailure-message" class="level3 function">
<h3>logTraceResult <code>SUCCESS|FAILURE</code> <code>message</code></h3>
<p>Logs given text as a log result, under the “trace” level.</p>
<section id="parameters-154" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>SUCCESS|FAILURE</code></dt>
<dd>The keyword.
</dd>
<dt><code>message</code></dt>
<dd>The result message to log.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-199" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb369"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb369-1"><a href="#cb369-1"></a><span class="ex">logTraceResult</span> SUCCESS <span class="st">&quot;Operation completed&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="resolveverbosity" class="level3 function">
<h3>resolveVerbosity</h3>
<p>Retrieves the verbosity flag.</p>
<p>Returns 0/TRUE always.</p>
<p>The variable RESULT contains ‘-vv’ if trace is enabled; ‘-v’ if debug is enabled; empty string otherwise.</p>
<section id="usage-example-200" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb370"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb370-1"><a href="#cb370-1"></a><span class="ex">resolveVerbosity</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setdebugenabled" class="level3 function">
<h3>setDebugEnabled</h3>
<p>Enables the “debug” level.</p>
<p>Returns 0/TRUE always.</p>
<section id="usage-example-201" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb371"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb371-1"><a href="#cb371-1"></a><span class="ex">setDebugEnabled</span></span></code></pre></div>
</section>
</section>
<section id="setinfoenabled" class="level3 function">
<h3>setInfoEnabled</h3>
<p>Enables the “info” level.</p>
<p>Returns 0/TRUE always.</p>
<section id="usage-example-202" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb372"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb372-1"><a href="#cb372-1"></a><span class="ex">setInfoEnabled</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setlogcategory-category" class="level3 function">
<h3>setLogCategory <code>category</code></h3>
<p>Specifies the log category.</p>
<section id="parameters-155" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>category</code></dt>
<dd>The log category.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-203" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb373"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb373-1"><a href="#cb373-1"></a><span class="ex">setLogCategory</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setlognamespace-namespace" class="level3 function">
<h3>setLogNamespace <code>namespace</code></h3>
<p>Sets the log namespace.</p>
<section id="parameters-156" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>namespace</code></dt>
<dd>The namespace.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-204" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb374"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb374-1"><a href="#cb374-1"></a><span class="ex">setLogNamespace</span> <span class="st">&quot;processing&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setquietmode-mode" class="level3 function">
<h3>setQuietMode <code>mode</code></h3>
<p>Sets the quiet mode on or off.</p>
<section id="parameters-157" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>mode</code></dt>
<dd>The mode (0/TRUE or 1/FALSE).
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-205" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb375"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb375-1"><a href="#cb375-1"></a><span class="ex">setQuietMode</span> <span class="va">${TRUE}</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="settraceenabled" class="level3 function">
<h3>setTraceEnabled</h3>
<p>Enables the trace level.</p>
<p>Returns 0/TRUE always.</p>
<section id="usage-example-206" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb376"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb376-1"><a href="#cb376-1"></a><span class="ex">setTraceEnabled</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="logtofile-file" class="level3 function">
<h3>logToFile <code>file</code></h3>
<p>Appends all logging to given file.</p>
<section id="parameters-158" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file.
</dd>
</dl>
<p>Returns 0/TRUE if the file exists and is readable; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-207" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb377"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb377-1"><a href="#cb377-1"></a><span class="kw">if</span> <span class="ex">logToFile</span> <span class="st">&quot;/tmp/logging&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb378"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb378-1"><a href="#cb378-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Logging in /tmp/logging&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb379"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb379-1"><a href="#cb379-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="islogtofilesenabled" class="level3 function">
<h3>isLogToFilesEnabled</h3>
<p>Checks if logging to files is enabled or not.</p>
<p>Returns 0/TRUE if it’s enabled; 1/FALSE otherwise.</p>
<section id="usage-example-208" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb380"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb380-1"><a href="#cb380-1"></a><span class="kw">if</span> <span class="ex">isLogToFilesEnabled</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb381"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb381-1"><a href="#cb381-1"></a>  <span class="bu">echo</span> <span class="st">&quot;log to files is enabled&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb382"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb382-1"><a href="#cb382-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="applythemeifpresent" class="level3 function">
<h3>applyThemeIfPresent</h3>
<p>Applies a theme if present.</p>
<p>Returns 0/TRUE if a theme is applied; 1/FALSE otherwise.</p>
<section id="usage-example-209" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb383"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb383-1"><a href="#cb383-1"></a><span class="kw">if</span> <span class="ex">applyThemeIfPresent</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb384"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb384-1"><a href="#cb384-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Theme applied&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb385"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb385-1"><a href="#cb385-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
<section id="environment-variables-2" class="level4">
<h4>Environment variables</h4>
<dl>
<dt><code>UNDEFINED</code></dt>
<dd>Indicates the operation outcome is undefined.
</dd>
<dt><code>SUCCESS</code></dt>
<dd>The ‘Success’ literal.
</dd>
<dt><code>DONE</code></dt>
<dd>The ‘done’ literal.
</dd>
<dt><code>OK</code></dt>
<dd>The ‘ok’ literal.
</dd>
<dt><code>FAILURE</code></dt>
<dd>The ‘Failure’ literal.
</dd>
<dt><code>FAILED</code></dt>
<dd>The ‘failed’ literal.
</dd>
<dt><code>KO</code></dt>
<dd>The ‘ko’ literal.
</dd>
<dt><code>NEUTRAL</code></dt>
<dd>The ‘Neutral’ literal.
</dd>
<dt><code>IN_PROGRESS</code></dt>
<dd>Indicates the operation is in progress.
</dd>
<dt><code>DW_LOGGING_EMPTY_LOG_CATEGORY</code></dt>
<dd>A marker for empty log categories.
</dd>
</dl>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-net" class="level1">
<h1>API Reference (net)</h1>
<section id="net" class="level2 module">
<h2>net</h2>
<p>Network functions</p>
<section id="hostisreachable-host" class="level3 function">
<h3>hostIsReachable <code>host</code></h3>
<p>Checks whether given host is reachable.</p>
<section id="parameters-159" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>host</code></dt>
<dd>The host to check.
</dd>
</dl>
<p>Returns 0/TRUE if the host is reachable; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-210" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb386"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb386-1"><a href="#cb386-1"></a><span class="kw">if</span> <span class="ex">hostIsReachable</span> <span class="st">&quot;www.google.com&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb387"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb387-1"><a href="#cb387-1"></a>  <span class="bu">echo</span> <span class="st">&quot;www.google.com is reachable&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb388"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb388-1"><a href="#cb388-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="retrieveiface" class="level3 function">
<h3>retrieveIface</h3>
<p>Retrieves the first network interface.</p>
<p>Returns 0/TRUE if first network interface was found; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the name of the first interface.</p>
<section id="usage-example-211" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb389"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb389-1"><a href="#cb389-1"></a><span class="kw">if</span> <span class="ex">retrieveIface</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb390"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb390-1"><a href="#cb390-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Interface candidate: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb391"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb391-1"><a href="#cb391-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="retrieveifaces" class="level3 function">
<h3>retrieveIfaces</h3>
<p>Retrieves all regular (excluding localhost, VPN, Docker, VirtualBox, etc) network interfaces.</p>
<p>Returns 0/TRUE if network interfaces were found; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the interface names.</p>
<section id="usage-example-212" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb392"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb392-1"><a href="#cb392-1"></a><span class="kw">if</span> <span class="ex">retrieveIfaces</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb393"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb393-1"><a href="#cb393-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Interfaces: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb394"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb394-1"><a href="#cb394-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="retrieveip-interface" class="level3 function">
<h3>retrieveIp <code>interface</code></h3>
<p>Retrieves the IP for given interface.</p>
<section id="parameters-160" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>interface</code></dt>
<dd>The interface name.
</dd>
</dl>
<p>Returns 0/TRUE if the IP is up; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the IP.</p>
</section>
<section id="usage-example-213" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb395"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb395-1"><a href="#cb395-1"></a><span class="kw">if</span> <span class="ex">retrieveIp</span> <span class="st">&quot;eth0&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb396"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb396-1"><a href="#cb396-1"></a>  <span class="bu">echo</span> <span class="st">&quot;IP: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb397"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb397-1"><a href="#cb397-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="retrieveownip" class="level3 function">
<h3>retrieveOwnIp</h3>
<p>Retrieves the IP of the default interface.</p>
<p>Returns 0/TRUE if the IP can be retrieved; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the IP.</p>
<section id="usage-example-214" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb398"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb398-1"><a href="#cb398-1"></a><span class="kw">if</span> <span class="ex">retrieveOwnIp</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb399"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb399-1"><a href="#cb399-1"></a>  <span class="bu">echo</span> <span class="st">&quot;My IP is </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb400"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb400-1"><a href="#cb400-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="retrievesubnet24-interface" class="level3 function">
<h3>retrieveSubnet24 <code>interface</code></h3>
<p>Retrieves the /24 subnet of given network interface.</p>
<section id="parameters-161" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>interface</code></dt>
<dd>The interface name.
</dd>
</dl>
<p>Returns 0/TRUE if the subnet information is available; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains /24 subnet.</p>
</section>
<section id="usage-example-215" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb401"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb401-1"><a href="#cb401-1"></a><span class="kw">if</span> <span class="ex">retrieveSubnet24</span> <span class="st">&quot;eth0&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb402"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb402-1"><a href="#cb402-1"></a>  <span class="bu">echo</span> <span class="st">&quot;The /24 subnet for eth0 is </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb403"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb403-1"><a href="#cb403-1"></a><span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-number" class="level1">
<h1>API Reference (number)</h1>
<section id="number" class="level2 module">
<h2>number</h2>
<p>Standard, general-purpose numeric functions.</p>
<section id="isnumber-input" class="level3 function">
<h3>isNumber <code>input</code></h3>
<p>Checks whether given value is a number</p>
<section id="parameters-162" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>input</code></dt>
<dd>The input.
</dd>
</dl>
<p>Returns 0/TRUE if the input is a number; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-216" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb404"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb404-1"><a href="#cb404-1"></a><span class="kw">if</span> <span class="ex">isNumber</span> <span class="st">&quot;</span><span class="va">${value}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb405"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb405-1"><a href="#cb405-1"></a>  <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${value}</span><span class="st"> is a number&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb406"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb406-1"><a href="#cb406-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="mod-dividend-divisor" class="level3 function">
<h3>mod <code>dividend</code> <code>divisor</code></h3>
<p>Calculates the modulus.</p>
<section id="parameters-163" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>dividend</code></dt>
<dd>The dividend.
</dd>
<dt><code>divisor</code></dt>
<dd>The divisor.
</dd>
</dl>
<p>Returns 0/TRUE unless any operation is not numeric; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-217" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb407"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb407-1"><a href="#cb407-1"></a><span class="kw">if</span> <span class="ex">mod</span> <span class="va">${value}</span> 100<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb408"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb408-1"><a href="#cb408-1"></a>  <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${value}</span><span class="st"> mod 100 -&gt; </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb409"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb409-1"><a href="#cb409-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="isgreaterthan-first-second" class="level3 function">
<h3>isGreaterThan <code>first</code> <code>second</code></h3>
<p>Checks whether the first number is greater than the second number.</p>
<section id="parameters-164" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>first</code></dt>
<dd>The first number.
</dd>
<dt><code>second</code></dt>
<dd>The second number.
</dd>
</dl>
<p>Returns 0/TRUE if the first number is greater than the second; 1/FALSE if is less or equal than the second; 255 if any of them is not a number.</p>
</section>
<section id="usage-example-218" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb410"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb410-1"><a href="#cb410-1"></a><span class="kw">if</span> <span class="ex">isGreaterThan</span> <span class="va">${value}</span> 0<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb411"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb411-1"><a href="#cb411-1"></a>  <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${value}</span><span class="st"> is positive&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb412"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb412-1"><a href="#cb412-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="isgreaterorequalto-first-second" class="level3 function">
<h3>isGreaterOrEqualTo <code>first</code> <code>second</code></h3>
<p>Checks whether the first number is greater or equal to the second number.</p>
<section id="parameters-165" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>first</code></dt>
<dd>The first number.
</dd>
<dt><code>second</code></dt>
<dd>The second number.
</dd>
</dl>
<p>Returns 0/TRUE if the first number is equal to or greater than the second; 1/FALSE if is less than the second; 255 if any of them is not a number.</p>
</section>
<section id="usage-example-219" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb413"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb413-1"><a href="#cb413-1"></a><span class="kw">if</span> <span class="ex">isGreaterOrEqualTo</span> <span class="va">${value}</span> 1<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb414"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb414-1"><a href="#cb414-1"></a>  <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${value}</span><span class="st"> is positive&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb415"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb415-1"><a href="#cb415-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="islessthan-first-second" class="level3 function">
<h3>isLessThan <code>first</code> <code>second</code></h3>
<p>Checks whether the first number is less than the second number.</p>
<section id="parameters-166" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>first</code></dt>
<dd>The first number.
</dd>
<dt><code>second</code></dt>
<dd>The second number.
</dd>
</dl>
<p>Returns 0/TRUE if the first number is less than the second; 1/FALSE if is greater or equal than the second; 255 if any of them is not a number.</p>
</section>
<section id="usage-example-220" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb416"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb416-1"><a href="#cb416-1"></a><span class="kw">if</span> <span class="ex">isLessThan</span> <span class="va">${value}</span> 0<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb417"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb417-1"><a href="#cb417-1"></a>  <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${value}</span><span class="st"> is negative&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb418"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb418-1"><a href="#cb418-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="islessorequalto-first-second" class="level3 function">
<h3>isLessOrEqualTo <code>first</code> <code>second</code></h3>
<p>Checks whether the first number is less or equal to than the second number.</p>
<section id="parameters-167" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>first</code></dt>
<dd>The first number.
</dd>
<dt><code>second</code></dt>
<dd>The second number.
</dd>
</dl>
<p>Returns 0/TRUE if the first number is less or equal to the second; 1/FALSE if is greater than the second; 255 if any of them is not a number.</p>
</section>
<section id="usage-example-221" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb419"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb419-1"><a href="#cb419-1"></a><span class="kw">if</span> <span class="ex">isLessOrEqualTo</span> <span class="va">${value}</span> -1<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb420"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb420-1"><a href="#cb420-1"></a>  <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${value}</span><span class="st"> is negative&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb421"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb421-1"><a href="#cb421-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="toordinal-input" class="level3 function">
<h3>toOrdinal <code>input</code></h3>
<p>Converts a number to its ordinal representation.</p>
<section id="parameters-168" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>input</code></dt>
<dd>The input number.
</dd>
</dl>
<p>Returns 0/TRUE if the number could be converted; 1/FALSE otherwise.</p>
<p>The variable RESULT contains the ordinal.</p>
</section>
<section id="usage-example-222" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb422"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb422-1"><a href="#cb422-1"></a><span class="kw">if</span> <span class="ex">toOrdinal</span> <span class="st">&quot;</span><span class="va">${index}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb423"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb423-1"><a href="#cb423-1"></a>  <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${RESULT}</span><span class="st"> item&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb424"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb424-1"><a href="#cb424-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="lastdigit-number" class="level3 function">
<h3>lastDigit <code>number</code></h3>
<p>Retrieves the last digit of given number.</p>
<section id="parameters-169" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>number</code></dt>
<dd>The input number.
</dd>
</dl>
<p>Returns 0/TRUE if the input is a number; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-223" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb425"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb425-1"><a href="#cb425-1"></a><span class="kw">if</span> <span class="ex">lastDigit</span> <span class="st">&quot;335&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb426"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb426-1"><a href="#cb426-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Last digit: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb427"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb427-1"><a href="#cb427-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="add-first-second" class="level3 function">
<h3>add <code>first</code> <code>second</code></h3>
<p>Adds given numbers.</p>
<section id="parameters-170" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>first</code></dt>
<dd>The first number.
</dd>
<dt><code>second</code></dt>
<dd>The second number.
</dd>
</dl>
<p>Returns 0/TRUE if the numbers could be added; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the sum.</p>
</section>
<section id="usage-example-224" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb428"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb428-1"><a href="#cb428-1"></a><span class="kw">if</span> <span class="ex">add</span> 3 9<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb429"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb429-1"><a href="#cb429-1"></a>  <span class="bu">echo</span> <span class="st">&quot;3+9=</span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb430"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb430-1"><a href="#cb430-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="subtract-first-second" class="level3 function">
<h3>subtract <code>first</code> <code>second</code></h3>
<p>Substracts the second number from the first one.</p>
<section id="parameters-171" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>first</code></dt>
<dd>The first number.
</dd>
<dt><code>second</code></dt>
<dd>The second number.
</dd>
</dl>
<p>Returns 0/TRUE if the subtraction was possible; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the subtraction.</p>
</section>
<section id="usage-example-225" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb431"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb431-1"><a href="#cb431-1"></a><span class="kw">if</span> <span class="ex">subtract</span> 9 3<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb432"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb432-1"><a href="#cb432-1"></a>  <span class="bu">echo</span> <span class="st">&quot;9-3=</span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb433"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb433-1"><a href="#cb433-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="multiply-first-second" class="level3 function">
<h3>multiply <code>first</code> <code>second</code></h3>
<p>Multiplies given numbers.</p>
<section id="parameters-172" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>first</code></dt>
<dd>The first number.
</dd>
<dt><code>second</code></dt>
<dd>The second number.
</dd>
</dl>
<p>Returns 0/TRUE if the numbers could be multiplied; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the product.</p>
</section>
<section id="usage-example-226" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb434"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb434-1"><a href="#cb434-1"></a><span class="kw">if</span> <span class="ex">multiply</span> 3 9<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb435"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb435-1"><a href="#cb435-1"></a>  <span class="bu">echo</span> <span class="st">&quot;3*9=</span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb436"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb436-1"><a href="#cb436-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="divide-first-second" class="level3 function">
<h3>divide <code>first</code> <code>second</code></h3>
<p>Multiplies given numbers.</p>
<section id="parameters-173" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>first</code></dt>
<dd>The first number.
</dd>
<dt><code>second</code></dt>
<dd>The second number.
</dd>
</dl>
<p>Returns 0/TRUE if the numbers could be divided; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the division.</p>
</section>
<section id="usage-example-227" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb437"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb437-1"><a href="#cb437-1"></a><span class="kw">if</span> <span class="ex">divide</span> 9 3<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb438"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb438-1"><a href="#cb438-1"></a>  <span class="bu">echo</span> <span class="st">&quot;9/3=</span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb439"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb439-1"><a href="#cb439-1"></a><span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-package" class="level1">
<h1>API Reference (package)</h1>
<section id="package" class="level2 module">
<h2>package</h2>
<p>Package functions.</p>
<section id="isinstalled-program" class="level3 function">
<h3>isInstalled <code>program</code></h3>
<p>Checks a required package is installed.</p>
<section id="parameters-174" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>program</code></dt>
<dd>The program name.
</dd>
</dl>
<p>Returns 0/TRUE if given program is available in the PATH; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-228" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb440"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb440-1"><a href="#cb440-1"></a><span class="kw">if</span> ! <span class="ex">isInstalled</span> <span class="st">&quot;ifconfig&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb441"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb441-1"><a href="#cb441-1"></a>  <span class="bu">echo</span> <span class="st">&quot;ifconfig is not available&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb442"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb442-1"><a href="#cb442-1"></a><span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-process" class="level1">
<h1>API Reference (process)</h1>
<section id="process" class="level2 module">
<h2>process</h2>
<p>Functions dealing with external processes.</p>
<section id="isrunning-filepath" class="level3 function">
<h3>isRunning <code>filePath</code></h3>
<p>Checks if a process is running.</p>
<section id="parameters-175" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>filePath</code></dt>
<dd>The path of the executable.
</dd>
</dl>
<p>Returns 0/${TRUE} if the process is running; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the pid of the process.</p>
</section>
<section id="usage-example-229" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb443"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb443-1"><a href="#cb443-1"></a><span class="kw">if</span> <span class="ex">isRunning</span> /bin/bash<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb444"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb444-1"><a href="#cb444-1"></a>  <span class="bu">echo</span> <span class="st">&quot;bash pid: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb445"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb445-1"><a href="#cb445-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="halt-seconds" class="level3 function">
<h3>halt <code>seconds?</code></h3>
<p>Halts the process (keeps it paused forever).</p>
<section id="parameters-176" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>seconds</code></dt>
<dd>The amount of seconds to sleep, periodically. Optional.
</dd>
</dl>
<p>Doesn’t return.</p>
</section>
<section id="usage-example-230" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb446"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb446-1"><a href="#cb446-1"></a><span class="ex">halt</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="anotherprocessalreadyrunning" class="level3 function">
<h3>anotherProcessAlreadyRunning</h3>
<p>Checks if this script is already running.</p>
<p>Returns 0/TRUE in such case; 1/FALSE otherwise.</p>
<section id="usage-example-231" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb447"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb447-1"><a href="#cb447-1"></a><span class="kw">if</span> <span class="ex">anotherProcessAlreadyRunning</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb448"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb448-1"><a href="#cb448-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Another process already running&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb449"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb449-1"><a href="#cb449-1"></a><span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-ssh" class="level1">
<h1>API Reference (ssh)</h1>
<section id="ssh" class="level2 module">
<h2>ssh</h2>
<p>SSH-related functions.</p>
<section id="remotesshcommand-user-server-command" class="level3 function">
<h3>remoteSshCommand <code>user</code> <code>server</code> <code>command*</code></h3>
<p>Runs a command in a remote server, via SSH.</p>
<section id="parameters-177" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>user</code></dt>
<dd>The user name.
</dd>
<dt><code>server</code></dt>
<dd>The remote server.
</dd>
<dt><code>command</code></dt>
<dd>The command to run.
</dd>
</dl>
<p>Returns the result code of the command.</p>
<p>If the function returns 0/TRUE; then the variable RESULT contains the output of the command.</p>
</section>
<section id="usage-example-232" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb450"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb450-1"><a href="#cb450-1"></a><span class="kw">if</span> <span class="ex">remoteSshCommand</span> user ssh.example.com <span class="st">&quot;who&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb451"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb451-1"><a href="#cb451-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Remote logged users: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb452"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb452-1"><a href="#cb452-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="remotesshcommandpipe-user-server-command-previouspipe" class="level3 function">
<h3>remoteSshCommandPipe <code>user</code> <code>server</code> <code>command</code> <code>previousPipe</code></h3>
<p>Pipes through a command in a remote server, via SSH.</p>
<section id="parameters-178" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>user</code></dt>
<dd>The user name.
</dd>
<dt><code>server</code></dt>
<dd>The remote server.
</dd>
<dt><code>command</code></dt>
<dd>The command to run in the remote server.
</dd>
<dt><code>previousPipe</code></dt>
<dd>The pipe to read from, which is piped to the remote command.
</dd>
</dl>
<p>Returns the result code of the remote command.</p>
<p>If the function returns 0/TRUE; then the variable RESULT contains the output of the command.</p>
</section>
<section id="usage-example-233" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb453"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb453-1"><a href="#cb453-1"></a><span class="kw">if</span> <span class="ex">remoteSshCommandPipe</span> user ssh.example.com <span class="st">&quot;tar -cvfz - /www&quot;</span> <span class="st">&quot;cat &gt; www.tar.gz&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb454"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb454-1"><a href="#cb454-1"></a>  <span class="ex">...</span></span></code></pre></div>
<div class="sourceCode" id="cb455"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb455-1"><a href="#cb455-1"></a><span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-stdlib" class="level1">
<h1>API Reference (stdlib)</h1>
<section id="stdlib" class="level2 module">
<h2>stdlib</h2>
<p>Standard, general-purpose functions.</p>
<section id="areequal-first-second" class="level3 function">
<h3>areEqual <code>first</code> <code>second</code></h3>
<p>Checks whether given parameters are equal.</p>
<section id="parameters-179" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>first</code></dt>
<dd>The first value.
</dd>
<dt><code>second</code></dt>
<dd>The second value.
</dd>
</dl>
<p>Returns 0/TRUE if both values are equal; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-234" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb456"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb456-1"><a href="#cb456-1"></a><span class="kw">if</span> <span class="ex">areEqual</span> <span class="st">&quot;</span><span class="va">${param}</span><span class="st">&quot;</span> <span class="st">&quot;</span><span class="va">${expected}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb457"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb457-1"><a href="#cb457-1"></a>  <span class="bu">echo</span> <span class="st">&quot;param equals expected (</span><span class="va">${param}</span><span class="st">)&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb458"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb458-1"><a href="#cb458-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="arenotequal-first-second" class="level3 function">
<h3>areNotEqual <code>first</code> <code>second</code></h3>
<p>Checks whether given parameters are not equal.</p>
<section id="parameters-180" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>first</code></dt>
<dd>The first value.
</dd>
<dt><code>second</code></dt>
<dd>The second value.
</dd>
</dl>
<p>Returns 0/TRUE if both values aren’t equal; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-235" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb459"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb459-1"><a href="#cb459-1"></a><span class="kw">if</span> <span class="ex">areEqual</span> <span class="st">&quot;</span><span class="va">${param}</span><span class="st">&quot;</span> <span class="st">&quot;</span><span class="va">${expected}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb460"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb460-1"><a href="#cb460-1"></a>  <span class="bu">echo</span> <span class="st">&quot;param (</span><span class="va">${param}</span><span class="st">) and expected </span><span class="va">${expected}</span><span class="st"> are not equal&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb461"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb461-1"><a href="#cb461-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="isdefined-var" class="level3 function">
<h3>isDefined <code>var</code></h3>
<p>Checks whether given value is defined.</p>
<section id="parameters-181" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>var</code></dt>
<dd>The variable to check.
</dd>
</dl>
<p>Returns 0/TRUE if the value is empty; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-236" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb462"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb462-1"><a href="#cb462-1"></a><span class="kw">if</span> <span class="ex">isDefined</span> <span class="st">&quot;</span><span class="va">${MYVAR}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb463"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb463-1"><a href="#cb463-1"></a>  <span class="bu">echo</span> <span class="st">&quot;MYVAR is defined&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb464"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb464-1"><a href="#cb464-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="isempty-value" class="level3 function">
<h3>isEmpty <code>value</code></h3>
<p>Checks whether given value is empty.</p>
<section id="parameters-182" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>value</code></dt>
<dd>The value to check.
</dd>
</dl>
<p>Returns 0/TRUE if the value is empty; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-237" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb465"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb465-1"><a href="#cb465-1"></a><span class="kw">if</span> <span class="ex">isEmpty</span> <span class="st">&quot;</span><span class="va">${MYVAR}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb466"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb466-1"><a href="#cb466-1"></a>  <span class="bu">echo</span> <span class="st">&quot;MYVAR is empty&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb467"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb467-1"><a href="#cb467-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="isfalse-value" class="level3 function">
<h3>isFalse <code>value</code></h3>
<p>Checks whether given value is false.</p>
<section id="parameters-183" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>value</code></dt>
<dd>The value.
</dd>
</dl>
<p>Returns 0/TRUE if the value is false; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-238" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb468"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb468-1"><a href="#cb468-1"></a><span class="kw">if</span> <span class="ex">isFalse</span> <span class="st">&quot;</span><span class="va">${MYVAR}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb469"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb469-1"><a href="#cb469-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb470"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb470-1"><a href="#cb470-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="isfunctiondefined-functionname" class="level3 function">
<h3>isFunctionDefined <code>functionName</code></h3>
<p>Checks if a given function is defined.</p>
<section id="parameters-184" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>functionName</code></dt>
<dd>The function name.
</dd>
</dl>
<p>Returns 0/TRUE if the function is defined; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-239" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb471"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb471-1"><a href="#cb471-1"></a><span class="kw">if</span> <span class="ex">functionDefined</span> <span class="st">&quot;readFile&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb472"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb472-1"><a href="#cb472-1"></a>  <span class="ex">readFile</span> ...<span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb473"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb473-1"><a href="#cb473-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="isnotempty-value" class="level3 function">
<h3>isNotEmpty <code>value</code></h3>
<p>Checks whether given value is not empty.</p>
<section id="parameters-185" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>value</code></dt>
<dd>The value to check.
</dd>
</dl>
<p>Returns 0/TRUE if the value is not empty; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-240" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb474"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb474-1"><a href="#cb474-1"></a><span class="kw">if</span> <span class="ex">isNotEmpty</span> <span class="st">&quot;</span><span class="va">${MYVAR}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb475"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb475-1"><a href="#cb475-1"></a> <span class="bu">echo</span> is not empty<span class="st">&quot;;</span></span></code></pre></div>
<div class="sourceCode" id="cb476"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb476-1"><a href="#cb476-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="isnotzero-value" class="level3 function">
<h3>isNotZero <code>value</code></h3>
<p>Checks whether given value is not zero.</p>
<section id="parameters-186" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>value</code></dt>
<dd>The value.
</dd>
</dl>
<p>Returns 0/TRUE if the value is zero; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-241" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb477"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb477-1"><a href="#cb477-1"></a><span class="kw">if</span> <span class="ex">isNotZero</span> <span class="st">&quot;</span><span class="va">${MYVAR}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb478"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb478-1"><a href="#cb478-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb479"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb479-1"><a href="#cb479-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="istrue-value" class="level3 function">
<h3>isTrue <code>value</code></h3>
<p>Checks whether given value is true.</p>
<section id="parameters-187" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>value</code></dt>
<dd>The value.
</dd>
</dl>
<p>Returns 0/TRUE if the value is true; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-242" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb480"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb480-1"><a href="#cb480-1"></a><span class="kw">if</span> <span class="ex">isTrue</span> <span class="st">&quot;</span><span class="va">${MYVAR}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb481"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb481-1"><a href="#cb481-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb482"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb482-1"><a href="#cb482-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="isvariabledefined-var" class="level3 function">
<h3>isVariableDefined <code>var</code></h3>
<p>Checks whether given variable is defined.</p>
<section id="parameters-188" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>var</code></dt>
<dd>The variable value to check.
</dd>
</dl>
<p>Returns 0/TRUE if the value is empty; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-243" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb483"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb483-1"><a href="#cb483-1"></a><span class="kw">if</span> <span class="ex">isDefined</span> <span class="st">&quot;</span><span class="va">${MYVAR}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb484"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb484-1"><a href="#cb484-1"></a> <span class="bu">echo</span> <span class="st">&quot;MYVAR is defined&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb485"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb485-1"><a href="#cb485-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="iszero-value" class="level3 function">
<h3>isZero <code>value</code></h3>
<p>Checks whether given value is zero.</p>
<section id="parameters-189" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>value</code></dt>
<dd>The value.
</dd>
</dl>
<p>Returns 0/TRUE: if the value is zero; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-244" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb486"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb486-1"><a href="#cb486-1"></a><span class="kw">if</span> <span class="ex">isZero</span> <span class="st">&quot;</span><span class="va">${MYVAR}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb487"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb487-1"><a href="#cb487-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb488"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb488-1"><a href="#cb488-1"></a><span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-step" class="level1">
<h1>API Reference (step)</h1>
<section id="step" class="level2 module">
<h2>step</h2>
<p>Some simple functions to help with step-by-step scripts.</p>
<section id="isstepalreadydone-label" class="level3 function">
<h3>isStepAlreadyDone <code>label</code></h3>
<p>Checks if given step is already done.</p>
<section id="parameters-190" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>label</code></dt>
<dd>The step label.
</dd>
</dl>
<p>Returns 0/TRUE in such case; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-245" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb489"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb489-1"><a href="#cb489-1"></a><span class="kw">if</span> <span class="ex">isStepAlreadyDone</span> SAMPLE_STEP<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb490"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb490-1"><a href="#cb490-1"></a>  <span class="bu">echo</span> <span class="st">&quot;SAMPLE_STEP already done&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb491"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb491-1"><a href="#cb491-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="markstepasalreadydone-label" class="level3 function">
<h3>markStepAsAlreadyDone <code>label</code></h3>
<p>Annotanes given step is already done.</p>
<section id="parameters-191" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>label</code></dt>
<dd>The step label.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
</section>
<section id="usage-example-246" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb492"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb492-1"><a href="#cb492-1"></a><span class="ex">markStepAlreadyDone</span> SAMPLE_STEP<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setstepstatusfolder-folder" class="level3 function">
<h3>setStepStatusFolder <code>folder</code></h3>
<p>Specifies the step status folder (where the marked files are created).</p>
<p>Returns 0/TRUE always.</p>
<section id="usage-example-247" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb493"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb493-1"><a href="#cb493-1"></a><span class="ex">setStepStatusFolder</span> /tmp<span class="kw">;</span></span></code></pre></div>
</section>
<section id="environment-variables-3" class="level4">
<h4>Environment variables</h4>
<dl>
<dt><code>STATUS_FOLDER</code></dt>
<dd>The defined environment variables.
</dd>
</dl>
</section>
</section>
<section id="getstepstatusfolder" class="level3 function">
<h3>getStepStatusFolder</h3>
<p>Retrieves the step status folder (where the marked files are created).</p>
<p>Returns 0/TRUE always.</p>
<p>The variable RESULT contains the step status folder.</p>
<section id="usage-example-248" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb494"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb494-1"><a href="#cb494-1"></a><span class="ex">getStepStatusFolder</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb495"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb495-1"><a href="#cb495-1"></a><span class="bu">echo</span> <span class="st">&quot;Step status folder: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-string" class="level1">
<h1>API Reference (string)</h1>
<section id="string" class="level2 module">
<h2>string</h2>
<p>String-related functions.</p>
<section id="firstcharacter-text" class="level3 function">
<h3>firstCharacter <code>text</code></h3>
<p>Retrieves the first character of given text.</p>
<section id="parameters-192" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The input text.
</dd>
</dl>
<p>Returns 0/TRUE if the text is not empty; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the first character.</p>
</section>
<section id="usage-example-249" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb496"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb496-1"><a href="#cb496-1"></a><span class="kw">if</span> <span class="ex">firstCharacter</span> <span class="st">&quot;my-test&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb497"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb497-1"><a href="#cb497-1"></a>  <span class="bu">echo</span> <span class="st">&quot;first character: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb498"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb498-1"><a href="#cb498-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="lastcharacter-text" class="level3 function">
<h3>lastCharacter <code>text</code></h3>
<p>Retrieves the last character of given text.</p>
<section id="parameters-193" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The input text.
</dd>
</dl>
<p>Returns 0/TRUE if the text is not empty; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the last character.</p>
</section>
<section id="usage-example-250" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb499"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb499-1"><a href="#cb499-1"></a><span class="kw">if</span> <span class="ex">lastCharacter</span> <span class="st">&quot;my-test&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb500"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb500-1"><a href="#cb500-1"></a>  <span class="bu">echo</span> <span class="st">&quot;last character: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb501"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb501-1"><a href="#cb501-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="contains-text-substring" class="level3 function">
<h3>contains <code>text</code> <code>substring</code></h3>
<p>Checks whether the first parameter contains the second value.</p>
<section id="parameters-194" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The text.
</dd>
<dt><code>substring</code></dt>
<dd>The substring to check.
</dd>
</dl>
<p>Returns 0/TRUE if the text contains the substring; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-251" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb502"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb502-1"><a href="#cb502-1"></a><span class="kw">if</span> <span class="ex">contains</span> <span class="st">&quot;</span><span class="va">${text}</span><span class="st">&quot;</span> <span class="st">&quot;b&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb503"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb503-1"><a href="#cb503-1"></a>  <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${text}</span><span class="st"> contains b&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb504"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb504-1"><a href="#cb504-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="endswith-text-substring" class="level3 function">
<h3>endsWith <code>text</code> <code>substring</code></h3>
<p>Checks whether the first parameter ends with the second value.</p>
<section id="parameters-195" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The text.
</dd>
<dt><code>substring</code></dt>
<dd>The substring to check.
</dd>
</dl>
<p>Returns 0/TRUE if the text ends with the substring; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-252" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb505"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb505-1"><a href="#cb505-1"></a><span class="kw">if</span> <span class="ex">endsWith</span> <span class="st">&quot;</span><span class="va">${text}</span><span class="st">&quot;</span> <span class="st">&quot;c&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb506"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb506-1"><a href="#cb506-1"></a>  <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${text}</span><span class="st"> ends with c&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb507"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb507-1"><a href="#cb507-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="normalize-text" class="level3 function">
<h3>normalize <code>text</code></h3>
<p>Normalizes given string: converts non-alphanumeric characters to underscore.</p>
<section id="parameters-196" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The text to normalize.
</dd>
</dl>
<p>Returns 0/TRUE if the text could be normalized; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the normalized string.</p>
</section>
<section id="usage-example-253" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb508"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb508-1"><a href="#cb508-1"></a><span class="kw">if</span> <span class="ex">normalize</span> <span class="st">&quot;a_b.C&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb509"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb509-1"><a href="#cb509-1"></a>  <span class="bu">local</span> <span class="va">normalized=</span><span class="st">&quot;</span><span class="va">${RESULT}</span><span class="st">&quot;</span>; <span class="co"># &quot;a_b_C&quot;;</span></span></code></pre></div>
<div class="sourceCode" id="cb510"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb510-1"><a href="#cb510-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="normalizeuppercase-string" class="level3 function">
<h3>normalizeUppercase <code>string</code></h3>
<p>Normalizes given string: converts non-alphanumeric characters to underscore, and converts it to upper case.</p>
<section id="parameters-197" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>string</code></dt>
<dd>The string to convert.
</dd>
</dl>
<p>Returns 0/TRUE if the text could be converted; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the normalized string.</p>
</section>
<section id="usage-example-254" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb511"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb511-1"><a href="#cb511-1"></a><span class="kw">if</span> <span class="ex">normalize</span> <span class="st">&quot;a_b.C&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb512"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb512-1"><a href="#cb512-1"></a>  <span class="bu">local</span> <span class="va">normalized=</span><span class="st">&quot;</span><span class="va">${RESULT}</span><span class="st">&quot;</span>; <span class="co"># &quot;A_B_C&quot;;</span></span></code></pre></div>
<div class="sourceCode" id="cb513"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb513-1"><a href="#cb513-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="removeprefix-text-prefix" class="level3 function">
<h3>removePrefix <code>text</code> <code>prefix</code></h3>
<p>Removes the prefix of given string.</p>
<section id="parameters-198" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The string to process.
</dd>
<dt><code>prefix</code></dt>
<dd>The prefix to remove. It must not include the ‘%’ character.
</dd>
</dl>
<p>Returns 0/TRUE if the prefix was removed; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the string without the prefix.</p>
</section>
<section id="usage-example-255" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb514"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb514-1"><a href="#cb514-1"></a><span class="kw">if</span> <span class="ex">removePrefix</span> <span class="st">&quot;</span><span class="va">${_text}</span><span class="st">&quot;</span> <span class="st">&quot;--*&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb515"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb515-1"><a href="#cb515-1"></a>  <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${_text}</span><span class="st"> -&gt; </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb516"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb516-1"><a href="#cb516-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="removesuffix-text-suffix" class="level3 function">
<h3>removeSuffix <code>text</code> <code>suffix</code></h3>
<p>Removes the suffix of given string.</p>
<section id="parameters-199" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The string to process.
</dd>
<dt><code>suffix</code></dt>
<dd>The suffix to remove.
</dd>
</dl>
<p>Returns 0/TRUE if the suffix was removed; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the string without the suffix.</p>
</section>
<section id="usage-example-256" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb517"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb517-1"><a href="#cb517-1"></a><span class="kw">if</span> <span class="ex">removeSuffix</span> <span class="st">&quot;</span><span class="va">${_text}</span><span class="st">&quot;</span> <span class="st">&quot;-*&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb518"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb518-1"><a href="#cb518-1"></a>  <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${_text}</span><span class="st"> -&gt; </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb519"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb519-1"><a href="#cb519-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="replacenleftmosttokens-text-newtoken-n-separator" class="level3 function">
<h3>replaceNLeftmostTokens <code>text</code> <code>newToken</code> <code>n</code> <code>separator</code></h3>
<p>Replaces the n leftmost tokens from given text.</p>
<section id="parameters-200" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The text to process.
</dd>
<dt><code>newToken</code></dt>
<dd>The token replacement.
</dd>
<dt><code>n</code></dt>
<dd>The number of tokens to replace.
</dd>
<dt><code>separator</code></dt>
<dd>The separator.
</dd>
</dl>
<p>Returns 0/TRUE if the n left-most tokens could be replaced; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the new text.</p>
</section>
<section id="usage-example-257" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb520"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb520-1"><a href="#cb520-1"></a><span class="kw">if</span> <span class="ex">replaceNLeftmostTokens</span> <span class="st">&quot;a a a b b&quot;</span> <span class="st">&quot;b&quot;</span> 3 <span class="st">&quot; &quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb521"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb521-1"><a href="#cb521-1"></a>  <span class="bu">local</span> <span class="va">text=</span><span class="st">&quot;</span><span class="va">${RESULT}</span><span class="st">&quot;</span>; <span class="co"># &quot;b b b b b&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb522"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb522-1"><a href="#cb522-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="replacenrightmosttokens-text-newtoken-n-separator" class="level3 function">
<h3>replaceNRightmostTokens <code>text</code> <code>newToken</code> <code>n</code> <code>separator</code></h3>
<p>replaces the n rightmost tokens from given text.</p>
<section id="parameters-201" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>the text to process.
</dd>
<dt><code>newtoken</code></dt>
<dd>the token replacement.
</dd>
<dt><code>n</code></dt>
<dd>the number of tokens to replace.
</dd>
<dt><code>separator</code></dt>
<dd>the separator.
</dd>
</dl>
<p>Returns 0/TRUE if the n right-most tokens could be replaced; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable result contains the new text.</p>
</section>
<section id="usage-example-258" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb523"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb523-1"><a href="#cb523-1"></a><span class="kw">if</span> <span class="ex">replaceNRightmostTokens</span> <span class="st">&quot;a a a b b&quot;</span> <span class="st">&quot;a&quot;</span> 2 <span class="st">&quot; &quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb524"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb524-1"><a href="#cb524-1"></a>  <span class="bu">local</span> <span class="va">text=</span><span class="st">&quot;</span><span class="va">${RESULT}</span><span class="st">&quot;</span>; <span class="co"># &quot;a a a a a&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb525"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb525-1"><a href="#cb525-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="startswith-text-substring" class="level3 function">
<h3>startsWith <code>text</code> <code>substring</code></h3>
<p>Checks whether the first parameter starts with the second value.</p>
<section id="parameters-202" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The text.
</dd>
<dt><code>substring</code></dt>
<dd>The substring to check.
</dd>
</dl>
<p>Returns 0/TRUE if the text starts with the substring; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-259" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb526"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb526-1"><a href="#cb526-1"></a><span class="kw">if</span> <span class="ex">startsWith</span> <span class="st">&quot;</span><span class="va">${text}</span><span class="st">&quot;</span> <span class="st">&quot;a&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb527"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb527-1"><a href="#cb527-1"></a>  <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${text}</span><span class="st"> starts with a&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb528"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb528-1"><a href="#cb528-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="tolower-text" class="level3 function">
<h3>toLower <code>text</code></h3>
<p>Converts given string to lower case.</p>
<section id="parameters-203" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The string to convert.
</dd>
</dl>
<p>Returns 0/TRUE if the text could be converted to lower case; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the converted string.</p>
</section>
<section id="usage-example-260" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb529"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb529-1"><a href="#cb529-1"></a><span class="bu">local</span> <span class="va">_text=</span><span class="st">&quot;ABC&quot;</span>;</span></code></pre></div>
<div class="sourceCode" id="cb530"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb530-1"><a href="#cb530-1"></a><span class="kw">if</span> <span class="ex">toLower</span> <span class="st">&quot;</span><span class="va">${_text}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb531"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb531-1"><a href="#cb531-1"></a>  <span class="bu">local</span> <span class="va">_lowerCase=</span><span class="st">&quot;</span><span class="va">${RESULT}</span><span class="st">&quot;</span>;</span></code></pre></div>
<div class="sourceCode" id="cb532"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb532-1"><a href="#cb532-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="toupper-text" class="level3 function">
<h3>toUpper <code>text</code></h3>
<p>Converts given string to upper case.</p>
<section id="parameters-204" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The string to convert.
</dd>
</dl>
<p>Returns 0/TRUE if the text could be converted; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the string in upper case.</p>
</section>
<section id="usage-example-261" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb533"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb533-1"><a href="#cb533-1"></a><span class="bu">local</span> <span class="va">_text=</span><span class="st">&quot;abc&quot;</span>;</span></code></pre></div>
<div class="sourceCode" id="cb534"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb534-1"><a href="#cb534-1"></a><span class="kw">if</span> <span class="ex">toUpper</span> <span class="st">&quot;</span><span class="va">${_text}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb535"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb535-1"><a href="#cb535-1"></a>  <span class="bu">local</span> <span class="va">_upcased=</span><span class="st">&quot;</span><span class="va">${RESULT}</span><span class="st">&quot;</span>;</span></code></pre></div>
<div class="sourceCode" id="cb536"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb536-1"><a href="#cb536-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="replaceall-text-old-replacement" class="level3 function">
<h3>replaceAll <code>text</code> <code>old</code> <code>replacement</code></h3>
<p>Replaces all occurrences of a string in given text.</p>
<section id="parameters-205" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The text to process.
</dd>
<dt><code>old</code></dt>
<dd>The string to replace.
</dd>
<dt><code>replacement</code></dt>
<dd>The replacement.
</dd>
</dl>
<p>Returns 0/TRUE if anything was replaced; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-262" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb537"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb537-1"><a href="#cb537-1"></a><span class="kw">if</span> <span class="ex">replaceAll</span> <span class="st">&quot;a b c&quot;</span> <span class="st">&quot; &quot;</span> <span class="st">&quot;,&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb538"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb538-1"><a href="#cb538-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb539"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb539-1"><a href="#cb539-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="split-text-separator-arrayname" class="level3 function">
<h3>split <code>text</code> <code>separator</code> <code>arrayName</code></h3>
<p>Splits given text using a separator.</p>
<section id="parameters-206" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The text.
</dd>
<dt><code>separator</code></dt>
<dd>The separator.
</dd>
<dt><code>arrayName</code></dt>
<dd>The destination array.
</dd>
</dl>
<p>Returns 0/TRUE if the text could be splitted; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-263" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb540"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb540-1"><a href="#cb540-1"></a><span class="kw">if</span> <span class="fu">split</span> <span class="st">&quot;</span><span class="va">${csvVariable}</span><span class="st">&quot;</span> <span class="st">&quot;,&quot;</span> arr<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb541"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb541-1"><a href="#cb541-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Splitted: </span><span class="va">${arr[@]}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb542"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb542-1"><a href="#cb542-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="startsandendswith-text-delimiter" class="level3 function">
<h3>startsAndEndsWith <code>text</code> <code>delimiter</code></h3>
<p>Checks whether given text is surrounded by a specific delimiter.</p>
<section id="parameters-207" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The text.
</dd>
<dt><code>delimiter</code></dt>
<dd>The delimiter.
</dd>
</dl>
<p>Returns 0/TRUE if the text starts and ends with given delimiter; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-264" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb543"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb543-1"><a href="#cb543-1"></a><span class="kw">if</span> <span class="ex">startsAndEndsWith</span> <span class="st">&quot;</span><span class="va">${line}</span><span class="st">&quot;</span> <span class="st">&#39;|&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb544"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb544-1"><a href="#cb544-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Org table format&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb545"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb545-1"><a href="#cb545-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="removesurrounding-text-delimiter" class="level3 function">
<h3>removeSurrounding <code>text</code> <code>delimiter</code></h3>
<p>Removes the delimiter at the start and at the end of given text.</p>
<section id="parameters-208" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The text.
</dd>
<dt><code>delimiter</code></dt>
<dd>The delimiter.
</dd>
</dl>
<p>Returns 0/TRUE if the delimiter was actually surrounding the text; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE; the variable RESULT contains the text without the delimiters.</p>
</section>
<section id="usage-example-265" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb546"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb546-1"><a href="#cb546-1"></a><span class="kw">if</span> <span class="ex">removeSurrounding</span> <span class="st">&quot;</span><span class="va">${var}</span><span class="st">&quot;</span> <span class="st">&#39;&quot;&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb547"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb547-1"><a href="#cb547-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Resulting var: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb548"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb548-1"><a href="#cb548-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="trim-text" class="level3 function">
<h3>trim <code>text</code></h3>
<p>Removes any blank spaces at the start and at the end of given text.</p>
<section id="parameters-209" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The text.
</dd>
</dl>
<p>Returns 0/TRUE always.</p>
<p>The variable RESULT contains the trimmed text.</p>
</section>
<section id="usage-example-266" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb549"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb549-1"><a href="#cb549-1"></a><span class="ex">trim</span> <span class="st">&quot;</span><span class="va">${var}</span><span class="st">&quot;</span> <span class="st">&#39;&quot;&#39;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb550"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb550-1"><a href="#cb550-1"></a><span class="bu">echo</span> <span class="st">&quot;Trimmed var: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="keyvaluesplit-text" class="level3 function">
<h3>keyValueSplit <code>text</code></h3>
<p>Splits given text into a newline-delimited key=value pairs.</p>
<section id="parameters-210" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The text.
</dd>
</dl>
<p>Returns 0/TRUE if the text was splitted successfuly; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the splitted pairs.</p>
</section>
<section id="usage-example-267" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb551"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb551-1"><a href="#cb551-1"></a><span class="kw">if</span> <span class="ex">keyValueSplit</span> <span class="st">&quot;</span><span class="va">${vars}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb552"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb552-1"><a href="#cb552-1"></a>  <span class="va">IFS=</span><span class="st">&#39;n&#39;</span> <span class="kw">for</span> <span class="ex">var</span> in <span class="va">${vars}</span><span class="kw">;</span> <span class="kw">do</span></span></code></pre></div>
<div class="sourceCode" id="cb553"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb553-1"><a href="#cb553-1"></a>    <span class="bu">echo</span> <span class="st">&quot;var: </span><span class="va">${var}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb554"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb554-1"><a href="#cb554-1"></a>  <span class="kw">done</span>;</span></code></pre></div>
<div class="sourceCode" id="cb555"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb555-1"><a href="#cb555-1"></a> <span class="kw">fi</span></span>
<span id="cb555-2"><a href="#cb555-2"></a>   <span class="bu">printf</span>(<span class="st">&quot;%s=&quot;</span>, value[0]);</span>
<span id="cb555-3"><a href="#cb555-3"></a>   <span class="kw">for</span> <span class="kw">(</span><span class="va">i=</span>1; <span class="ex">i</span><span class="op">&lt;</span>len-2<span class="kw">;</span> <span class="ex">i++</span><span class="kw">)</span> <span class="kw">{</span></span>
<span id="cb555-4"><a href="#cb555-4"></a>           <span class="bu">printf</span>(<span class="st">&quot;%s &quot;</span>, value[i]);</span>
<span id="cb555-5"><a href="#cb555-5"></a>       <span class="kw">}</span>;</span>
<span id="cb555-6"><a href="#cb555-6"></a>       <span class="ex">print</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="splitandextract-input-separator-index" class="level3 function">
<h3>splitAndExtract <code>input</code> <code>separator</code> <code>index</code></h3>
<p>Extracts an item after splitting given input using a separator.</p>
<section id="parameters-211" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>input</code></dt>
<dd>The input.
</dd>
<dt><code>separator</code></dt>
<dd>The separator.
</dd>
<dt><code>index</code></dt>
<dd>The 0-based index of the item to extract.
</dd>
</dl>
<p>Returns 0/TRUE if the item was extracted; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the requested item.</p>
</section>
<section id="usage-example-268" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb556"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb556-1"><a href="#cb556-1"></a><span class="kw">if</span> <span class="ex">splitAndExtract</span> <span class="st">&quot;2019-09-01&quot;</span> <span class="st">&quot;-&quot;</span> 0<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb557"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb557-1"><a href="#cb557-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Year: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb558"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb558-1"><a href="#cb558-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="sha512-value" class="level3 function">
<h3>sha512 <code>value</code></h3>
<p>Calculates the SHA-512 hash of given value.</p>
<section id="parameters-212" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>value</code></dt>
<dd>The value.
</dd>
</dl>
<p>Returns 0/TRUE if the hash was calculated; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the hash value.</p>
</section>
<section id="usage-example-269" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb559"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb559-1"><a href="#cb559-1"></a><span class="kw">if</span> <span class="ex">sha512</span> <span class="st">&quot;myText&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb560"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb560-1"><a href="#cb560-1"></a>  <span class="bu">echo</span> <span class="st">&quot;SHA-512: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb561"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb561-1"><a href="#cb561-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="sha384-value" class="level3 function">
<h3>sha384 <code>value</code></h3>
<p>Calculates the SHA-384 hash of given value.</p>
<section id="parameters-213" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>value</code></dt>
<dd>The value.
</dd>
</dl>
<p>Returns 0/TRUE if the hash was calculated; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the hash value.</p>
</section>
<section id="usage-example-270" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb562"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb562-1"><a href="#cb562-1"></a><span class="kw">if</span> <span class="ex">sha384</span> <span class="st">&quot;myText&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb563"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb563-1"><a href="#cb563-1"></a>  <span class="bu">echo</span> <span class="st">&quot;SHA-384: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb564"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb564-1"><a href="#cb564-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="sha256-value" class="level3 function">
<h3>sha256 <code>value</code></h3>
<p>Calculates the SHA-256 hash of given value.</p>
<section id="parameters-214" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>value</code></dt>
<dd>The value.
</dd>
</dl>
<p>Returns 0/TRUE if the hash was calculated; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the hash value.</p>
</section>
<section id="usage-example-271" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb565"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb565-1"><a href="#cb565-1"></a><span class="kw">if</span> <span class="ex">sha256</span> <span class="st">&quot;myText&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb566"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb566-1"><a href="#cb566-1"></a>  <span class="bu">echo</span> <span class="st">&quot;SHA-256: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb567"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb567-1"><a href="#cb567-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="sha224-value" class="level3 function">
<h3>sha224 <code>value</code></h3>
<p>Calculates the SHA-224 hash of given value.</p>
<section id="parameters-215" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>value</code></dt>
<dd>The value.
</dd>
</dl>
<p>Returns 0/TRUE if the hash was calculated; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the hash value.</p>
</section>
<section id="usage-example-272" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb568"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb568-1"><a href="#cb568-1"></a><span class="kw">if</span> <span class="ex">sha224</span> <span class="st">&quot;myText&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb569"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb569-1"><a href="#cb569-1"></a>  <span class="bu">echo</span> <span class="st">&quot;SHA-224: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb570"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb570-1"><a href="#cb570-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="sha1-value" class="level3 function">
<h3>sha1 <code>value</code></h3>
<p>Calculates the SHA-1 hash of given value.</p>
<section id="parameters-216" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>value</code></dt>
<dd>The value.
</dd>
</dl>
<p>Returns 0/TRUE if the hash was calculated; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the hash value.</p>
</section>
<section id="usage-example-273" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb571"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb571-1"><a href="#cb571-1"></a><span class="kw">if</span> <span class="ex">sha1</span> <span class="st">&quot;myText&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb572"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb572-1"><a href="#cb572-1"></a>  <span class="bu">echo</span> <span class="st">&quot;SHA-1: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb573"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb573-1"><a href="#cb573-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="sha-value" class="level3 function">
<h3>sha <code>value</code></h3>
<p>Calculates the SHA hash of given value.</p>
<section id="parameters-217" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>value</code></dt>
<dd>The value.
</dd>
</dl>
<p>Returns 0/TRUE if the hash was calculated; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the hash value.</p>
</section>
<section id="usage-example-274" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb574"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb574-1"><a href="#cb574-1"></a><span class="kw">if</span> <span class="ex">sha</span> <span class="st">&quot;myText&quot;</span><span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span></span></code></pre></div>
<div class="sourceCode" id="cb575"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb575-1"><a href="#cb575-1"></a><span class="st">&quot;SHA: </span><span class="va">${RESULT}</span><span class="st">&quot;</span>;</span></code></pre></div>
<div class="sourceCode" id="cb576"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb576-1"><a href="#cb576-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="hash-hash-value" class="level3 function">
<h3>hash <code>hash</code> <code>value</code></h3>
<p>Calculates a hash of given value.</p>
<section id="parameters-218" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>hash</code></dt>
<dd>The hash.
</dd>
<dt><code>value</code></dt>
<dd>The value.
</dd>
</dl>
<p>Returns 0/TRUE if the hash was calculated; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the hash value.</p>
</section>
<section id="usage-example-275" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb577"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb577-1"><a href="#cb577-1"></a><span class="kw">if</span> <span class="bu">hash</span> sha512 <span class="st">&quot;myText&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb578"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb578-1"><a href="#cb578-1"></a>  <span class="bu">echo</span> <span class="st">&quot;SHA-512: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb579"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb579-1"><a href="#cb579-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="countmatchesofcharsinstring-chars-string" class="level3 function">
<h3>countMatchesOfCharsInString <code>chars</code> <code>string</code></h3>
<p>Counts the number of occurrences of given characters in a string.</p>
<section id="parameters-219" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>chars</code></dt>
<dd>The characters.
</dd>
<dt><code>string</code></dt>
<dd>The string.
</dd>
</dl>
<p>Returns 0/<span class="math inline"><em>T</em><em>R</em><em>U</em><em>E</em><em>i</em><em>f</em><em>t</em><em>h</em><em>e</em><em>i</em><em>n</em><em>p</em><em>u</em><em>t</em><em>i</em><em>s</em><em>v</em><em>a</em><em>l</em><em>i</em><em>d</em>; 1/</span>{FALSE} otherwise.</p>
<p>If the function returns 0/${TRUE}, the variable RESULT contains the number of occurrences.</p>
</section>
<section id="usage-example-276" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb580"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb580-1"><a href="#cb580-1"></a><span class="kw">if</span> <span class="ex">countMatchesOfCharsInString</span> <span class="st">&#39;ab&#39;</span> <span class="st">&#39;abcaba&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb581"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb581-1"><a href="#cb581-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Occurrences: </span><span class="va">${RESULT}</span><span class="st"> (should be 5)&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb582"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb582-1"><a href="#cb582-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="camelcasetopascalcase-text" class="level3 function">
<h3>camelCaseToPascalCase <code>text</code></h3>
<p>Converts given text in camel case to Pascal case.</p>
<section id="parameters-220" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The text to convert.
</dd>
</dl>
<p>Returns 0/${TRUE} always.</p>
<p>The variable RESULT contains the text in Pascal case.</p>
</section>
<section id="usage-example-277" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb583"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb583-1"><a href="#cb583-1"></a><span class="ex">camelCaseToPascalCase</span> <span class="st">&quot;baseFolder&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb584"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb584-1"><a href="#cb584-1"></a><span class="bu">echo</span> <span class="st">&quot;baseFolder -&gt; </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="camelcasetosnakecase-text" class="level3 function">
<h3>camelCaseToSnakeCase <code>text</code></h3>
<p>Converts given text in camel case to snake case.</p>
<section id="parameters-221" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The text to convert.
</dd>
</dl>
<p>Returns 0/${TRUE} if the conversion works; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the text in snake case.</p>
</section>
<section id="usage-example-278" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb585"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb585-1"><a href="#cb585-1"></a><span class="kw">if</span> <span class="ex">camelCaseToSnakeCase</span> <span class="st">&quot;baseFolder&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb586"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb586-1"><a href="#cb586-1"></a>  <span class="bu">echo</span> <span class="st">&quot;baseFolder -&gt; </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="co"># base_folder</span></span></code></pre></div>
<div class="sourceCode" id="cb587"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb587-1"><a href="#cb587-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="snakecasetocamelcase-text" class="level3 function">
<h3>snakeCaseToCamelCase <code>text</code></h3>
<p>Converts given text in snake case to camel case.</p>
<section id="parameters-222" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The text to convert.
</dd>
</dl>
<p>Returns 0/${TRUE} always.</p>
<p>The variable RESULT contains the text in camel case.</p>
</section>
<section id="usage-example-279" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb588"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb588-1"><a href="#cb588-1"></a><span class="ex">snakeCaseToCamelCase</span> <span class="st">&quot;output_file&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb589"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb589-1"><a href="#cb589-1"></a><span class="bu">echo</span> <span class="st">&quot;output_file -&gt; </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="tocamelcase-text" class="level3 function">
<h3>toCamelCase <code>text</code></h3>
<p>Converts given text to camel case.</p>
<section id="parameters-223" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The text to convert.
</dd>
</dl>
<p>Returns 0/${TRUE} always.</p>
<p>The variable RESULT contains the text in camel case.</p>
</section>
<section id="usage-example-280" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb590"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb590-1"><a href="#cb590-1"></a><span class="ex">toCamelCase</span> <span class="st">&quot;output_file&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb591"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb591-1"><a href="#cb591-1"></a><span class="bu">echo</span> <span class="st">&quot;output_file -&gt; </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="snakecasetopascalcase-text" class="level3 function">
<h3>snakeCaseToPascalCase <code>text</code></h3>
<p>Converts given text in snake case to Pascal case.</p>
<section id="parameters-224" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The text to convert.
</dd>
</dl>
<p>Returns 0/${TRUE} if the text could be converted; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the text in Pascal case.</p>
</section>
<section id="usage-example-281" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb592"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb592-1"><a href="#cb592-1"></a><span class="kw">if</span> <span class="ex">snakeCaseToPascalCase</span> <span class="st">&quot;output_file&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb593"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb593-1"><a href="#cb593-1"></a>  <span class="bu">echo</span> <span class="st">&quot;output_filer -&gt; </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb594"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb594-1"><a href="#cb594-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="uncapitalize-text" class="level3 function">
<h3>uncapitalize <code>text</code></h3>
<p>Uncapitalizes given text.</p>
<section id="parameters-225" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The text to uncapitalize.
</dd>
</dl>
<p>Returns 0/${TRUE} always.</p>
<p>The variable RESULT contains the uncapitalized text.</p>
</section>
<section id="usage-example-282" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb595"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb595-1"><a href="#cb595-1"></a><span class="ex">uncapitalize</span> <span class="st">&quot;MyText&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb596"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb596-1"><a href="#cb596-1"></a><span class="bu">echo</span> <span class="st">&quot;uncapitalized: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="capitalize-text" class="level3 function">
<h3>capitalize <code>text</code></h3>
<p>Capitalizes given text.</p>
<section id="parameters-226" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The text to capitalize.
</dd>
</dl>
<p>Returns 0/${TRUE} always.</p>
<p>The variable RESULT contains the capitalized text.</p>
</section>
<section id="usage-example-283" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb597"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb597-1"><a href="#cb597-1"></a><span class="ex">capitalize</span> <span class="st">&quot;MyText&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb598"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb598-1"><a href="#cb598-1"></a><span class="bu">echo</span> <span class="st">&quot;capitalized: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="tailtext-text" class="level3 function">
<h3>tailText <code>text</code></h3>
<p>Removes the first character.</p>
<section id="parameters-227" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The text.
</dd>
</dl>
<p>Returns 0/${TRUE} if the first character could be extracted; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the original text after removing the first character.</p>
</section>
<section id="usage-example-284" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb599"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb599-1"><a href="#cb599-1"></a><span class="kw">if</span> <span class="ex">tailText</span> <span class="st">&quot;aText&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb600"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb600-1"><a href="#cb600-1"></a>  <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb601"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb601-1"><a href="#cb601-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="stringlength-text" class="level3 function">
<h3>stringLength <code>text</code></h3>
<p>Retrieves the length of the text, in characters.</p>
<section id="parameters-228" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>text</code></dt>
<dd>The text.
</dd>
</dl>
<p>Returns 0/${TRUE} always.</p>
<p>The variable RESULT contains the string length.</p>
</section>
<section id="usage-example-285" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb602"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb602-1"><a href="#cb602-1"></a><span class="ex">stringLength</span> <span class="st">&quot;abc&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb603"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb603-1"><a href="#cb603-1"></a><span class="bu">echo</span> <span class="st">&quot;length: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-sudo" class="level1">
<h1>API Reference (sudo)</h1>
<section id="sudo" class="level2 module">
<h2>sudo</h2>
<p>sudo-related functions.</p>
<section id="checkpasswordlesssudo" class="level3 function">
<h3>checkPasswordlessSudo</h3>
<p>Checks the current user can run sudo commands without password.</p>
<p>Returns 0/TRUE if the current user can run sudo commands without password; 1/FALSE otherwise.</p>
<section id="usage-example-286" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb604"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb604-1"><a href="#cb604-1"></a><span class="kw">if</span> <span class="ex">checkPasswordlessSudo</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb605"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb605-1"><a href="#cb605-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb606"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb606-1"><a href="#cb606-1"></a><span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-term" class="level1">
<h1>API Reference (term)</h1>
<section id="term" class="level2 module">
<h2>term</h2>
<p>Terminal-related functions</p>
<section id="gettermwidth" class="level3 function">
<h3>getTermWidth</h3>
<p>Retrieves the width of the term.</p>
<p>Returns 0/TRUE if the term width was retrieved; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the term width.</p>
<section id="usage-example-287" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb607"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb607-1"><a href="#cb607-1"></a><span class="kw">if</span> <span class="ex">getTermWidth</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb608"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb608-1"><a href="#cb608-1"></a>  <span class="bu">echo</span> <span class="st">&quot;term width -&gt; </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb609"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb609-1"><a href="#cb609-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="gettermwidthforterm-term" class="level3 function">
<h3>getTermWidthForTerm <code>term</code></h3>
<p>Retrieves the width of the term.</p>
<section id="parameters-229" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>term</code></dt>
<dd>the TERM value.
</dd>
</dl>
<p>Returns 0/TRUE if the term width was retrieved; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the term width.</p>
</section>
<section id="usage-example-288" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb610"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb610-1"><a href="#cb610-1"></a><span class="kw">if</span> <span class="ex">getTermWidthForTerm</span> <span class="st">&quot;</span><span class="va">${TERM}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb611"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb611-1"><a href="#cb611-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb612"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb612-1"><a href="#cb612-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="retrieveterm" class="level3 function">
<h3>retrieveTERM</h3>
<p>Retrieves the TERM variable</p>
<p>Returns 0/TRUE always.</p>
<p>The variable RESULT contains the TERM variable.</p>
<section id="usage-example-289" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb613"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb613-1"><a href="#cb613-1"></a><span class="ex">retrieveTERM</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb614"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb614-1"><a href="#cb614-1"></a><span class="bu">echo</span> <span class="st">&quot;TERM -&gt; </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-url" class="level1">
<h1>API Reference (url)</h1>
<section id="url" class="level2 module">
<h2>url</h2>
<p>URL-related functions.</p>
<section id="urlencode-url" class="level3 function">
<h3>urlEncode <code>url</code></h3>
<p>Encodes given url.</p>
<section id="parameters-230" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>url</code></dt>
<dd>The url to encode.
</dd>
</dl>
<p>Prints the encoded url to stdout.</p>
</section>
<section id="usage-example-290" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb615"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb615-1"><a href="#cb615-1"></a><span class="bu">local</span> <span class="va">encoded=</span><span class="st">&quot;</span><span class="va">$(</span><span class="ex">urlEncode</span> <span class="st">&#39;http://www.example.com&#39;</span><span class="va">)</span><span class="st">&quot;</span>;</span></code></pre></div>
<div class="sourceCode" id="cb616"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb616-1"><a href="#cb616-1"></a><span class="bu">echo</span> <span class="st">&quot;URL encoded: </span><span class="va">${encoded}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="extractpathsegmentfromurl-url-index" class="level3 function">
<h3>extractPathSegmentFromUrl <code>url</code> <code>index</code></h3>
<p>Extracts a path segment from given url.</p>
<section id="parameters-231" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>url</code></dt>
<dd>The url.
</dd>
<dt><code>index</code></dt>
<dd>The 0-based index of the segment to extract.
</dd>
</dl>
<p>Returns 0/TRUE if the segment was extracted; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the requested segment.</p>
</section>
<section id="usage-example-291" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb617"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb617-1"><a href="#cb617-1"></a><span class="kw">if</span> <span class="ex">extractPathSegmentFromUrl</span> <span class="st">&quot;http://acme.com/context/post&quot;</span> 0<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb618"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb618-1"><a href="#cb618-1"></a>  <span class="bu">echo</span> <span class="st">&quot;First segment: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb619"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb619-1"><a href="#cb619-1"></a><span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-user" class="level1">
<h1>API Reference (user)</h1>
<section id="user" class="level2 module">
<h2>user</h2>
<p>Functions related to user and groups.</p>
<section id="addusertogroup-username-groupname" class="level3 function">
<h3>addUserToGroup <code>userName</code> <code>groupName</code></h3>
<p>Adds given user to a group.</p>
<section id="parameters-232" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>userName</code></dt>
<dd>The user name.
</dd>
<dt><code>groupName</code></dt>
<dd>The group name.
</dd>
</dl>
<p>Returns 0/TRUE if the user gets added to the group successfully; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains some output.</p>
</section>
<section id="usage-example-292" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb620"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb620-1"><a href="#cb620-1"></a><span class="kw">if</span> <span class="ex">addUserToGroup</span> guest users<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb621"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb621-1"><a href="#cb621-1"></a>  <span class="bu">echo</span> <span class="st">&quot;User guest added to group users&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb622"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb622-1"><a href="#cb622-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="creategroup-groupname-groupid" class="level3 function">
<h3>createGroup <code>groupName</code> <code>groupId?</code></h3>
<p>Creates a new group.</p>
<section id="parameters-233" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>groupName</code></dt>
<dd>The group name.
</dd>
<dt><code>groupId</code></dt>
<dd>The group id. Optional.
</dd>
</dl>
<p>Returns 0/TRUE if the group gets created successfully; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-293" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb623"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb623-1"><a href="#cb623-1"></a><span class="kw">if</span> <span class="ex">createGroup</span> <span class="st">&quot;fakegroup&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb624"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb624-1"><a href="#cb624-1"></a>  <span class="bu">echo</span> <span class="st">&quot;fakegroup created successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb625"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb625-1"><a href="#cb625-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="createuser-username" class="level3 function">
<h3>createUser <code>userName</code></h3>
<p>Creates a new user.</p>
<section id="parameters-234" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>userName</code></dt>
<dd>The user name.
</dd>
</dl>
<p>Returns 0/TRUE if the user gets created successfully; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-294" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb626"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb626-1"><a href="#cb626-1"></a><span class="kw">if</span> <span class="ex">createUser</span> <span class="st">&quot;fakeuser&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb627"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb627-1"><a href="#cb627-1"></a>  <span class="bu">echo</span> <span class="st">&quot;fakeuser created successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb628"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb628-1"><a href="#cb628-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="deletegroup-groupname" class="level3 function">
<h3>deleteGroup <code>groupName</code></h3>
<p>Deletes given group.</p>
<section id="parameters-235" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>groupName</code></dt>
<dd>The group name.
</dd>
</dl>
<p>Returns 0/TRUE if the group is removed successfully; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-295" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb629"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb629-1"><a href="#cb629-1"></a><span class="kw">if</span> <span class="ex">deleteGroup</span> <span class="st">&quot;fakegroup&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb630"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb630-1"><a href="#cb630-1"></a>  <span class="bu">echo</span> <span class="st">&quot;fakegroup deleted successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb631"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb631-1"><a href="#cb631-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="deleteuser-username" class="level3 function">
<h3>deleteUser <code>userName</code></h3>
<p>Deletes given user.</p>
<section id="parameters-236" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>userName</code></dt>
<dd>The user name.
</dd>
</dl>
<p>Returns 0/TRUE if the user is removed successfully; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-296" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb632"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb632-1"><a href="#cb632-1"></a><span class="kw">if</span> <span class="ex">deleteUser</span> <span class="st">&quot;fakeuser&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb633"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb633-1"><a href="#cb633-1"></a>  <span class="bu">echo</span> <span class="st">&quot;fakeuser deleted successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb634"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb634-1"><a href="#cb634-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="gidalreadyexists-gid" class="level3 function">
<h3>gidAlreadyExists <code>gid</code></h3>
<p>Checks whether given gid already exists.</p>
<section id="parameters-237" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>gid</code></dt>
<dd>The group id.
</dd>
</dl>
<p>Returns 0/TRUE if it exists; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-297" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb635"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb635-1"><a href="#cb635-1"></a><span class="kw">if</span> <span class="ex">gidAlreadyExists</span> 103<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb636"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb636-1"><a href="#cb636-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb637"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb637-1"><a href="#cb637-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="groupalreadyexists-group" class="level3 function">
<h3>groupAlreadyExists <code>group</code></h3>
<p>Checks whether given group already exists.</p>
<section id="parameters-238" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>group</code></dt>
<dd>The group name.
</dd>
</dl>
<p>Returns 0/TRUE if it exists; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-298" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb638"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb638-1"><a href="#cb638-1"></a><span class="kw">if</span> <span class="ex">groupAlreadyExists</span> users<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb639"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb639-1"><a href="#cb639-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb640"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb640-1"><a href="#cb640-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="resolvecommandforuser-username-command" class="level3 function">
<h3>resolveCommandForUser <code>userName</code> <code>command</code></h3>
<p>Resolves the path of a command for given user.</p>
<section id="parameters-239" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>userName</code></dt>
<dd>The user.
</dd>
<dt><code>command</code></dt>
<dd>The command.
</dd>
</dl>
<p>Returns 0/TRUE if the command gets resolved to a path for given user; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the path of ‘command’ for given user.</p>
</section>
<section id="usage-example-299" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb641"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb641-1"><a href="#cb641-1"></a><span class="kw">if</span> <span class="ex">resolveCommandForUser</span> <span class="st">&quot;</span><span class="va">${SERVICE_USER}</span><span class="st">&quot;</span> <span class="st">&quot;gradle&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb642"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb642-1"><a href="#cb642-1"></a>  <span class="bu">local</span> <span class="va">_command=</span><span class="st">&quot;</span><span class="va">${RESULT}</span><span class="st">&quot;</span>;</span></code></pre></div>
<div class="sourceCode" id="cb643"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb643-1"><a href="#cb643-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="retrievegidfromgroup-group" class="level3 function">
<h3>retrieveGidFromGroup <code>group</code></h3>
<p>Retrieves the id of a given group.</p>
<section id="parameters-240" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>group</code></dt>
<dd>The group name.
</dd>
</dl>
<p>Returns 0/TRUE if the group was retrieved; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the group id.</p>
</section>
<section id="usage-example-300" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb644"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb644-1"><a href="#cb644-1"></a><span class="ex">retrieveGidFromGroup</span> <span class="st">&quot;admin&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb645"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb645-1"><a href="#cb645-1"></a><span class="bu">echo</span> <span class="st">&quot;The id of group admin is </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="retrievegroupfromgid-gid" class="level3 function">
<h3>retrieveGroupFromGid <code>gid</code></h3>
<p>Retrieves the group id of given group.</p>
<section id="parameters-241" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>gid</code></dt>
<dd>The group id.
</dd>
</dl>
<p>Returns 0/TRUE if the gid is processed successfully; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the group id.</p>
</section>
<section id="usage-example-301" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb646"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb646-1"><a href="#cb646-1"></a><span class="kw">if</span> <span class="ex">retrieveGroupFromGid</span> <span class="st">&quot;100&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb647"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb647-1"><a href="#cb647-1"></a>  <span class="bu">echo</span> <span class="st">&quot;The name of group 1 is </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb648"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb648-1"><a href="#cb648-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="retrieveownergid-path" class="level3 function">
<h3>retrieveOwnerGid <code>path</code></h3>
<p>Retrieves the id of the owner group of given file or folder.</p>
<section id="parameters-242" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>path</code></dt>
<dd>The file or folder.
</dd>
</dl>
<p>Returns 0/TRUE if the owner information is found; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the id of the group that owns the file or folder.</p>
</section>
<section id="usage-example-302" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb649"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb649-1"><a href="#cb649-1"></a><span class="kw">if</span> <span class="ex">retrieveOwnerGid</span> /tmp<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb650"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb650-1"><a href="#cb650-1"></a>  <span class="bu">echo</span> <span class="st">&quot;The id of the group of /tmp is </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb651"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb651-1"><a href="#cb651-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="retrieveowneruid-path" class="level3 function">
<h3>retrieveOwnerUid <code>path</code></h3>
<p>Retrieves the uid of the owner user of given file or folder.</p>
<section id="parameters-243" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>path</code></dt>
<dd>The file or folder.
</dd>
</dl>
<p>Returns 0/TRUE if the owner information is found; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the id of the user that owns the file or folder.</p>
</section>
<section id="usage-example-303" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb652"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb652-1"><a href="#cb652-1"></a><span class="kw">if</span> <span class="ex">retrieveOwnerUid</span> /tmp<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb653"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb653-1"><a href="#cb653-1"></a>  <span class="bu">echo</span> <span class="st">&quot;The id of the owner of /tmp is </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb654"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb654-1"><a href="#cb654-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="retrieveuidfromuser-user" class="level3 function">
<h3>retrieveUidFromUser <code>user</code></h3>
<p>Retrieves the id of a given user.</p>
<section id="parameters-244" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>user</code></dt>
<dd>The user name.
</dd>
</dl>
<p>Returns 0/TRUE if the user is found; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the user id.</p>
</section>
<section id="usage-example-304" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb655"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb655-1"><a href="#cb655-1"></a><span class="kw">if</span> <span class="ex">retrieveUidFromUser</span> <span class="st">&quot;root&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb656"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb656-1"><a href="#cb656-1"></a>  <span class="bu">echo</span> <span class="st">&quot;The id of user root is </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb657"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb657-1"><a href="#cb657-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="retrieveuserfromuid-uid" class="level3 function">
<h3>retrieveUserFromUid <code>uid</code></h3>
<p>Retrieves the user id of given user.</p>
<section id="parameters-245" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>uid</code></dt>
<dd>The user id.
</dd>
</dl>
<p>Returns 0/TRUE if the user is found; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the user id.</p>
</section>
<section id="usage-example-305" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb658"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb658-1"><a href="#cb658-1"></a><span class="kw">if</span> <span class="ex">retrieveUserFromUid</span> <span class="st">&quot;1&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb659"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb659-1"><a href="#cb659-1"></a>  <span class="bu">echo</span> <span class="st">&quot;The name of user 1 is </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb660"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb660-1"><a href="#cb660-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="uidalreadyexists-uid" class="level3 function">
<h3>uidAlreadyExists <code>uid</code></h3>
<p>Checks whether given uid already exists.</p>
<section id="parameters-246" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>uid</code></dt>
<dd>The user id.
</dd>
</dl>
<p>Returns 0/TRUE if it exists; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-306" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb661"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb661-1"><a href="#cb661-1"></a><span class="kw">if</span> <span class="ex">uidAlreadyExists</span> 1<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb662"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb662-1"><a href="#cb662-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb663"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb663-1"><a href="#cb663-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="updategroupgid-groupname-gid" class="level3 function">
<h3>updateGroupGid <code>groupName</code> <code>gid</code></h3>
<p>Updates the gid of the group.</p>
<section id="parameters-247" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>groupName</code></dt>
<dd>The group name.
</dd>
<dt><code>gid</code></dt>
<dd>The group id.
</dd>
</dl>
<p>Returns 0/TRUE if the group’s gid is updated successfully; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-307" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb664"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb664-1"><a href="#cb664-1"></a><span class="kw">if</span> <span class="ex">updateGroupGid</span> <span class="st">&quot;guests&quot;</span> 103<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb665"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb665-1"><a href="#cb665-1"></a>  <span class="bu">echo</span> <span class="st">&quot;guests&#39; gid is now 103&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb666"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb666-1"><a href="#cb666-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="updateusergid-username-gid" class="level3 function">
<h3>updateUserGid <code>userName</code> <code>gid</code></h3>
<p>Updates the gid of the user.</p>
<section id="parameters-248" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>userName</code></dt>
<dd>The user.
</dd>
<dt><code>gid</code></dt>
<dd>The group id.
</dd>
</dl>
<p>Returns 0/TRUE if the user’s gid is updated successfully; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-308" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb667"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb667-1"><a href="#cb667-1"></a><span class="kw">if</span> <span class="ex">updateUserGid</span> <span class="st">&quot;guest&quot;</span> 103<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb668"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb668-1"><a href="#cb668-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Guest&#39;s gid is now 103&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb669"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb669-1"><a href="#cb669-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="updateuseruid-username-uid" class="level3 function">
<h3>updateUserUid <code>userName</code> <code>uid</code></h3>
<p>Updates the uid of the user.</p>
<section id="parameters-249" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>userName</code></dt>
<dd>The user.
</dd>
<dt><code>uid</code></dt>
<dd>The uid.
</dd>
</dl>
<p>Returns 0/TRUE if the user’s uid is updated successfully; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-309" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb670"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb670-1"><a href="#cb670-1"></a><span class="kw">if</span> <span class="ex">updateUserUid</span> <span class="st">&quot;guest&quot;</span> 1001<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb671"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb671-1"><a href="#cb671-1"></a>  <span class="bu">echo</span> <span class="st">&quot;User guest&#39;s uid is now 1001&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb672"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb672-1"><a href="#cb672-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="useralreadyexists-user" class="level3 function">
<h3>userAlreadyExists <code>user</code></h3>
<p>Checks whether given user already exists.</p>
<section id="parameters-250" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>user</code></dt>
<dd>The user name.
</dd>
</dl>
<p>Returns 0/TRUE if it exists; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-310" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb673"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb673-1"><a href="#cb673-1"></a><span class="kw">if</span> <span class="ex">userAlreadyExists</span> guest<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb674"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb674-1"><a href="#cb674-1"></a>  <span class="ex">...</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb675"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb675-1"><a href="#cb675-1"></a><span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-extaws-cli" class="level1">
<h1>API Reference (ext/aws-cli)</h1>
<section id="aws-cli" class="level2 module">
<h2>aws-cli</h2>
<p>AWS CLI functions</p>
<section id="retrieveawsclifromprofileandregion-awsprofile-awsregion" class="level3 function">
<h3>retrieveAwsCliFromProfileAndRegion <code>awsProfile</code> <code>awsRegion</code></h3>
<p>Retrieves the AWS command-line.</p>
<section id="parameters-251" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>awsProfile</code></dt>
<dd>The AWS profile.
</dd>
<dt><code>awsRegion</code></dt>
<dd>The AWS region.
</dd>
</dl>
<p>Returns 0/TRUE if the AWS CLI could be retrieved; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the path and common flags for AWS CLI.</p>
</section>
<section id="usage-example-311" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb676"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb676-1"><a href="#cb676-1"></a><span class="kw">if</span> <span class="ex">retrieveAwsCliFromProfileAndRegion</span> <span class="st">&quot;contestia-dev&quot;</span> <span class="st">&quot;us-east-1&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb677"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb677-1"><a href="#cb677-1"></a>  <span class="bu">echo</span> <span class="st">&quot;AWS CLI -&gt; </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb678"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb678-1"><a href="#cb678-1"></a><span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-extaws-cloudformation" class="level1">
<h1>API Reference (ext/aws-cloudformation)</h1>
<section id="aws-cloudformation" class="level2 module">
<h2>aws-cloudformation</h2>
<p>AWS Cloudformation functions</p>
<section id="iscloudformationtemplatevalid-template-awscli" class="level3 function">
<h3>isCloudformationTemplateValid <code>template</code> <code>awsCli</code></h3>
<p>Validates the CloudFormation template.</p>
<section id="parameters-252" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>template</code></dt>
<dd>The template file.
</dd>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
</dl>
<p>Returns 0/TRUE if the template is correct; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-312" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb679"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb679-1"><a href="#cb679-1"></a><span class="kw">if</span> <span class="ex">isCloudformationTemplateValid</span> <span class="st">&quot;my-template.json&quot;</span> dev<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb680"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb680-1"><a href="#cb680-1"></a>  <span class="bu">echo</span> <span class="st">&quot;my-template.json is correct&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb681"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb681-1"><a href="#cb681-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="getcloudformationexport-name-awsprofile" class="level3 function">
<h3>getCloudformationExport <code>name</code> <code>awsProfile</code></h3>
<p>Retrieves the value of an output exported by a CloudFormation stack, under given name.</p>
<section id="parameters-253" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>name</code></dt>
<dd>The name of the export.
</dd>
<dt><code>awsProfile</code></dt>
<dd>The AWS CLI profile.
</dd>
</dl>
<p>Returns 0/TRUE if the name was found; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the value.</p>
</section>
<section id="usage-example-313" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb682"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb682-1"><a href="#cb682-1"></a><span class="kw">if</span> <span class="ex">getCloudformationExport</span> myKey dev<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb683"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb683-1"><a href="#cb683-1"></a>  <span class="bu">echo</span> <span class="st">&quot;myKey=&#39;</span><span class="va">${RESULT}</span><span class="st">&#39;&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb684"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb684-1"><a href="#cb684-1"></a><span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-extaws" class="level1">
<h1>API Reference (ext/aws)</h1>
<hr />
</section>
<section id="api-reference-extaws-ecr" class="level1">
<h1>API Reference (ext/aws-ecr)</h1>
<section id="aws-ecr" class="level2 module">
<h2>aws-ecr</h2>
<p>AWS ECR functions</p>
<section id="getecrimages-repository-profile" class="level3 function">
<h3>getEcrImages <code>repository</code> <code>profile</code></h3>
<p>Retrieves the list of ECR images.</p>
<section id="parameters-254" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>repository</code></dt>
<dd>The repository.
</dd>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
</dl>
<p>Returns 0/TRUE if the name of the images was accessible; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains a list of space-separated image identifiers.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains more information.</p>
</section>
<section id="usage-example-314" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb685"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb685-1"><a href="#cb685-1"></a><span class="kw">if</span> <span class="ex">getEcrImages</span> <span class="st">&quot;my/repository&quot;</span> dev<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb686"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb686-1"><a href="#cb686-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Images: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb687"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb687-1"><a href="#cb687-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="emptyecrrepository-repository-profile" class="level3 function">
<h3>emptyEcrRepository <code>repository</code> <code>profile</code></h3>
<p>Empties a ECR repository.</p>
<section id="parameters-255" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>repository</code></dt>
<dd>The repository.
</dd>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
</dl>
<p>Returns 0/TRUE if the repository could be emptied; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains more information.</p>
</section>
<section id="usage-example-315" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb688"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb688-1"><a href="#cb688-1"></a><span class="kw">if</span> <span class="ex">emptyEcrRepository</span> <span class="st">&quot;my/repository&quot;</span> dev<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb689"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb689-1"><a href="#cb689-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Repository now empty&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb690"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb690-1"><a href="#cb690-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="deleteecrimages-repository-profile-imagedigests" class="level3 function">
<h3>deleteEcrImages <code>repository</code> <code>profile</code> <code>imageDigests+</code></h3>
<p>Deletes one or more Docker images in given ECR repository.</p>
<section id="parameters-256" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>imageDigests</code></dt>
<dd>The digests of the images to delete.
</dd>
<dt><code>repository</code></dt>
<dd>The repository.
</dd>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
</dl>
<p>Returns 0/TRUE if the images could be deleted; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains more information.</p>
</section>
<section id="usage-example-316" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb691"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb691-1"><a href="#cb691-1"></a><span class="kw">if</span> <span class="ex">deleteEcrImages</span> repository dev sha256:42304204 other/image<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb692"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb692-1"><a href="#cb692-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Images deleted&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb693"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb693-1"><a href="#cb693-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="ecrrepositoryalreadyexists-bucket-profile" class="level3 function">
<h3>ecrRepositoryAlreadyExists <code>bucket</code> <code>profile</code></h3>
<p>Checks if a repository actually exists.</p>
<section id="parameters-257" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>bucket</code></dt>
<dd>The bucket.
</dd>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
</dl>
<p>Returns 0/TRUE if the ECR repository exists; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-317" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb694"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb694-1"><a href="#cb694-1"></a><span class="kw">if</span> <span class="ex">ecrRepositoryAlreadyExists</span> myRepository dev<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb695"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb695-1"><a href="#cb695-1"></a>  <span class="bu">echo</span> <span class="st">&quot;ECR Repository myRepository exists&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb696"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb696-1"><a href="#cb696-1"></a><span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-extaws-ecs" class="level1">
<h1>API Reference (ext/aws-ecs)</h1>
<section id="aws-ecs" class="level2 module">
<h2>aws-ecs</h2>
<p>AWS ECS functions</p>
<section id="getecsclusters-profile" class="level3 function">
<h3>getEcsClusters <code>profile</code></h3>
<p>Retrieves the ARNs of the current ECS clusters.</p>
<section id="parameters-258" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
</dl>
<p>Returns 0/TRUE if the ARNs of the clusters were accessible; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains a list of space-separated cluster identifiers.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains more information.</p>
</section>
<section id="usage-example-318" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb697"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb697-1"><a href="#cb697-1"></a><span class="kw">if</span> <span class="ex">getEcsClusters</span> myProfile<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb698"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb698-1"><a href="#cb698-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Clusters: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb699"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb699-1"><a href="#cb699-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="getecscluster-profile-clustername" class="level3 function">
<h3>getEcsCluster <code>profile</code> <code>clusterName</code></h3>
<p>Retrieves the ARN of the ECS cluster matching given name.</p>
<section id="parameters-259" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
<dt><code>clusterName</code></dt>
<dd>The cluster name.
</dd>
</dl>
<p>Returns 0/TRUE if the cluster was found; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the ARN of the first cluster matching given name.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains more information.</p>
</section>
<section id="usage-example-319" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb700"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb700-1"><a href="#cb700-1"></a><span class="kw">if</span> <span class="ex">getEcsCluster</span> myProfile <span class="st">&quot;my-cluster&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb701"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb701-1"><a href="#cb701-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Cluster found: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb702"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb702-1"><a href="#cb702-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="getecstasks-profile-clusterarn" class="level3 function">
<h3>getEcsTasks <code>profile</code> <code>clusterArn</code></h3>
<p>Retrieves the ARNs of the current ECS tasks.</p>
<section id="parameters-260" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
<dt><code>clusterArn</code></dt>
<dd>The ARN of the cluster.
</dd>
</dl>
<p>Returns 0/TRUE if the ARNs of the tasks were accessible; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains a list of space-separated task identifiers.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains more information.</p>
</section>
<section id="usage-example-320" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb703"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb703-1"><a href="#cb703-1"></a><span class="kw">if</span> <span class="ex">getEcsTasks</span> myProfile <span class="va">${clusterArn}</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb704"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb704-1"><a href="#cb704-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Tasks: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb705"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb705-1"><a href="#cb705-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="getecstask-profile-clusterarn-taskname" class="level3 function">
<h3>getEcsTask <code>profile</code> <code>clusterArn</code> <code>taskName</code></h3>
<p>Retrieves the ARN of the ECS cluster matching given name.</p>
<section id="parameters-261" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
<dt><code>clusterArn</code></dt>
<dd>The cluster ARN.
</dd>
<dt><code>taskName</code></dt>
<dd>The task name.
</dd>
</dl>
<p>Returns 0/TRUE if the task was found; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the ARN of the first task matching given name.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains more information.</p>
</section>
<section id="usage-example-321" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb706"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb706-1"><a href="#cb706-1"></a><span class="kw">if</span> <span class="ex">getEcsTask</span> myProfile <span class="st">&quot;</span><span class="va">${clusterArn}</span><span class="st">&quot;</span> <span class="st">&quot;my-task&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb707"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb707-1"><a href="#cb707-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Task found: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb708"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb708-1"><a href="#cb708-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="getecstaskgroup-profile-clusterarn-taskarn" class="level3 function">
<h3>getEcsTaskGroup <code>profile</code> <code>clusterArn</code> <code>taskArn</code></h3>
<p>Retrieves the group of a given ECS task.</p>
<section id="parameters-262" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
<dt><code>clusterArn</code></dt>
<dd>The ARN of the cluster.
</dd>
<dt><code>taskArn</code></dt>
<dd>The ARN of the task.
</dd>
</dl>
<p>Returns 0/TRUE if the group of the task were accessible; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the task group.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains more information.</p>
</section>
<section id="usage-example-322" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb709"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb709-1"><a href="#cb709-1"></a><span class="kw">if</span> <span class="ex">getEcsTaskGroup</span> myProfile <span class="va">${clusterArn}</span> <span class="va">${taskArn}</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb710"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb710-1"><a href="#cb710-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Group: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb711"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb711-1"><a href="#cb711-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="stopecstask-profile-clusterarn-taskarn" class="level3 function">
<h3>stopEcsTask <code>profile</code> <code>clusterArn</code> <code>taskArn</code></h3>
<p>Stops given ECS task.</p>
<section id="parameters-263" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
<dt><code>clusterArn</code></dt>
<dd>The ARN of the cluster.
</dd>
<dt><code>taskArn</code></dt>
<dd>The ARN of the task.
</dd>
</dl>
<p>Returns 0/TRUE if the task was stopped; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains more information.</p>
</section>
<section id="usage-example-323" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb712"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb712-1"><a href="#cb712-1"></a><span class="kw">if</span> <span class="ex">stopEcsTask</span> myProfile <span class="va">${clusterArn}</span> <span class="va">${taskArn}</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb713"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb713-1"><a href="#cb713-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Task stopped successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb714"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb714-1"><a href="#cb714-1"></a><span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-extaws-s3" class="level1">
<h1>API Reference (ext/aws-s3)</h1>
<section id="aws-s3" class="level2 module">
<h2>aws-s3</h2>
<p>AWS S3 functions</p>
<section id="emptys3bucket-bucket-profile" class="level3 function">
<h3>emptyS3Bucket <code>bucket</code> <code>profile</code></h3>
<p>Empties a bucket.</p>
<section id="parameters-264" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>bucket</code></dt>
<dd>The bucket.
</dd>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
</dl>
<p>Returns 0/TRUE if the S3 bucket could be emptied; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains more information.</p>
</section>
<section id="usage-example-324" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb715"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb715-1"><a href="#cb715-1"></a><span class="kw">if</span> <span class="ex">emptyS3Bucket</span> myBucket dev<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb716"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb716-1"><a href="#cb716-1"></a>  <span class="bu">echo</span> <span class="st">&quot;S3 Bucket myBucket emptied&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb717"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb717-1"><a href="#cb717-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="deletes3bucket-bucket-profile" class="level3 function">
<h3>deleteS3Bucket <code>bucket</code> <code>profile</code></h3>
<p>Deletes a bucket.</p>
<section id="parameters-265" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>bucket</code></dt>
<dd>The bucket.
</dd>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
</dl>
<p>Returns 0/TRUE if the S3 bucket could be deleted; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains more information.</p>
</section>
<section id="usage-example-325" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb718"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb718-1"><a href="#cb718-1"></a><span class="kw">if</span> <span class="ex">deleteS3Bucket</span> myBucket dev<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb719"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb719-1"><a href="#cb719-1"></a>  <span class="bu">echo</span> <span class="st">&quot;S3 Bucket myBucket deleted&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb720"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb720-1"><a href="#cb720-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="deletes3bucketanalyticsconfiguration-bucket-id-profile" class="level3 function">
<h3>deleteS3BucketAnalyticsConfiguration <code>bucket</code> <code>id</code> <code>profile</code></h3>
<p>Deletes the bucket analytics configuration.</p>
<section id="parameters-266" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>bucket</code></dt>
<dd>The bucket.
</dd>
<dt><code>id</code></dt>
<dd>The analytics configuration id.
</dd>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
</dl>
<p>Returns 0/TRUE if the S3 bucket analytics configuration could be deleted; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains more information.</p>
</section>
<section id="usage-example-326" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb721"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb721-1"><a href="#cb721-1"></a><span class="kw">if</span> <span class="ex">deleteS3BucketAnalyticsConfiguration</span> myBucket <span class="va">${id}</span> dev<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb722"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb722-1"><a href="#cb722-1"></a>  <span class="bu">echo</span> <span class="st">&quot;The analytics configuration </span><span class="va">${id}</span><span class="st"> of the S3 Bucket myBucket deleted&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb723"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb723-1"><a href="#cb723-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="deletes3bucketcors-bucket-profile" class="level3 function">
<h3>deleteS3BucketCors <code>bucket</code> <code>profile</code></h3>
<p>Deletes the bucket CORS.</p>
<section id="parameters-267" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>bucket</code></dt>
<dd>The bucket.
</dd>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
</dl>
<p>Returns 0/TRUE if the S3 bucket CORS could be deleted; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains more information.</p>
</section>
<section id="usage-example-327" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb724"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb724-1"><a href="#cb724-1"></a><span class="kw">if</span> <span class="ex">deleteS3BucketCors</span> myBucket dev<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb725"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb725-1"><a href="#cb725-1"></a>  <span class="bu">echo</span> <span class="st">&quot;The CORS of the S3 Bucket myBucket deleted&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb726"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb726-1"><a href="#cb726-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="deletes3bucketencryption-bucket-profile" class="level3 function">
<h3>deleteS3BucketEncryption <code>bucket</code> <code>profile</code></h3>
<p>Deletes the bucket encryption.</p>
<section id="parameters-268" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>bucket</code></dt>
<dd>The bucket.
</dd>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
</dl>
<p>Returns 0/TRUE if the S3 bucket encryption could be deleted; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains more information.</p>
</section>
<section id="usage-example-328" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb727"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb727-1"><a href="#cb727-1"></a><span class="kw">if</span> <span class="ex">deleteS3BucketEncryption</span> myBucket dev<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb728"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb728-1"><a href="#cb728-1"></a>  <span class="bu">echo</span> <span class="st">&quot;The encryption of the S3 Bucket myBucket deleted&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb729"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb729-1"><a href="#cb729-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="deletes3bucketinventoryconfiguration-bucket-profile" class="level3 function">
<h3>deleteS3BucketInventoryConfiguration <code>bucket</code> <code>profile</code></h3>
<p>Deletes the bucket inventory configuration.</p>
<section id="parameters-269" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>bucket</code></dt>
<dd>The bucket.
</dd>
<dt><code>id</code></dt>
<dd>The analytics configuration id.
</dd>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
</dl>
<p>Returns 0/TRUE if the S3 bucket inventory configuration could be deleted; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains more information.</p>
</section>
<section id="usage-example-329" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb730"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb730-1"><a href="#cb730-1"></a><span class="kw">if</span> <span class="ex">deleteS3BucketInventoryConfiguration</span> myBucket dev<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb731"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb731-1"><a href="#cb731-1"></a>  <span class="bu">echo</span> <span class="st">&quot;The inventory configuration of the S3 Bucket myBucket deleted&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb732"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb732-1"><a href="#cb732-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="deletes3bucketlifecycle-bucket-profile" class="level3 function">
<h3>deleteS3BucketLifecycle <code>bucket</code> <code>profile</code></h3>
<p>Deletes the bucket lifecycle.</p>
<section id="parameters-270" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>bucket</code></dt>
<dd>The bucket.
</dd>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
</dl>
<p>Returns 0/TRUE if the S3 bucket lifecycle could be deleted; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains more information.</p>
</section>
<section id="usage-example-330" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb733"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb733-1"><a href="#cb733-1"></a><span class="kw">if</span> <span class="ex">deleteS3BucketLifecycle</span> myBucket dev<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb734"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb734-1"><a href="#cb734-1"></a>  <span class="bu">echo</span> <span class="st">&quot;The lifecycle of the S3 Bucket myBucket deleted&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb735"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb735-1"><a href="#cb735-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="deletes3bucketmetricsconfiguration-bucket-profile" class="level3 function">
<h3>deleteS3BucketMetricsConfiguration <code>bucket</code> <code>profile</code></h3>
<p>Deletes the bucket metrics configuration.</p>
<section id="parameters-271" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>bucket</code></dt>
<dd>The bucket.
</dd>
<dt><code>id</code></dt>
<dd>The analytics configuration id.
</dd>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
</dl>
<p>Returns 0/TRUE if the S3 bucket metrics configuration could be deleted; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains more information.</p>
</section>
<section id="usage-example-331" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb736"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb736-1"><a href="#cb736-1"></a><span class="kw">if</span> <span class="ex">deleteS3BucketMetricsConfiguration</span> myBucket dev<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb737"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb737-1"><a href="#cb737-1"></a>  <span class="bu">echo</span> <span class="st">&quot;The metrics configuration of the S3 Bucket myBucket deleted&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb738"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb738-1"><a href="#cb738-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="deletes3bucketpolicy-bucket-profile" class="level3 function">
<h3>deleteS3BucketPolicy <code>bucket</code> <code>profile</code></h3>
<p>Deletes the bucket policy.</p>
<section id="parameters-272" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>bucket</code></dt>
<dd>The bucket.
</dd>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
</dl>
<p>Returns 0/TRUE if the S3 bucket policy could be deleted; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains more information.</p>
</section>
<section id="usage-example-332" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb739"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb739-1"><a href="#cb739-1"></a><span class="kw">if</span> <span class="ex">deleteS3BucketPolicy</span> myBucket dev<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb740"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb740-1"><a href="#cb740-1"></a>  <span class="bu">echo</span> <span class="st">&quot;The policy of the S3 Bucket myBucket deleted&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb741"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb741-1"><a href="#cb741-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="deletes3bucketreplication-bucket-profile" class="level3 function">
<h3>deleteS3BucketReplication <code>bucket</code> <code>profile</code></h3>
<p>Deletes the bucket replication.</p>
<section id="parameters-273" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>bucket</code></dt>
<dd>The bucket.
</dd>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
</dl>
<p>Returns 0/TRUE if the S3 bucket replication could be deleted; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains more information.</p>
</section>
<section id="usage-example-333" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb742"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb742-1"><a href="#cb742-1"></a><span class="kw">if</span> <span class="ex">deleteS3BucketReplication</span> myBucket dev<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb743"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb743-1"><a href="#cb743-1"></a>  <span class="bu">echo</span> <span class="st">&quot;The replication of the S3 Bucket myBucket deleted&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb744"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb744-1"><a href="#cb744-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="deletes3buckettagging-bucket-profile" class="level3 function">
<h3>deleteS3BucketTagging <code>bucket</code> <code>profile</code></h3>
<p>Deletes the bucket tagging.</p>
<section id="parameters-274" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>bucket</code></dt>
<dd>The bucket.
</dd>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
</dl>
<p>Returns 0/TRUE if the S3 bucket policy could be deleted; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains more information.</p>
</section>
<section id="usage-example-334" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb745"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb745-1"><a href="#cb745-1"></a><span class="kw">if</span> <span class="ex">deleteS3BucketTagging</span> myBucket dev<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb746"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb746-1"><a href="#cb746-1"></a>  <span class="bu">echo</span> <span class="st">&quot;The tags of the S3 Bucket myBucket deleted&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb747"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb747-1"><a href="#cb747-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="deletes3bucketwebsite-bucket-profile" class="level3 function">
<h3>deleteS3BucketWebsite <code>bucket</code> <code>profile</code></h3>
<p>Deletes the bucket website.</p>
<section id="parameters-275" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>bucket</code></dt>
<dd>The bucket.
</dd>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
</dl>
<p>Returns 0/TRUE if the S3 bucket website could be deleted; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains more information.</p>
</section>
<section id="usage-example-335" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb748"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb748-1"><a href="#cb748-1"></a><span class="kw">if</span> <span class="ex">deleteS3BucketWebsite</span> myBucket dev<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb749"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb749-1"><a href="#cb749-1"></a>  <span class="bu">echo</span> <span class="st">&quot;The website of the S3 Bucket myBucket deleted&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb750"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb750-1"><a href="#cb750-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="s3bucketalreadyexists-bucket-profile" class="level3 function">
<h3>s3BucketAlreadyExists <code>bucket</code> <code>profile</code></h3>
<p>Checks if a bucket actually exists.</p>
<section id="parameters-276" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>bucket</code></dt>
<dd>The bucket.
</dd>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
</dl>
<p>Returns 0/TRUE if the S3 bucket exists; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-336" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb751"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb751-1"><a href="#cb751-1"></a><span class="kw">if</span> <span class="ex">s3BucketAlreadyExists</span> myBucket dev<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb752"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb752-1"><a href="#cb752-1"></a>  <span class="bu">echo</span> <span class="st">&quot;S3 Bucket myBucket exists&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb753"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb753-1"><a href="#cb753-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="syncs3bucket-folder-bucket-profile" class="level3 function">
<h3>syncS3Bucket <code>folder</code> <code>bucket</code> <code>profile</code></h3>
<p>Synchronizes given folder’s contents with the bucket’s.</p>
<section id="parameters-277" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>folder</code></dt>
<dd>The folder.
</dd>
<dt><code>bucket</code></dt>
<dd>The bucket.
</dd>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
</dl>
<p>Returns 0/TRUE if the contents were synchronized; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains more information.</p>
</section>
<section id="usage-example-337" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb754"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb754-1"><a href="#cb754-1"></a><span class="kw">if</span> <span class="ex">syncS3Bucket</span> <span class="va">${folder}</span> <span class="va">${myBucket}</span> dev<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb755"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb755-1"><a href="#cb755-1"></a>  <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${folder}</span><span class="st"> synchronized with </span><span class="va">${myBucket}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb756"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb756-1"><a href="#cb756-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="cps3bucket-file-bucket-destination-profile" class="level3 function">
<h3>cpS3Bucket <code>file</code> <code>bucket</code> <code>destination</code> <code>profile</code></h3>
<p>Copies given file to given bucket.</p>
<section id="parameters-278" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file.
</dd>
<dt><code>bucket</code></dt>
<dd>The bucket.
</dd>
<dt><code>destination</code></dt>
<dd>The destination file inside the bucket.
</dd>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
</dl>
<p>Returns 0/TRUE if the file was copied; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR might contain more information.</p>
</section>
<section id="usage-example-338" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb757"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb757-1"><a href="#cb757-1"></a><span class="kw">if</span> <span class="ex">cpS3Bucket</span> <span class="va">${file}</span> <span class="va">${myBucket}</span> myFile dev<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb758"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb758-1"><a href="#cb758-1"></a>  <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${file}</span><span class="st"> copied to </span><span class="va">${myBucket}</span><span class="st">/myFile&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb759"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb759-1"><a href="#cb759-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="rms3bucket-bucket-file-profile" class="level3 function">
<h3>rmS3Bucket <code>bucket</code> <code>file</code> <code>profile</code></h3>
<p>Removes a file in given bucket.</p>
<section id="parameters-279" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>bucket</code></dt>
<dd>The bucket.
</dd>
<dt><code>file</code></dt>
<dd>The file.
</dd>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
</dl>
<p>Returns 0/TRUE if the file was removed; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR might contain more information.</p>
</section>
<section id="usage-example-339" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb760"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb760-1"><a href="#cb760-1"></a><span class="kw">if</span> <span class="ex">rmS3Bucket</span> <span class="va">${myBucket}</span> <span class="va">${myFile}</span> dev<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb761"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb761-1"><a href="#cb761-1"></a>  <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${myBucket}</span><span class="st">/</span><span class="va">${myFile}</span><span class="st"> removed&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb762"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb762-1"><a href="#cb762-1"></a><span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-extconcourse" class="level1">
<h1>API Reference (ext/concourse)</h1>
<section id="concourse" class="level2 module">
<h2>concourse</h2>
<p>ConcourseCI-related functions.</p>
<section id="flylogin-target-url" class="level3 function">
<h3>flyLogin <code>target</code> <code>url</code></h3>
<p>Runs a fly login command.</p>
<section id="parameters-280" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>target</code></dt>
<dd>The Concourse target.
</dd>
<dt><code>url</code></dt>
<dd>The Concourse url.
</dd>
</dl>
<p>Returns 0/TRUE if the command succeeds; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-340" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb763"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb763-1"><a href="#cb763-1"></a><span class="kw">if</span> <span class="ex">flyLogin</span> ci http://concourse:8080<span class="kw">;</span> <span class="kw">then</span> <span class="ex">...</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="runflycommand-yyyesyesnnnono-command-arg" class="level3 function">
<h3>runFlyCommand <code>y|Y|yes|YES|n|N|no|NO</code> <code>command</code> <code>arg*</code></h3>
<p>Runs a fly command.</p>
<section id="parameters-281" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>y|Y|yes|YES|n|N|no|NO-&gt; 1</code></dt>
<dd>Whether to assume ‘y’ or ‘n’ to any question.
</dd>
<dt><code>command</code></dt>
<dd>The command to run.
</dd>
<dt><code>arg</code></dt>
<dd>The command arguments. Optional.
</dd>
</dl>
<p>Returns 0/TRUE if the command succeeds; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-341" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb764"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb764-1"><a href="#cb764-1"></a><span class="kw">if</span> <span class="ex">runFlyCommand</span> y -t ci set-pipeline -p main<span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;fly -t ci set-pipeline -p main -&gt; </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-extcontestia" class="level1">
<h1>API Reference (ext/contestia)</h1>
<section id="contestia" class="level2 module">
<h2>contestia</h2>
<p>Contestia functions.</p>
<section id="getcontestiadomainname-environment-profile" class="level3 function">
<h3>getContestiaDomainName <code>environment</code> <code>profile</code></h3>
<p>Retrieves the root domain name of Contestia in given environment.</p>
<section id="parameters-282" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>environment</code></dt>
<dd>The environment.
</dd>
<dt><code>profile</code></dt>
<dd>The AWS profile.
</dd>
</dl>
<p>Returns 0/TRUE if the domain name was found; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the domain name.</p>
</section>
<section id="usage-example-342" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb765"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb765-1"><a href="#cb765-1"></a><span class="kw">if</span> <span class="ex">getContestiaDomainName</span> dev dev<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb766"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb766-1"><a href="#cb766-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Domain name: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb767"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb767-1"><a href="#cb767-1"></a><span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-extcron" class="level1">
<h1>API Reference (ext/cron)</h1>
<section id="cron" class="level2 module">
<h2>cron</h2>
<p>Cron module.</p>
<section id="iscronrunning-cronpath" class="level3 function">
<h3>isCronRunning <code>cronPath?</code></h3>
<p>Checks if the cron process is running.</p>
<section id="parameters-283" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>cronPath</code></dt>
<dd>The location of the executable. Optional. Defaults to /usr/sbin/cron.
</dd>
</dl>
<p>Returns 0/TRUE if the process is running; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the process id of the cron process.</p>
</section>
<section id="usage-example-343" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb768"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb768-1"><a href="#cb768-1"></a><span class="kw">if</span> <span class="ex">isCronRunning</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb769"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb769-1"><a href="#cb769-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Cron process running: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb770"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb770-1"><a href="#cb770-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="sendsignaltocronprocess-signal" class="level3 function">
<h3>sendSignalToCronProcess <code>signal?</code></h3>
<p>Sends a signal to the cron process.</p>
<section id="parameters-284" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>signal</code></dt>
<dd>The signal to send. Optional. If omitted, the TERM signal is sent.
</dd>
</dl>
<p>Returns 0/TRUE if the cron process was running and kill command returned 0; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-344" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb771"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb771-1"><a href="#cb771-1"></a><span class="kw">if</span> <span class="ex">sendSignalToCronProcess</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb772"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb772-1"><a href="#cb772-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Cron process killed&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb773"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb773-1"><a href="#cb773-1"></a><span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-extdocker" class="level1">
<h1>API Reference (ext/docker)</h1>
<section id="docker" class="level2 module">
<h2>docker</h2>
<p>Docker-related functions.</p>
<section id="connectdockercontainertonetwork-container-network" class="level3 function">
<h3>connectDockerContainerToNetwork <code>container</code> <code>network</code></h3>
<p>Connects a container to given network.</p>
<section id="parameters-285" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>container</code></dt>
<dd>The Docker container.
</dd>
<dt><code>network</code></dt>
<dd>The network.
</dd>
</dl>
<p>Returns 0/TRUE if the container was connected to the network; 1/FALSE otherwise.</p>
<p>The variable RESULT contains the output of the command, either in case of success or failure.</p>
</section>
<section id="usage-example-345" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb774"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb774-1"><a href="#cb774-1"></a><span class="kw">if</span> <span class="ex">connectDockerContainerToNetwork</span> container my_network<span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;Container added to my_network network&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="copytodockercontainer-file-container-containerfolder" class="level3 function">
<h3>copyToDockerContainer <code>file</code> <code>container</code> <code>containerFolder</code></h3>
<p>Copies a file to a Docker container.</p>
<section id="parameters-286" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file to copy.
</dd>
<dt><code>container</code></dt>
<dd>The container name.
</dd>
<dt><code>containerFolder</code></dt>
<dd>The target location.
</dd>
</dl>
<p>Returns 0/TRUE if the operation succeeds; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains some error information.</p>
</section>
<section id="usage-example-346" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb775"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb775-1"><a href="#cb775-1"></a><span class="kw">if</span> <span class="ex">copyToDockerContainer</span> <span class="st">&quot;my-file&quot;</span> <span class="st">&quot;container&quot;</span> <span class="st">&quot;/tmp&quot;</span><span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;my-file copied to container:/tmp successfully&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="createdockernetwork-network" class="level3 function">
<h3>createDockerNetwork <code>network</code></h3>
<p>Creates a Docker network.</p>
<section id="parameters-287" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>network</code></dt>
<dd>The network name.
</dd>
</dl>
<p>Returns 0/TRUE if the network was created successfully; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains some information about the error.</p>
</section>
<section id="usage-example-347" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb776"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb776-1"><a href="#cb776-1"></a><span class="kw">if</span> <span class="ex">createDockerNetwork</span> bridge<span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;bridge network created&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="dockercommand-command-args" class="level3 function">
<h3>dockerCommand <code>command</code> <code>args*</code></h3>
<p>Runs a Docker command.</p>
<section id="parameters-288" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>command</code></dt>
<dd>The Docker command.
</dd>
<dt><code>args</code></dt>
<dd>The command arguments (if any).
</dd>
</dl>
<p>Returns 0/TRUE if the operation succeeds; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-348" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb777"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb777-1"><a href="#cb777-1"></a><span class="kw">if</span> <span class="ex">dockerCommand</span> create -v /config --name config busybox<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb778"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb778-1"><a href="#cb778-1"></a>  <span class="bu">echo</span> <span class="st">&quot;config container created successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb779"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb779-1"><a href="#cb779-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="dockercontainerexists-container" class="level3 function">
<h3>dockerContainerExists <code>container</code></h3>
<p>Checks if given container exists.</p>
<section id="parameters-289" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>container</code></dt>
<dd>The container name.
</dd>
</dl>
<p>Returns 0/TRUE if the container exists; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the hash of the container.</p>
</section>
<section id="usage-example-349" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb780"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb780-1"><a href="#cb780-1"></a><span class="kw">if</span> <span class="ex">dockerContainerExists</span> <span class="st">&quot;config&quot;</span><span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;&#39;config&#39; container already exists (</span><span class="va">${RESULT}</span><span class="st">)&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="dockernetworkexists-network" class="level3 function">
<h3>dockerNetworkExists <code>network</code></h3>
<p>Checks if given network exists.</p>
<section id="parameters-290" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>network</code></dt>
<dd>The network name.
</dd>
</dl>
<p>Returns 0/TRUE if the network exists; 0/FALSE otherwise.</p>
</section>
<section id="usage-example-350" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb781"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb781-1"><a href="#cb781-1"></a><span class="kw">if</span> <span class="ex">dockerNetworkExists</span> <span class="st">&quot;bridge&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb782"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb782-1"><a href="#cb782-1"></a>  <span class="bu">echo</span> <span class="st">&quot;&#39;bridge&#39; network already exists&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb783"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb783-1"><a href="#cb783-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="isdockercontainerrunning-container" class="level3 function">
<h3>isDockerContainerRunning <code>container</code></h3>
<p>Checks if a container is running.</p>
<section id="parameters-291" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>container</code></dt>
<dd>the container name.
</dd>
</dl>
<p>Returns 0/TRUE if the container is running; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains some error information.</p>
</section>
<section id="usage-example-351" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb784"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb784-1"><a href="#cb784-1"></a><span class="kw">if</span> <span class="ex">isDockerContainerRunning</span> mysql<span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;mysql is running&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="removedockernetwork-network" class="level3 function">
<h3>removeDockerNetwork <code>network</code></h3>
<p>Removes a Docker network.</p>
<section id="parameters-292" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>network</code></dt>
<dd>The Docker network.
</dd>
</dl>
<p>Returns 0/TRUE if the network was deleted successfully; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-352" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb785"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb785-1"><a href="#cb785-1"></a><span class="kw">if</span> <span class="ex">removeDockerNetwork</span> bridge<span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;bridge network removed&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="retrievedockercontainerstatus-container" class="level3 function">
<h3>retrieveDockerContainerStatus <code>container</code></h3>
<p>Retrieves the status of given container.</p>
<section id="parameters-293" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>container</code></dt>
<dd>The container name.
</dd>
</dl>
<p>Returns 0/TRUE if the container status could be obtained; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the status.</p>
</section>
<section id="usage-example-353" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb786"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb786-1"><a href="#cb786-1"></a><span class="kw">if</span> <span class="ex">retrieveDockerContainerStatus</span> mysql<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb787"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb787-1"><a href="#cb787-1"></a>  <span class="bu">echo</span> <span class="st">&quot;mysql&#39;s status is </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb788"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb788-1"><a href="#cb788-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="retrieveportsfromdockerfile-dockerfile" class="level3 function">
<h3>retrievePortsFromDockerfile <code>dockerfile</code></h3>
<p>Retrieves the exposed ports in given Dockerfile.</p>
<section id="parameters-294" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>dockerfile</code></dt>
<dd>The dockerfile
</dd>
</dl>
<p>Returns 0/TRUE if the ports could be retrieved; 1/FALSE otherwise.</p>
<p>If the ports are found, the variable RESULT contains a space-separated list of ports exposed in the Dockerfile.</p>
</section>
<section id="usage-example-354" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb789"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb789-1"><a href="#cb789-1"></a><span class="kw">if</span> <span class="ex">retrievePortsFromDockerfile</span> /Dockerfiles/Dockerfile<span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;Exposed ports in the Dockerfile: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-extfilebeat" class="level1">
<h1>API Reference (ext/filebeat)</h1>
<section id="filebeat" class="level2 module">
<h2>filebeat</h2>
<p>filebeat functions.</p>
<section id="configurefilebeattoaddlogfiletoforward-logfile-filebeatyml" class="level3 function">
<h3>configureFilebeatToAddLogFileToForward <code>logFile</code> <code>filebeatYml</code></h3>
<p>Adds a new log file to the filebeat.yml file.</p>
<section id="parameters-295" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>logFile</code></dt>
<dd>The log file to add.
</dd>
<dt><code>filebeatYml</code></dt>
<dd>The filebeat.yml file.
</dd>
</dl>
<p>Returns 0/TRUE if the log file is added to the filebeat.yml configuration; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-355" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb790"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb790-1"><a href="#cb790-1"></a><span class="kw">if</span> <span class="ex">configureFilebeatToAddLogFileToForward</span> <span class="st">&quot;/var/log/syslog&quot;</span> <span class="st">&quot;/etc/filebeat/filebeat.yml&quot;</span><span class="kw">;</span> <span class="kw">then</span></span>
<span id="cb790-2"><a href="#cb790-2"></a>  <span class="bu">echo</span> <span class="st">&quot;/var/log/syslog added to filebeat.yml&quot;</span><span class="kw">;</span></span>
<span id="cb790-3"><a href="#cb790-3"></a><span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-extgit" class="level1">
<h1>API Reference (ext/git)</h1>
<section id="git" class="level2 module">
<h2>git</h2>
<p>git-related functions</p>
<section id="retrievebranch" class="level3 function">
<h3>retrieveBranch</h3>
<p>Finds out the current branch.</p>
<p>Returns 0/TRUE if the branch could be retrieved; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the name of the branch.</p>
<section id="usage-example-356" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb791"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb791-1"><a href="#cb791-1"></a><span class="kw">if</span> <span class="ex">retrieveBranch</span><span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;The current branch is </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="retrieverepositoryurl" class="level3 function">
<h3>retrieveRepositoryUrl</h3>
<p>Finds out the URL of the git repository.</p>
<p>Returns 0/TRUE if the url could be retrieved; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the repository url.</p>
<section id="usage-example-357" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb792"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb792-1"><a href="#cb792-1"></a><span class="kw">if</span> <span class="ex">findOutRepositoryUrl</span><span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;The repository url is </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="retrieveheadrevision-repositoryfolder" class="level3 function">
<h3>retrieveHeadRevision <code>repositoryFolder</code></h3>
<p>Retrieves the latest revision of the git repository.</p>
<section id="parameters-296" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>repositoryFolder</code></dt>
<dd>The repository folder;
</dd>
</dl>
<p>Returns 0/TRUE if the revision could be retrieved; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-358" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb793"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb793-1"><a href="#cb793-1"></a><span class="kw">if</span> <span class="ex">retrieveHeadRevision</span><span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;Revision: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="retrieveremotehead-repo-branch" class="level3 function">
<h3>retrieveRemoteHead <code>repo</code> <code>branch</code></h3>
<p>Retrieves the hash of the HEAD of a certain remote branch in given local repository.</p>
<section id="parameters-297" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>repo</code></dt>
<dd>The repository folder.
</dd>
<dt><code>branch</code></dt>
<dd>The remote branch.
</dd>
</dl>
<p>Returns 0/TRUE if the folder could be processed; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the hash.</p>
</section>
<section id="usage-example-359" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb794"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb794-1"><a href="#cb794-1"></a><span class="kw">if</span> <span class="ex">retrieveRemoteHead</span> <span class="st">&quot;/tmp/my-Rep&quot;</span> <span class="st">&quot;master&quot;</span><span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;Remote HEAD: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="retrieveremoteheadfromurl-url-branch" class="level3 function">
<h3>retrieveRemoteHeadFromUrl <code>url</code> <code>branch</code></h3>
<p>Retrieves the hash of the HEAD for a certain branch in given remote URL.</p>
<section id="parameters-298" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>url</code></dt>
<dd>The remote URL.
</dd>
<dt><code>branch</code></dt>
<dd>The remote branch.
</dd>
</dl>
<p>Returns 0/TRUE if the URL could be processed; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the hash.</p>
</section>
<section id="usage-example-360" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb795"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb795-1"><a href="#cb795-1"></a><span class="kw">if</span> <span class="ex">retrieveRemoteHeadFromURL</span> <span class="st">&quot;http://github.com/Ryder/set-square&quot;</span> <span class="st">&quot;master&quot;</span><span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;Remote master: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-extjetty" class="level1">
<h1>API Reference (ext/jetty)</h1>
<section id="jetty" class="level2 module">
<h2>jetty</h2>
<p>Some Jetty-related functions.</p>
<section id="updatekeystorepathinjettyconf-keystorepath-configfile" class="level3 function">
<h3>updateKeyStorePathInJettyConf <code>keyStorePath</code> <code>configFile</code></h3>
<p>Updates the keystore path in given Jetty config file.</p>
<section id="parameters-299" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>keystorePath</code></dt>
<dd>The keystore path.
</dd>
<dt><code>configFile</code></dt>
<dd>The Jetty config file.
</dd>
</dl>
<p>Returns 0/TRUE if the configuration file was updated successfully; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-361" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb796"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb796-1"><a href="#cb796-1"></a><span class="kw">if</span>  <span class="ex">updateKeyStorePathInJettyConf</span> <span class="st">&quot;/etc/ssl/keystore.jks&quot;</span> <span class="st">&quot;/etc/jetty/jetty-https.xml&quot;</span><span class="kw">;</span> <span class="kw">then</span> <span class="ex">...</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="updatekeystorepasswordinjettyconf-keystorepassword-configfile" class="level3 function">
<h3>updateKeyStorePasswordInJettyConf <code>keyStorePassword</code> <code>configFile</code></h3>
<p>Updates the keystore password in given Jetty config file.</p>
<section id="parameters-300" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>keyStorePassword</code></dt>
<dd>The keystore password.
</dd>
<dt><code>configFile</code></dt>
<dd>The Jetty config file.
</dd>
</dl>
<p>Returns 0/TRUE if the config file is updated successfully; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-362" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb797"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb797-1"><a href="#cb797-1"></a><span class="kw">if</span> <span class="ex">updateKeyStorePasswordInJettyConf</span> <span class="st">&quot;secret&quot;</span> <span class="st">&quot;/etc/jetty/jetty-https.xml&quot;</span><span class="kw">;</span> <span class="kw">then</span> <span class="ex">...</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="updatetruststorepathinjettyconf-truststorepath-configfile" class="level3 function">
<h3>updateTrustStorePathInJettyConf <code>trustStorePath</code> <code>configFile</code></h3>
<p>Updates the trust store path in given Jetty config file.</p>
<section id="parameters-301" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>trustStorePath</code></dt>
<dd>The trust store path.
</dd>
<dt><code>configFile</code></dt>
<dd>The Jetty config file.
</dd>
</dl>
<p>Returns 0/TRUE if the configuration file was updated successfully; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-363" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb798"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb798-1"><a href="#cb798-1"></a><span class="kw">if</span>  <span class="ex">updateTrustStorePathInJettyConf</span> <span class="st">&quot;/etc/ssl/keystore.jks&quot;</span> <span class="st">&quot;/etc/jetty/jetty-https.xml&quot;</span><span class="kw">;</span> <span class="kw">then</span> <span class="ex">...</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="updatetruststorepasswordinjettyconf-truststorepassword-configfile" class="level3 function">
<h3>updateTrustStorePasswordInJettyConf <code>trustStorePassword</code> <code>configFile</code></h3>
<p>Updates the trust store password in given Jetty config file.</p>
<section id="parameters-302" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>trustStorePassword</code></dt>
<dd>The trust store password.
</dd>
<dt><code>configFile</code></dt>
<dd>The Jetty config file.
</dd>
</dl>
<p>Returns 0/TRUE if the config file is updated successfully; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-364" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb799"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb799-1"><a href="#cb799-1"></a><span class="kw">if</span> <span class="ex">updateTrustStorePasswordInJettyConf</span> <span class="st">&quot;secret&quot;</span> <span class="st">&quot;/etc/jetty/jetty-https.xml&quot;</span><span class="kw">;</span> <span class="kw">then</span> <span class="ex">...</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="updatekeymanagerpasswordinjettyconf-keymanagerpassword-configfile" class="level3 function">
<h3>updateKeyManagerPasswordInJettyConf <code>keyManagerPassword</code> <code>configFile</code></h3>
<p>Updates the key password in given Jetty config file.</p>
<section id="parameters-303" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>keyManagerPassword</code></dt>
<dd>The key manader password.
</dd>
<dt><code>configFile</code></dt>
<dd>The Jetty config file.
</dd>
</dl>
<p>Returns 0/TRUE if the password was updated; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-365" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb800"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb800-1"><a href="#cb800-1"></a><span class="kw">if</span> <span class="ex">updateKeyManagePasswordInJettyConf</span> <span class="st">&quot;secret&quot;</span> <span class="st">&quot;/opt/sonatype/nexus/etc/jetty-https.xml&quot;</span><span class="kw">;</span> <span class="kw">then</span> <span class="ex">...</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-extmongodb-bootstrap" class="level1">
<h1>API Reference (ext/mongodb-bootstrap)</h1>
<section id="mongodb-bootstrap" class="level2 module">
<h2>mongodb-bootstrap</h2>
<p>MongoDB-bootstrap module.</p>
<section id="mongodbmigrate-user-group-dbfolder-permissionsfolder-configfile-database-authenticationdatabase-authenticationmechanism-adminusername-adminuserpassword-enablefreemonitoring-backuprolename-backuprolespec-backupusername-backupuserpassword-starttimeout-startcheckinterval-lockfile-dumpfile" class="level3 function">
<h3>mongodbMigrate <code>user</code> <code>group</code> <code>dbFolder</code> <code>permissionsFolder</code> <code>configFile</code> <code>database</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code> <code>adminUserName</code> <code>adminUserPassword</code> <code>enableFreeMonitoring</code> <code>backupRoleName</code> <code>backupRoleSpec</code> <code>backupUserName</code> <code>backupUserPassword</code> <code>startTimeout</code> <code>startCheckInterval</code> <code>lockFile</code> <code>dumpFile?</code></h3>
<p>Migrates a MongoDB server.</p>
<section id="parameters-304" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>user</code></dt>
<dd>The user to run mongod as.
</dd>
<dt><code>group</code></dt>
<dd>The gorup to run mongod as.
</dd>
<dt><code>dbFolder</code></dt>
<dd>The database folder.
</dd>
<dt><code>permissionsFolder</code></dt>
<dd>The permissions folder.
</dd>
<dt><code>configFile</code></dt>
<dd>The mongod config file.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
<dt><code>adminUserName</code></dt>
<dd>The name of the admin user.
</dd>
<dt><code>adminUserPassword</code></dt>
<dd>The password of the admin user.
</dd>
<dt><code>enableFreeMonitoring</code></dt>
<dd>Whether to enable free monitoring.
</dd>
<dt><code>lockFile</code></dt>
<dd>The lock file.
</dd>
<dt><code>bootstrapFile</code></dt>
<dd>The bootstrap file.
</dd>
<dt><code>dumpFile</code></dt>
<dd>The dump file to restore, if any. Optional.
</dd>
</dl>
<p>Returns 0/TRUE always, but can exit in case of error.</p>
</section>
<section id="usage-example-366" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb801"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb801-1"><a href="#cb801-1"></a><span class="ex">mongodbMigrate</span> mongod admin /var/lib/mongod /etc/mongod.config admin <span class="st">&quot;SCRAM-SHA-1&quot;</span> admin secret false 60 5 /tmp/bootstrap.lock<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="mongodbbootstrap.releasebootstraplock-lockfile" class="level3 function">
<h3>MONGODBBOOTSTRAP.releaseBootstrapLock <code>lockFile</code></h3>
<p>Releases the bootstrap lock.</p>
<section id="parameters-305" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>lockFile</code></dt>
<dd>The lock file.
</dd>
</dl>
<p>Returns 0/TRUE if the lock can be released; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-367" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb802"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb802-1"><a href="#cb802-1"></a><span class="kw">if</span> <span class="ex">MONGODBBOOTSTRAP.releaseBootstrapLock</span> /tmp/bootstrap.lock<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb803"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb803-1"><a href="#cb803-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Bootstrap lock released&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb804"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb804-1"><a href="#cb804-1"></a><span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-extmongodb" class="level1">
<h1>API Reference (ext/mongodb)</h1>
<section id="mongodb" class="level2 module">
<h2>mongodb</h2>
<p>MongoDB module.</p>
<section id="enablemongodbcrauthentication" class="level3 function">
<h3>enableMongodbCrAuthentication</h3>
<p>Enables MONGODB-CR authentication.</p>
<p>Returns 0/TRUE if MONGODB-CR gets enabled successfully; 1/FALSE otherwise.</p>
<section id="usage-example-368" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb805"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb805-1"><a href="#cb805-1"></a><span class="kw">if</span> <span class="ex">enableMongodbCrAuthentication</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb806"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb806-1"><a href="#cb806-1"></a>  <span class="bu">echo</span> <span class="st">&quot;MONGODB-CR enabled successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb807"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb807-1"><a href="#cb807-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="addmongodbadminuser-user-password-authenticationdatabase" class="level3 function">
<h3>addMongodbAdminUser <code>user</code> <code>password</code> <code>authenticationDatabase?</code></h3>
<p>Adds an admin user.</p>
<section id="parameters-306" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>user</code></dt>
<dd>The user.
</dd>
<dt><code>password</code></dt>
<dd>The password.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database. Optional. Defaults to “admin”.
</dd>
</dl>
<p>Returns 0/TRUE if the user gets created successfully; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains error information.</p>
</section>
<section id="usage-example-369" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb808"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb808-1"><a href="#cb808-1"></a><span class="kw">if</span> <span class="ex">addMongodbAdminUser</span> <span class="st">&quot;admin&quot;</span> <span class="st">&quot;secret&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb809"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb809-1"><a href="#cb809-1"></a>  <span class="bu">echo</span> <span class="st">&quot;User admin created successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb810"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb810-1"><a href="#cb810-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="addmongodbbackuprole-rolename-root-rootpassword-authenticationdatabase-authenticationmechanism" class="level3 function">
<h3>addMongodbBackupRole <code>roleName</code> <code>root</code> <code>rootPassword</code> <code>authenticationDatabase?</code> <code>authenticationMechanism?</code></h3>
<p>Adds a backup role (includes both “backup” and “restore”).</p>
<section id="parameters-307" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>roleName</code></dt>
<dd>The role name. It must not match any of the built-in roles.
</dd>
<dt><code>targetDatabase</code></dt>
<dd>The target database.
</dd>
<dt><code>root</code></dt>
<dd>The root user.
</dd>
<dt><code>rootPassword</code></dt>
<dd>The root password.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database. Optional. Defaults to admin.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism. Optional. Defaults to SCRAM-SHA-256
</dd>
</dl>
<p>Returns 0/TRUE if the role gets created successfully; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains error information.</p>
</section>
<section id="usage-example-370" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb811"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb811-1"><a href="#cb811-1"></a><span class="kw">if</span> <span class="ex">addMongodbBackupRole</span> <span class="st">&quot;backupRestore&quot;</span> myDb root <span class="st">&quot;s3cr3t&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb812"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb812-1"><a href="#cb812-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Role backupRestore created successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb813"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb813-1"><a href="#cb813-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="mongodbrolealreadyexists-rolename-database-root-rootpassword-authenticationdatabase-authenticationmechanism" class="level3 function">
<h3>mongodbRoleAlreadyExists <code>roleName</code> <code>database</code> <code>root</code> <code>rootPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></h3>
<p>Checks if giwen role already exists.</p>
<section id="parameters-308" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>roleName</code></dt>
<dd>The role name.
</dd>
<dt><code>database</code></dt>
<dd>The target database.
</dd>
<dt><code>root</code></dt>
<dd>The root user.
</dd>
<dt><code>rootPassword</code></dt>
<dd>The root password.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
</dl>
<p>Returns 0/TRUE if the role exists already; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-371" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb814"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb814-1"><a href="#cb814-1"></a><span class="kw">if</span> <span class="ex">mongodbRoleAlreadyExists</span> <span class="st">&quot;EventSourcingEventView&quot;</span> myDb root <span class="st">&quot;s3cr3t&quot;</span> admin SCRAM-SHA-256<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb815"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb815-1"><a href="#cb815-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Role already exists&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb816"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb816-1"><a href="#cb816-1"></a><span class="ex">i</span></span></code></pre></div>
</section>
</section>
<section id="addmongodbrole-rolename-root-rootpassword-authenticationdatabase-authenticationmechanism-privilegespec-rolespec" class="level3 function">
<h3>addMongodbRole <code>roleName</code> <code>root</code> <code>rootPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code> <code>privilegeSpec?</code> <code>roleSpec?</code></h3>
<p>Adds a role.</p>
<section id="parameters-309" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>roleName</code></dt>
<dd>The role name. It must not match any of the built-in roles.
</dd>
<dt><code>targetDatabase</code></dt>
<dd>The target database.
</dd>
<dt><code>root</code></dt>
<dd>The root user.
</dd>
<dt><code>rootPassword</code></dt>
<dd>The root password.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
<dt><code>privilegeSpec</code></dt>
<dd>The privilege spec.
</dd>
<dt><code>roleSpec</code></dt>
<dd>the role spec.
</dd>
</dl>
<p>Returns 0/TRUE if the role gets created successfully; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains error information.</p>
</section>
<section id="usage-example-372" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb817"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb817-1"><a href="#cb817-1"></a><span class="kw">if</span> <span class="ex">addMongodbRole</span> <span class="st">&quot;EventSourcingEventView&quot;</span> myDb root <span class="st">&quot;s3cr3t&quot;</span> admin SCRAM-SHA-256 <span class="st">&quot;[ { db: &#39;core&#39;, collection: &#39;eventSourcingEvent&#39;}, actions: [&#39;find&#39;] } ]&quot;</span> <span class="st">&#39;[]&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb818"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb818-1"><a href="#cb818-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Role created successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb819"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb819-1"><a href="#cb819-1"></a><span class="ex">i</span></span></code></pre></div>
</section>
</section>
<section id="addmongodbuser-user-password-database-root-rootpassword-authenticationdatabase-authenticationmechanism-rolespec" class="level3 function">
<h3>addMongodbUser <code>user</code> <code>password</code> <code>database</code> <code>root</code> <code>rootPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code> <code>roleSpec+</code></h3>
<p>Adds a new user.</p>
<section id="parameters-310" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>user</code></dt>
<dd>The user.
</dd>
<dt><code>password</code></dt>
<dd>The password.
</dd>
<dt><code>database</code></dt>
<dd>The user database.
</dd>
<dt><code>root</code></dt>
<dd>The root user.
</dd>
<dt><code>rootPassword</code></dt>
<dd>The root password.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
<dt><code>roleSpec</code></dt>
<dd>The space-separated list of role names.
</dd>
</dl>
<p>Returns 0/TRUE if the user gets created successfully; 1/FALSE otherwise.</p>
<p>If the function returns 1/TRUE, the variable ERROR contains some error information.</p>
</section>
<section id="usage-example-373" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb820"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb820-1"><a href="#cb820-1"></a><span class="kw">if</span> <span class="ex">addMongodbUser</span> <span class="st">&quot;my-user&quot;</span> <span class="st">&quot;secret&quot;</span> <span class="st">&quot;myDb&quot;</span> <span class="st">&quot;root&quot;</span> <span class="st">&quot;s3cr3t&quot;</span> <span class="st">&quot;admin&quot;</span> <span class="st">&quot;SCRAM-SHA-256&quot;</span> <span class="st">&quot;{ role: &#39;userAdmin&#39;, db: &#39;admin&#39; }&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb821"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb821-1"><a href="#cb821-1"></a>  <span class="bu">echo</span> <span class="st">&quot;User my-user created successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb822"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb822-1"><a href="#cb822-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="removemongodbuser-user-database-root-rootpassword-authenticationdatabase-authenticationmechanism" class="level3 function">
<h3>removeMongodbUser <code>user</code> <code>database</code> <code>root</code> <code>rootPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></h3>
<p>Removes a new user.</p>
<section id="parameters-311" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>user</code></dt>
<dd>The user.
</dd>
<dt><code>database</code></dt>
<dd>The user database.
</dd>
<dt><code>root</code></dt>
<dd>The root user.
</dd>
<dt><code>rootPassword</code></dt>
<dd>The root password.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
</dl>
<p>Returns 0/TRUE if the user gets removed successfully; 1/FALSE otherwise.</p>
<p>If the function returns 1/TRUE, the variable ERROR contains some error information.</p>
</section>
<section id="usage-example-374" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb823"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb823-1"><a href="#cb823-1"></a><span class="kw">if</span> <span class="ex">removeMongodbUser</span> <span class="st">&quot;my-user&quot;</span> <span class="st">&quot;myDb&quot;</span> <span class="st">&quot;root&quot;</span> <span class="st">&quot;s3cr3t&quot;</span> <span class="st">&quot;admin&quot;</span> <span class="st">&quot;SCRAM-SHA-256&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb824"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb824-1"><a href="#cb824-1"></a>  <span class="bu">echo</span> <span class="st">&quot;User my-user removed successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb825"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb825-1"><a href="#cb825-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="mongodbfreemonitoringalreadyenabled-root-rootpassword-authenticationdatabase-authenticationmechanism" class="level3 function">
<h3>mongodbFreeMonitoringAlreadyEnabled <code>root</code> <code>rootPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></h3>
<p>Checks if free monitoring on the instance is already enabled.</p>
<section id="parameters-312" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>root</code></dt>
<dd>The root user.
</dd>
<dt><code>rootPassword</code></dt>
<dd>The root password.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
</dl>
<p>Returns 0/TRUE if the free monitoring is enabled; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the monitoring url; else, the variable ERROR contains some error information.</p>
</section>
<section id="usage-example-375" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb826"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb826-1"><a href="#cb826-1"></a><span class="kw">if</span> <span class="ex">mongodbFreeMonitoringAlreadyEnabled</span> <span class="st">&quot;root&quot;</span> <span class="st">&quot;s3cr3t&quot;</span> <span class="st">&quot;admin&quot;</span> <span class="st">&quot;SCRAM-SHA-256&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb827"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb827-1"><a href="#cb827-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Free monitoring enabled&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb828"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb828-1"><a href="#cb828-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="enablemongodbfreemonitoring-root-rootpassword-authenticationdatabase-authenticationmechanism" class="level3 function">
<h3>enableMongodbFreeMonitoring <code>root</code> <code>rootPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></h3>
<p>Enables free monitoring on the instance.</p>
<section id="parameters-313" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>root</code></dt>
<dd>The root user.
</dd>
<dt><code>rootPassword</code></dt>
<dd>The root password.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
</dl>
<p>Returns 0/TRUE if the free monitoring gets enabled; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the monitoring url; else, the variable ERROR contains some error information.</p>
</section>
<section id="usage-example-376" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb829"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb829-1"><a href="#cb829-1"></a><span class="kw">if</span> <span class="ex">enableMongodbFreeMonitoring</span> <span class="st">&quot;root&quot;</span> <span class="st">&quot;s3cr3t&quot;</span> <span class="st">&quot;admin&quot;</span> <span class="st">&quot;SCRAM-SHA-256&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb830"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb830-1"><a href="#cb830-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Free monitoring enabled&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb831"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb831-1"><a href="#cb831-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="disablemongodbfreemonitoring-root-rootpassword-authenticationdatabase-authenticationmechanism" class="level3 function">
<h3>disableMongodbFreeMonitoring <code>root</code> <code>rootPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></h3>
<p>Disables free monitoring on the instance.</p>
<section id="parameters-314" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>root</code></dt>
<dd>The root user.
</dd>
<dt><code>rootPassword</code></dt>
<dd>The root password.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
</dl>
<p>Returns 0/TRUE if the free monitoring gets disabled; 1/FALSE otherwise.</p>
<p>If the function returns 1/TRUE, the variable ERROR contains some error information.</p>
</section>
<section id="usage-example-377" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb832"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb832-1"><a href="#cb832-1"></a><span class="kw">if</span> <span class="ex">disableMongodbFreeMonitoring</span> <span class="st">&quot;root&quot;</span> <span class="st">&quot;s3cr3t&quot;</span> <span class="st">&quot;admin&quot;</span> <span class="st">&quot;SCRAM-SHA-256&quot;</span><span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;Free monitoring enabled&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="ismongodrunning" class="level3 function">
<h3>isMongodRunning</h3>
<p>Checks whether mongod is running.</p>
<p>Returns 0/TRUE if it’s running; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE; the variable RESULT contains the mongod pid.</p>
<section id="usage-example-378" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb833"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb833-1"><a href="#cb833-1"></a><span class="kw">if</span> ! <span class="ex">isMongodRunning</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb834"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb834-1"><a href="#cb834-1"></a>  <span class="bu">echo</span> <span class="st">&quot;mongod is not running&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb835"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb835-1"><a href="#cb835-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="ismongodrunning-1" class="level3 function">
<h3>isMongodRunning</h3>
<p>Checks mongod is not running.</p>
<p>Returns 0/TRUE if mongod is running; 1/FALSE otherwise.</p>
<section id="usage-example-379" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb836"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb836-1"><a href="#cb836-1"></a><span class="kw">if</span> <span class="ex">isMongodRunning</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb837"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb837-1"><a href="#cb837-1"></a>  <span class="bu">echo</span> <span class="st">&quot;mongod is running&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb838"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb838-1"><a href="#cb838-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="killmongod" class="level3 function">
<h3>killMongod</h3>
<p>Kills the current mongod process.</p>
<p>Returns 0/TRUE if the process is killed; 1/FALSE otherwise.</p>
<section id="usage-example-380" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb839"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb839-1"><a href="#cb839-1"></a><span class="kw">if</span> <span class="ex">killMongod</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb840"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb840-1"><a href="#cb840-1"></a>  <span class="bu">echo</span> <span class="st">&quot;mongod process killed successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb841"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb841-1"><a href="#cb841-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="mongodump-output-host-user-pass-authenticationdatabase-authenticationmechanism" class="level3 function">
<h3>mongoDump <code>output</code> <code>host</code> <code>user?</code> <code>pass?</code> <code>authenticationDatabase?</code> <code>authenticationMechanism?</code></h3>
<p>Performs a dump.</p>
<section id="parameters-315" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>output</code></dt>
<dd>The output file.
</dd>
<dt><code>host</code></dt>
<dd>The host. Optional. Defaults to localhost.
</dd>
<dt><code>user</code></dt>
<dd>The user name. Optional.
</dd>
<dt><code>pass</code></dt>
<dd>The password. Optional.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database. Optional. Defaults to admin.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism. Optional. Defaults to SCRAM-SHA1.
</dd>
</dl>
<p>Returns 0/TRUE if the dump gets created successfully; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR would contain some information about the error.</p>
</section>
<section id="usage-example-381" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb842"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb842-1"><a href="#cb842-1"></a><span class="kw">if</span> <span class="ex">mongoDump</span> /tmp/dump-today.gz localhost root secret<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb843"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb843-1"><a href="#cb843-1"></a>  <span class="bu">echo</span> <span class="st">&quot;dump succeeded&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb844"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb844-1"><a href="#cb844-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="mongorestore-file-host-user-pass-authenticationdatabase-authenticationmechanism" class="level3 function">
<h3>mongoRestore <code>file</code> <code>host?</code> <code>user?</code> <code>pass?</code> <code>authenticationDatabase?</code> <code>authenticationMechanism?</code></h3>
<p>Restores from backup.</p>
<section id="parameters-316" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file to restore from.
</dd>
<dt><code>host</code></dt>
<dd>The host. Optional. Defaults to localhost.
</dd>
<dt><code>user</code></dt>
<dd>The user name. Optional.
</dd>
<dt><code>password</code></dt>
<dd>The password. Optional.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database. Optional. Defaults to admin.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism. Optional. Defaults to SCRAM-SHA-256.
</dd>
</dl>
<p>Returns 0/TRUE if the restore process succeeds; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains additional information.</p>
</section>
<section id="usage-example-382" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb845"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb845-1"><a href="#cb845-1"></a><span class="kw">if</span> <span class="ex">mongoRestore</span> <span class="st">&quot;/tmp/dump.gz&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb846"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb846-1"><a href="#cb846-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Backup /tmp/dump.gz restored successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb847"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb847-1"><a href="#cb847-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="mongoimport-file-host-user-pass-authenticationdatabase-authenticationmechanism" class="level3 function">
<h3>mongoImport <code>file</code> <code>host?</code> <code>user?</code> <code>pass?</code> <code>authenticationDatabase?</code> <code>authenticationMechanism?</code></h3>
<p>Restores from backup.</p>
<section id="parameters-317" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file to import.
</dd>
<dt><code>host</code></dt>
<dd>The host. Optional. Defaults to localhost.
</dd>
<dt><code>user</code></dt>
<dd>The user name. Optional.
</dd>
<dt><code>password</code></dt>
<dd>The password. Optional.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database. Optional. Defaults to admin.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism. Optional. Defaults to SCRAM-SHA-256.
</dd>
<dt><code>database</code></dt>
<dd>The database to import. Optional.
</dd>
</dl>
<p>Returns 0/TRUE if the import process succeeds; 1/FALSE otherwise.</p>
<p>If the function returns 1/FALSE, the variable ERROR contains additional information.</p>
</section>
<section id="usage-example-383" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb848"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb848-1"><a href="#cb848-1"></a><span class="kw">if</span> <span class="ex">mongoImport</span> <span class="st">&quot;/tmp/dump.gz&quot;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb849"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb849-1"><a href="#cb849-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Backup /tmp/dump.gz imported successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb850"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb850-1"><a href="#cb850-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="startmongodwithauthenticationdisabled-user-group-permissionsfolder-configfile" class="level3 function">
<h3>startMongodWithAuthenticationDisabled <code>user</code> <code>group</code> <code>permissionsFolder</code> <code>configFile</code></h3>
<p>Starts mongod with authentication enabled, using given user and group (and ensuring its permissions match the owners of given permissionsFolder parameter).</p>
<section id="parameters-318" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>user</code></dt>
<dd>The owner of the process.
</dd>
<dt><code>group</code></dt>
<dd>The group of the process.
</dd>
<dt><code>permissionsFolder</code></dt>
<dd>The folder used to get the permissions from (the user and group will be adapted to match the folder’s).
</dd>
<dt><code>configFile</code></dt>
<dd>The mongod config file.
</dd>
</dl>
<p>Returns 0/TRUE if the process could be started; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-384" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb851"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb851-1"><a href="#cb851-1"></a><span class="ex">startMongodbWithAuthenticationDisabled</span> mongo mongo /var/lib/mongodb /etc/mongod.conf <span class="kw">&amp;</span> <span class="bu">disown</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="startmongodwithauthenticationenabled-user-group-permissionsfolder-configfile-authenticationmechanism" class="level3 function">
<h3>startMongodWithAuthenticationEnabled <code>user</code> <code>group</code> <code>permissionsFolder</code> <code>configFile</code> <code>authenticationMechanism</code></h3>
<p>Starts mongod with authentication enabled, using given user and group (and ensuring its permissions match the owners of given permissionsFolder parameter).</p>
<section id="parameters-319" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>user</code></dt>
<dd>The owner of the process.
</dd>
<dt><code>group</code></dt>
<dd>The group of the process.
</dd>
<dt><code>permissionsFolder</code></dt>
<dd>The folder used to get the permissions from (the user and group will be adapted to match the folder’s).
</dd>
<dt><code>configFile</code></dt>
<dd>The mongod config file.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
</dl>
<p>Returns 0/TRUE if the process could be started; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-385" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb852"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb852-1"><a href="#cb852-1"></a><span class="ex">startMongodbWithAuthenticationEnabled</span> mongo mongo /var/lib/mongodb /etc/mongod.conf SCRAM-SHA-256 <span class="kw">&amp;</span> <span class="bu">disown</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="waituntilmongodisrunning-timeout-checkinterval" class="level3 function">
<h3>waitUntilMongodIsRunning <code>timeout</code> <code>checkInterval</code></h3>
<p>Waits until mongod is running.</p>
<section id="parameters-320" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>timeout</code></dt>
<dd>The maximum number of seconds to wait.
</dd>
<dt><code>checkInterval</code></dt>
<dd>How often to check.
</dd>
</dl>
<p>Returns 0/TRUE if mongod is running; 1/FALSE if it didn’t start after the timeout expired.</p>
</section>
<section id="usage-example-386" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb853"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb853-1"><a href="#cb853-1"></a><span class="kw">if</span> <span class="ex">waitUntilMongodIsRunning</span> 60 5<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb854"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb854-1"><a href="#cb854-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Mongod is running&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb855"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb855-1"><a href="#cb855-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="ismongodrunning-2" class="level3 function">
<h3>isMongodRunning</h3>
<p>Checks whether mongod is running.</p>
<p>Returns 0/TRUE if it’s running; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE; the variable RESULT contains the mongod pid.</p>
<section id="usage-example-387" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb856"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb856-1"><a href="#cb856-1"></a><span class="kw">if</span> ! <span class="ex">isMongodRunning</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb857"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb857-1"><a href="#cb857-1"></a>  <span class="bu">echo</span> <span class="st">&quot;mongod is not running&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb858"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb858-1"><a href="#cb858-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="ismongodrunning-3" class="level3 function">
<h3>isMongodRunning</h3>
<p>Checks mongod is not running.</p>
<p>Returns 0/TRUE if mongod is running; 1/FALSE otherwise.</p>
<section id="usage-example-388" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb859"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb859-1"><a href="#cb859-1"></a><span class="kw">if</span> <span class="ex">isMongodRunning</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb860"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb860-1"><a href="#cb860-1"></a>  <span class="bu">echo</span> <span class="st">&quot;mongod is running&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb861"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb861-1"><a href="#cb861-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="ismongodrunningwithnoauthentication" class="level3 function">
<h3>isMongodRunningWithNoAuthentication</h3>
<p>Checks mongod is running with no authentication.</p>
<p>Returns 0/TRUE if mongod is running with no authentication enabled; 1/FALSE otherwise.</p>
<section id="usage-example-389" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb862"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb862-1"><a href="#cb862-1"></a><span class="kw">if</span> <span class="ex">isMongodRunningWithNoAuthentication</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb863"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb863-1"><a href="#cb863-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Mongod is not running, or it&#39;s running with auth enabled&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb864"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb864-1"><a href="#cb864-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="checkmongodbusercanlogin-user-password-authenticationdatabase-authenticationmechanism" class="level3 function">
<h3>checkMongodbUserCanLogin <code>user</code> <code>password</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></h3>
<p>Checks given MongoDB user can login.</p>
<section id="parameters-321" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>user</code></dt>
<dd>The user name.
</dd>
<dt><code>password</code></dt>
<dd>The password.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
</dl>
<p>Returns 0/TRUE if given user can log in; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-390" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb865"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb865-1"><a href="#cb865-1"></a><span class="kw">if</span> <span class="ex">mongodbUserCanLogIn</span> root secret myDb SCRAM-SHA-256<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb866"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb866-1"><a href="#cb866-1"></a>  <span class="bu">echo</span> <span class="st">&quot;User can log in&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb867"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb867-1"><a href="#cb867-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="mongodbadminuseralreadyexists-user-database" class="level3 function">
<h3>mongodbAdminUserAlreadyExists <code>user</code> <code>database</code></h3>
<p>Checks given MongoDB user can login.</p>
<section id="parameters-322" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>user</code></dt>
<dd>The user name.
</dd>
<dt><code>database</code></dt>
<dd>The database.
</dd>
</dl>
<p>Returns 0/TRUE if given user exists; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-391" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb868"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb868-1"><a href="#cb868-1"></a><span class="kw">if</span> <span class="ex">mongodbAdminUserAlreadyExists</span> root myDb<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb869"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb869-1"><a href="#cb869-1"></a>  <span class="bu">echo</span> <span class="st">&quot;User root exists in myDb database&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb870"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb870-1"><a href="#cb870-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="mongodbuseralreadyexists-user-database-adminusername-adminuserpassword-authenticationdatabase-authenticationmechanism" class="level3 function">
<h3>mongodbUserAlreadyExists <code>user</code> <code>database</code> <code>adminUserName</code> <code>adminUserPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></h3>
<p>Checks given MongoDB user exists in given database.</p>
<section id="parameters-323" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>user</code></dt>
<dd>The user name.
</dd>
<dt><code>database</code></dt>
<dd>The database.
</dd>
<dt><code>adminUser</code></dt>
<dd>The user to access the MongoDB server.
</dd>
<dt><code>adminPassword</code></dt>
<dd>The password to access the MongoDB server.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
</dl>
<p>Returns 0/TRUE if given user exists; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-392" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb871"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb871-1"><a href="#cb871-1"></a><span class="kw">if</span> <span class="ex">mongodbUserAlreadyExists</span> root myDb admin secret admin SCRAM-SHA-256<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb872"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb872-1"><a href="#cb872-1"></a>  <span class="bu">echo</span> <span class="st">&quot;User root exists in myDb database&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb873"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb873-1"><a href="#cb873-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="createmongodbindex-user-password-authenticationdatabase-authenticationmechanism-database-collection-index-options" class="level3 function">
<h3>createMongodbIndex <code>user</code> <code>password</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code> <code>database</code> <code>collection</code> <code>index</code> <code>options</code></h3>
<p>Creates a MongoDB index on given collection.</p>
<section id="parameters-324" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>user</code></dt>
<dd>The user to log in.
</dd>
<dt><code>password</code></dt>
<dd>The password.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
<dt><code>database</code></dt>
<dd>The database of the collection.
</dd>
<dt><code>collection</code></dt>
<dd>The collection.
</dd>
<dt><code>index</code></dt>
<dd>The index.
</dd>
<dt><code>options</code></dt>
<dd>The index options.
</dd>
</dl>
<p>Returns 0/TRUE if the index could be created; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-393" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb874"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb874-1"><a href="#cb874-1"></a><span class="kw">if</span> <span class="ex">createMongodbIndex</span> root secret admin SCRAM-SHA-1 myDatabase myCollection <span class="st">&#39;{ id: 1 }&#39;</span> <span class="st">&#39;{ name: &quot;myIndex&quot; }&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb875"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb875-1"><a href="#cb875-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Index created successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb876"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb876-1"><a href="#cb876-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="mongodbindexalreadyexists-user-password-authenticationdatabase-authenticationmechanism-database-collection-index" class="level3 function">
<h3>mongodbIndexAlreadyExists <code>user</code> <code>password</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code> <code>database</code> <code>collection</code> <code>index</code></h3>
<p>Checks a MongoDB index exists on given collection.</p>
<section id="parameters-325" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>user</code></dt>
<dd>The user to log in.
</dd>
<dt><code>password</code></dt>
<dd>The password.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
<dt><code>database</code></dt>
<dd>The database.
</dd>
<dt><code>collection</code></dt>
<dd>The collection.
</dd>
<dt><code>index</code></dt>
<dd>The index.
</dd>
</dl>
<p>Returns 0/TRUE if the index exists; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-394" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb877"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb877-1"><a href="#cb877-1"></a><span class="kw">if</span> <span class="ex">mongodbIndexAlreadyExists</span> root secret admin SCRAM-SHA-1 myDatabase myCollection <span class="st">&#39;{ id: 1 }&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb878"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb878-1"><a href="#cb878-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Index exists&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb879"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb879-1"><a href="#cb879-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="createmongodbdatabase-database-temporarycollection-user-password-authenticationdatabase-authenticationmechanism" class="level3 function">
<h3>createMongodbDatabase <code>database</code> <code>temporaryCollection</code> <code>user</code> <code>password</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></h3>
<p>Creates a MongoDB database.</p>
<section id="parameters-326" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>database</code></dt>
<dd>The database.
</dd>
<dt><code>temporaryCollection</code></dt>
<dd>A temporary collection needed to ensure the database gets created.
</dd>
<dt><code>user</code></dt>
<dd>The user to log in.
</dd>
<dt><code>password</code></dt>
<dd>The password.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
</dl>
<p>Returns 0/TRUE if the database could be created; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-395" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb880"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb880-1"><a href="#cb880-1"></a><span class="kw">if</span> <span class="ex">createMongodbDatabase</span> myDatabase removeme root secret admin SCRAM-SHA-1<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb881"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb881-1"><a href="#cb881-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Database created successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb882"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb882-1"><a href="#cb882-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="mongodbdatabasealreadyexists-database-user-password-authenticationdatabase-authenticationmechanism" class="level3 function">
<h3>mongodbDatabaseAlreadyExists <code>database</code> <code>user</code> <code>password</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></h3>
<p>Checks a MongoDB database exists.</p>
<section id="parameters-327" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>database</code></dt>
<dd>The database.
</dd>
<dt><code>user</code></dt>
<dd>The user to log in.
</dd>
<dt><code>password</code></dt>
<dd>The password.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
</dl>
<p>Returns 0/TRUE if the database exists; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-396" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb883"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb883-1"><a href="#cb883-1"></a><span class="kw">if</span> <span class="ex">mongodbDatabaseAlreadyExists</span> myDatabase root secret admin SCRAM-SHA-1<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb884"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb884-1"><a href="#cb884-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Database exists&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb885"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb885-1"><a href="#cb885-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="createmongodbcollection-database-collection-user-password-authenticationdatabase-authenticationmechanism-database-options" class="level3 function">
<h3>createMongodbCollection <code>database</code> <code>collection</code> <code>user</code> <code>password</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code> <code>database</code> <code>options</code></h3>
<p>Creates a MongoDB collection on given database.</p>
<section id="parameters-328" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>database</code></dt>
<dd>The database.
</dd>
<dt><code>collection</code></dt>
<dd>The collection.
</dd>
<dt><code>user</code></dt>
<dd>The user to log in.
</dd>
<dt><code>password</code></dt>
<dd>The password.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
<dt><code>options</code></dt>
<dd>The collection options.
</dd>
</dl>
<p>Returns 0/TRUE if the collection could be created; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-397" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb886"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb886-1"><a href="#cb886-1"></a><span class="kw">if</span> <span class="ex">createMongodbCollection</span> myDatabase myCollection root secret admin SCRAM-SHA-1 myDatabase myCollection <span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb887"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb887-1"><a href="#cb887-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Collection created successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb888"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb888-1"><a href="#cb888-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="mongodbcollectionalreadyexists-database-collection-user-password-authenticationdatabase-authenticationmechanism" class="level3 function">
<h3>mongodbCollectionAlreadyExists <code>database</code> <code>collection</code> <code>user</code> <code>password</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></h3>
<p>Checks a MongoDB collection exists on given collection.</p>
<section id="parameters-329" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>database</code></dt>
<dd>The database.
</dd>
<dt><code>collection</code></dt>
<dd>The collection.
</dd>
<dt><code>user</code></dt>
<dd>The user to log in.
</dd>
<dt><code>password</code></dt>
<dd>The password.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
</dl>
<p>Returns 0/TRUE if the collection exists; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-398" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb889"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb889-1"><a href="#cb889-1"></a><span class="kw">if</span> <span class="ex">mongodbCollectionAlreadyExists</span>  myDatabase myCollection root secret admin SCRAM-SHA-1<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb890"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb890-1"><a href="#cb890-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Collection exists&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb891"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb891-1"><a href="#cb891-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="removemongodbcollection-database-collection-user-password-authenticationdatabase-authenticationmechanism" class="level3 function">
<h3>removeMongodbCollection <code>database</code> <code>collection</code> <code>user</code> <code>password</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></h3>
<p>Removes a MongoDB collection on given database.</p>
<section id="parameters-330" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>database</code></dt>
<dd>The database.
</dd>
<dt><code>collection</code></dt>
<dd>The collection.
</dd>
<dt><code>user</code></dt>
<dd>The user to log in.
</dd>
<dt><code>password</code></dt>
<dd>The password.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
</dl>
<p>Returns 0/TRUE if the collection could be removed; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-399" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb892"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb892-1"><a href="#cb892-1"></a><span class="kw">if</span> <span class="ex">removeMongodbCollection</span> myDatabase myCollection root secret admin SCRAM-SHA-1<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb893"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb893-1"><a href="#cb893-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Collection removed successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb894"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb894-1"><a href="#cb894-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="addmongodbroleifnecessary-rolename-privilegespec-rolespec-cannotaddroleerrorlabel-roledoesnotexisterrorlabel-database-adminuser-adminpassword-authenticationdatabase-authenticationmechanism" class="level3 function">
<h3>addMongodbRoleIfNecessary <code>roleName</code> <code>privilegeSpec</code> <code>roleSpec</code> <code>cannotAddRoleErrorLabel</code> <code>roleDoesNotExistErrorLabel</code> <code>database</code> <code>adminUser</code> <code>adminPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></h3>
<p>Adds the EventSourcingEventFind role, if necessary.</p>
<section id="parameters-331" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>roleName</code></dt>
<dd>The name of the role.
</dd>
<dt><code>privilegeSpec</code></dt>
<dd>The privilege definition.
</dd>
<dt><code>roleSpec</code></dt>
<dd>The role definition.
</dd>
<dt><code>cannotAddRoleErrorLabel</code></dt>
<dd>The label of the error in case the role cannot be added.
</dd>
<dt><code>roleDoesNotExistErrorLabel</code></dt>
<dd>The label of the error in case the role is missing after being supposedly created.
</dd>
<dt><code>database</code></dt>
<dd>The target database.
</dd>
<dt><code>adminUser</code></dt>
<dd>The user to access the MongoDB server.
</dd>
<dt><code>adminPassword</code></dt>
<dd>The password to access the MongoDB server.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
</dl>
<p>Returns 0/TRUE always, but can exit if the role cannot be added.</p>
</section>
<section id="usage-example-400" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb895"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb895-1"><a href="#cb895-1"></a><span class="ex">addMongodbRoleIfNecessary</span> <span class="st">&quot;MyRole&quot;</span> <span class="st">&quot;[ { resource: { db: &#39;</span><span class="va">${EVENTSTORE_DATABASE}</span><span class="st">&#39;, collection: &#39;</span><span class="va">${EVENTSOURCINGEVENT_COLLECTION}</span><span class="st">&#39; }, actions: [ &#39;find&#39;  ] } ]&quot;</span> <span class="st">&#39;[]&#39;</span> CANNOT_ADD_MYROLE MYROLE_STILL_DOES_NOT_EXIST admin admin secret admin SCRAM-SHA-256<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="addmongodbuserifnecessary-username-userpassword-database-rolespec-cannotcreateusererrorlabel-cannotloginerrorlabel-adminusername-adminuserpassword-authenticationdatabase-authenticationmechanism" class="level3 function">
<h3>addMongodbUserIfNecessary <code>userName</code> <code>userPassword</code> <code>database</code> <code>roleSpec</code> <code>cannotCreateUserErrorLabel</code> <code>cannotLogInErrorLabel</code> <code>adminUserName</code> <code>adminUserPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></h3>
<p>Adds the user able to access given database, if necessary.</p>
<section id="parameters-332" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>userName</code></dt>
<dd>The user name.
</dd>
<dt><code>userPassword</code></dt>
<dd>The user password.
</dd>
<dt><code>database</code></dt>
<dd>The target database.
</dd>
<dt><code>roleSpec</code></dt>
<dd>The role specification.
</dd>
<dt><code>cannotCreateUserErrorLabel</code></dt>
<dd>The error label when the user cannot be created.
</dd>
<dt><code>cannotLogInErrorLabel</code></dt>
<dd>The error label when the user cannot log in.
</dd>
<dt><code>adminUserName</code></dt>
<dd>The user to access the MongoDB server.
</dd>
<dt><code>adminUserPassword</code></dt>
<dd>The password to access the MongoDB server.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
</dl>
<p>Returns 0/TRUE always, but can exit if the user cannot be added.</p>
</section>
<section id="usage-example-401" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb896"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb896-1"><a href="#cb896-1"></a><span class="ex">addMongodbUserIfNecessary</span> core secret admin <span class="st">&quot;[ { role: &#39;</span><span class="va">${MyCollectionFindRole}</span><span class="st">&#39;, db: &#39;admin&#39; },{ role: &#39;</span><span class="va">${MyCollectionInsertRole}</span><span class="st">&#39;, db: &#39;admin&#39; } ]&quot;</span> CANNOT_ADD_CORE_USER CORE_USER_CANNOT_LOG_IN admin secret admin SCRAM-SHA-256<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="removemongodbuserifnecessary-username-database-cannotcreateusererrorlabel-adminusername-adminuserpassword-authenticationdatabase-authenticationmechanism" class="level3 function">
<h3>removeMongodbUserIfNecessary <code>userName</code> <code>database</code> <code>cannotCreateUserErrorLabel</code> <code>adminUserName</code> <code>adminUserPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></h3>
<p>Removes the user from given database, if necessary.</p>
<section id="parameters-333" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>userName</code></dt>
<dd>The user name.
</dd>
<dt><code>database</code></dt>
<dd>The database.
</dd>
<dt><code>cannotRemoveUserErrorLabel</code></dt>
<dd>The error label when the user cannot be removed.
</dd>
<dt><code>adminUserName</code></dt>
<dd>The user to access the MongoDB server.
</dd>
<dt><code>adminUserPassword</code></dt>
<dd>The password to access the MongoDB server.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
</dl>
<p>Returns 0/TRUE always, but can exit if the user cannot be removed.</p>
</section>
<section id="usage-example-402" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb897"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb897-1"><a href="#cb897-1"></a><span class="ex">removeMongodbUserIfNecessary</span> core myDb CANNOT_REMOVE_CORE_USER admin secret admin SCRAM-SHA-256<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="addmongodbindexifnecessary-indexname-rolespec-database-collection-cannotcreateindexerrorlabel-indexdoesnotexisterrorlabel-adminusername-adminuserpassword-authenticationdatabase-authenticationmechanism" class="level3 function">
<h3>addMongodbIndexIfNecessary <code>indexName</code> <code>roleSpec</code> <code>database</code> <code>collection</code> <code>cannotCreateIndexErrorLabel</code> <code>indexDoesNotExistErrorLabel</code> <code>adminUserName</code> <code>adminUserPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></h3>
<p>Adds an index, if necessary.</p>
<section id="parameters-334" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>indexName</code></dt>
<dd>The index name.
</dd>
<dt><code>roleSpec</code></dt>
<dd>The role specification.
</dd>
<dt><code>database</code></dt>
<dd>The database.
</dd>
<dt><code>collection</code></dt>
<dd>The collection.
</dd>
<dt><code>cannotCreateIndexErrorLabel</code></dt>
<dd>The label of the error when the index cannot be created.
</dd>
<dt><code>indexDoesNotExistErrorLabel</code></dt>
<dd>The label of the error when the index still doesn’t exist after being created, supposedly.
</dd>
<dt><code>adminUserName</code></dt>
<dd>The name of the admin user.
</dd>
<dt><code>adminUserPassword</code></dt>
<dd>The password of the admin user.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
</dl>
<p>Returns 0/TRUE always, but can exit if the index cannot be created.</p>
</section>
<section id="usage-example-403" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb898"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb898-1"><a href="#cb898-1"></a><span class="ex">addMongodbIndexIfNecessary</span> id <span class="st">&#39;{ id: 1 }&#39;</span> myDatabase myCollection CANNOT_CREATE_ID_INDEX ID_INDEX_DOES_NOT_EXIST admin secret admin SCRAM-SHA-256<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="addmongodbdatabaseifnecessary-database-temporarycollection-cannotcreatedatabaseerrorlabel-databasedoesnotexisterrorlabel-adminusername-adminuserpassword-authenticationdatabase-authenticationmechanism" class="level3 function">
<h3>addMongodbDatabaseIfNecessary <code>database</code> <code>temporaryCollection</code> <code>cannotCreateDatabaseErrorLabel</code> <code>databaseDoesNotExistErrorLabel</code> <code>adminUserName</code> <code>adminUserPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></h3>
<p>Adds a database, if necessary.</p>
<section id="parameters-335" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>database</code></dt>
<dd>The database.
</dd>
<dt><code>temporaryCollection</code></dt>
<dd>The name of a temporary collection, needed to ensure the database gets created.
</dd>
<dt><code>cannotCreateDatabaseErrorLabel</code></dt>
<dd>The error label when the user cannot be created.
</dd>
<dt><code>databaseDoesNotExistErrorLabel</code></dt>
<dd>The error label when the database still does not exist even after being supposedly created.
</dd>
<dt><code>adminUserName</code></dt>
<dd>The name of the admin user.
</dd>
<dt><code>adminUserPassword</code></dt>
<dd>The password of the admin user.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
</dl>
<p>Returns 0/TRUE always, but can exit if the database cannot be added.</p>
</section>
<section id="usage-example-404" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb899"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb899-1"><a href="#cb899-1"></a><span class="ex">addMongodbDatabaseIfNecessary</span> eventStore removeme CANNOT_ADD_EVENTSTORE_DATABASE EVENTSTORE_DATABASE_DOES_NOT_EXIST admin secret admin SCRAM-SHA-256<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="addmongodbcollectionifnecessary-database-collection-cannotcreatecollectionerrorlabel-collectiondoesnotexist-adminusername-adminuserpassword-authenticationdatabase-authenticationmechanism" class="level3 function">
<h3>addMongodbCollectionIfNecessary <code>database</code> <code>collection</code> <code>cannotCreateCollectionErrorLabel</code> <code>collectionDoesNotExist</code> <code>adminUserName</code> <code>adminUserPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></h3>
<p>Adds a collection, if necessary.</p>
<section id="parameters-336" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>database</code></dt>
<dd>The database.
</dd>
<dt><code>collection</code></dt>
<dd>The collection.
</dd>
<dt><code>cannotCreateCollectionErrorLabel</code></dt>
<dd>The error label when the collection cannot be created.
</dd>
<dt><code>databaseDoesNotExistErrorLabel</code></dt>
<dd>The error label when the collection still does not exist even after being supposedly created.
</dd>
<dt><code>adminUserName</code></dt>
<dd>The name of the admin user.
</dd>
<dt><code>adminUserPassword</code></dt>
<dd>The password of the admin user.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
</dl>
<p>Returns 0/TRUE always, but can exit if the collection cannot be added.</p>
</section>
<section id="usage-example-405" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb900"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb900-1"><a href="#cb900-1"></a><span class="ex">addMongodbCollectionIfNecessary</span> EventSourcingEvent eventStore CANNOT_ADD_EVENTSOURCINGEVENT_COLLECTION EVENTSOURCINGEVENT_COLLECTION_DOES_NOT_EXIST admin secret admin SCRAM-SHA-256<span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="removemongodbcollectionifnecessary-database-collection-cannotremovecollectionerrorlabel-collectionexistserrorlabel-adminusername-adminuserpassword-authenticationdatabase-authenticationmechanism" class="level3 function">
<h3>removeMongodbCollectionIfNecessary <code>database</code> <code>collection</code> <code>cannotRemoveCollectionErrorLabel</code> <code>collectionExistsErrorLabel</code> <code>adminUserName</code> <code>adminUserPassword</code> <code>authenticationDatabase</code> <code>authenticationMechanism</code></h3>
<p>Removes given collection, if necessary.</p>
<section id="parameters-337" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>database</code></dt>
<dd>The database.
</dd>
<dt><code>collection</code></dt>
<dd>The collection.
</dd>
<dt><code>cannotRemoveCollectionErrorLabel</code></dt>
<dd>The error to use if the collection cannot be deleted.
</dd>
<dt><code>collectionExistsErrorLabel</code></dt>
<dd>The error to use if the collection still exists after being supposedly removed.
</dd>
<dt><code>adminUserName</code></dt>
<dd>The name of the admin user.
</dd>
<dt><code>adminUserPassword</code></dt>
<dd>The password of the admin user.
</dd>
<dt><code>authenticationDatabase</code></dt>
<dd>The authentication database.
</dd>
<dt><code>authenticationMechanism</code></dt>
<dd>The authentication mechanism.
</dd>
</dl>
<p>Returns 0/TRUE always, but can exit if the collection could not be removed.</p>
</section>
<section id="usage-example-406" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb901"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb901-1"><a href="#cb901-1"></a><span class="ex">removeMongodbCollectionIfNecessary</span> eventStore removeme CANNOT_DELETE_REMOVEME_COLLECTION REMOVEME_COLLECTION_EXISTS admin secret admin SCRAM-SHA-256<span class="kw">;</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-extnexus" class="level1">
<h1>API Reference (ext/nexus)</h1>
<section id="nexus" class="level2 module">
<h2>nexus</h2>
<p>Nexus 3 functions.</p>
<section id="appendlogconfigdirtonexussystemproperties-file-folder" class="level3 function">
<h3>appendLogConfigDirToNexusSystemProperties <code>file</code> <code>folder</code></h3>
<p>Appends the log-config-dir setting to given file.</p>
<section id="parameters-338" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file to update.
</dd>
<dt><code>folder</code></dt>
<dd>The log config folder.
</dd>
</dl>
<p>Returns 0/TRUE if the file was updated successfully; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-407" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb902"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb902-1"><a href="#cb902-1"></a><span class="kw">if</span> <span class="ex">appendLogConfigDirToNexusSystemProperties</span> <span class="st">&quot;/opt/sonatype/nexus/etc/system.properties&quot;</span> <span class="st">&quot;/backup/nexus-conf/&quot;</span></span></code></pre></div>
</section>
</section>
<section id="appendworkdirinnexussystemproperties-file-workdir" class="level3 function">
<h3>appendWorkDirInNexusSystemProperties <code>file</code> <code>workDir</code></h3>
<p>Appends the work-dir setting to given file.</p>
<section id="parameters-339" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file to update.
</dd>
<dt><code>workDir</code></dt>
<dd>The work folder.
</dd>
</dl>
<p>Returns 0/TRUE if the configuration file was updated successfully; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-408" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb903"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb903-1"><a href="#cb903-1"></a><span class="kw">if</span> <span class="ex">appendWorkDirInNexusSystemProperties</span> <span class="st">&quot;/opt/sonatype/nexus/etc/system.properties&quot;</span> <span class="st">&quot;/sonatype-work&quot;</span><span class="kw">;</span> <span class="kw">then</span> <span class="ex">...</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="enablejettyhttpsconfiginnexusproperties-file-output" class="level3 function">
<h3>enableJettyHttpsConfigInNexusProperties <code>file</code> <code>output</code></h3>
<p>Enables the Jetty HTTPS configuration in Nexus.</p>
<section id="parameters-340" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The nexus-default.properties file location.
</dd>
<dt><code>output</code></dt>
<dd>The nexus.properties file location.
</dd>
</dl>
<p>Returns 0/TRUE if the HTTPS configuration was enabled; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-409" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb904"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb904-1"><a href="#cb904-1"></a><span class="kw">if</span> <span class="ex">enableJettyHttpsConfigInNexusProperties</span> <span class="st">&quot;/opt/sonatype/nexus/etc/nexus-default.properties&quot;</span> <span class="st">&quot;/opt-sonatype/nexus/etc/nexus.properties&quot;</span><span class="kw">;</span> <span class="kw">then</span> <span class="ex">...</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="appendhttpsconnectorporttonexuscfg-nexuscfg-port" class="level3 function">
<h3>appendHttpsConnectorPortToNexusCfg <code>nexusCfg</code> <code>port</code></h3>
<p>Appends the HTTPS connector port to given file.</p>
<section id="parameters-341" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>nexusCfg</code></dt>
<dd>The file to update.
</dd>
<dt><code>port</code></dt>
<dd>The HTTPS port.
</dd>
</dl>
<p>Returns 0/TRUE if the file was updated; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-410" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb905"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb905-1"><a href="#cb905-1"></a><span class="kw">if</span> <span class="ex">appendHttpsConnectorPortToNexusCfg</span> <span class="st">&quot;/opt/sonatype/nexus/etc/org.sonatype.nexus.cfg&quot;</span> 8443<span class="kw">;</span> <span class="kw">then</span> <span class="ex">...</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-extphabricator" class="level1">
<h1>API Reference (ext/phabricator)</h1>
<section id="phabricator" class="level2 module">
<h2>phabricator</h2>
<p>Phabricator-related functions.</p>
<section id="retrievecredentialpasswordfromphabricator-keyid-phabricatorurl-apitoken" class="level3 function">
<h3>retrieveCredentialPasswordFromPhabricator <code>keyId</code> <code>phabricatorUrl</code> <code>apiToken</code></h3>
<p>Retrieves a credential’s password from Phabricator.</p>
<section id="parameters-342" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>keyId</code></dt>
<dd>The key id.
</dd>
<dt><code>phabricatorUrl</code></dt>
<dd>The Phabricator URL.
</dd>
<dt><code>apiToken</code></dt>
<dd>The API token.
</dd>
</dl>
<p>Returns 0/TRUE if the credential password could be retrieved; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the credential password.</p>
</section>
<section id="usage-example-411" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb906"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb906-1"><a href="#cb906-1"></a><span class="kw">if</span> <span class="ex">retrieveCredentialPasswordFromPhabricator</span> <span class="st">&quot;4&quot;</span> <span class="st">&quot;http://phabricator.osoco.es&quot;</span> <span class="st">&quot;api-aouktahoekoahk&quot;</span><span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;Credential password: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="retrievecredentialprivatekeyfromphabricator-keyid-phabricatorurl-apitoken" class="level3 function">
<h3>retrieveCredentialPrivateKeyFromPhabricator <code>keyId</code> <code>phabricatorUrl</code> <code>apiToken</code></h3>
<p>Retrieves a credential’s private key from Phabricator.</p>
<section id="parameters-343" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>keyId</code></dt>
<dd>The key id.
</dd>
<dt><code>phabricatorUrl</code></dt>
<dd>The Phabricator URL.
</dd>
<dt><code>apiToken</code></dt>
<dd>The API token.
</dd>
</dl>
<p>Returns 0/TRUE if the credential’s private key could be retrieved; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the credential private key.</p>
</section>
<section id="usage-example-412" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb907"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb907-1"><a href="#cb907-1"></a><span class="kw">if</span> <span class="ex">retrieveCredentialPrivateKeyFromPhabricator</span> <span class="st">&quot;4&quot;</span> <span class="st">&quot;http://phabricator.osoco.es&quot;</span> <span class="st">&quot;api-aouktahoekoahk&quot;</span><span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;Credential private key: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="retrievecredentialusernamefromphabricator-keyid-phabricatorurl-apitoken" class="level3 function">
<h3>retrieveCredentialUsernameFromPhabricator <code>keyId</code> <code>phabricatorUrl</code> <code>apiToken</code></h3>
<p>Retrieves the username of a credential from Phabricator.</p>
<section id="parameters-344" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>keyId</code></dt>
<dd>The key id.
</dd>
<dt><code>phabricatorUrl</code></dt>
<dd>The Phabricator URL.
</dd>
<dt><code>apiToken</code></dt>
<dd>The API token.
</dd>
</dl>
<p>Returns 0/TRUE if the username could be retrieved; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the credential username.</p>
</section>
<section id="usage-example-413" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb908"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb908-1"><a href="#cb908-1"></a><span class="kw">if</span> <span class="ex">retrieveCredentialUsernameFromPhabricator</span> <span class="st">&quot;4&quot;</span> <span class="st">&quot;http://phabricator.osoco.es&quot;</span> <span class="st">&quot;api-aouktahoekoahk&quot;</span><span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;Credential username: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-extrabbitmq-bootstrap" class="level1">
<h1>API Reference (ext/rabbitmq-bootstrap)</h1>
<section id="rabbitmq" class="level2 module">
<h2>rabbitmq</h2>
<p>Functions useful when bootstrapping RabbitMQ servers.</p>
<p>You might be interested in importing rabbitmq-cli as well, to inject processing of the required environment variables above.</p>
<section id="rabbitmqmigrate" class="level3 function">
<h3>rabbitmqMigrate</h3>
<p>Migrates the RabbitMQ instance.</p>
<p>Important: This function delegates the migration logic to an external function “rabbitmq_patch”.</p>
<section id="usage-example-414" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb909"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb909-1"><a href="#cb909-1"></a><span class="ex">rabbitmqMigrate</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="setadminusertags-accessuser-accesspassword" class="level3 function">
<h3>setAdminUserTags <code>(accessUser</code> <code>accessPassword)?</code></h3>
<p>Sets the correct tags for the admin user.</p>
<section id="parameters-345" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>accessUser</code></dt>
<dd>The username used to connect. Optional.
</dd>
<dt><code>accessPassword</code></dt>
<dd>The password used to connect. Optional.
</dd>
</dl>
<p>Returns 0/TRUE if the tags are set successfully; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-415" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb910"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb910-1"><a href="#cb910-1"></a><span class="kw">if</span> <span class="ex">setAdminUserTags</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb911"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb911-1"><a href="#cb911-1"></a>  <span class="bu">echo</span> <span class="st">&quot;admin tags set successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb912"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb912-1"><a href="#cb912-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="setadminuserpermissions" class="level3 function">
<h3>setAdminUserPermissions</h3>
<p>Sets the admin user permissions.</p>
<p>Returns 0/TRUE if the permissions are set successfully; 1/FALSE otherwise.</p>
<section id="usage-example-416" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb913"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb913-1"><a href="#cb913-1"></a><span class="kw">if</span> <span class="ex">setAdminUserPermissions</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb914"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb914-1"><a href="#cb914-1"></a>  <span class="bu">echo</span> <span class="st">&quot;admin user permissions set successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb915"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb915-1"><a href="#cb915-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="setmonitoringusertags-accessuser-accesspassword" class="level3 function">
<h3>setMonitoringUserTags <code>(accessUser</code> <code>accessPassword)?</code></h3>
<p>Sets the correct tags for the monitoring user.</p>
<section id="parameters-346" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>accessUser</code></dt>
<dd>The username used to connect. Optional.
</dd>
<dt><code>accessPassword</code></dt>
<dd>The password used to connect. Optional.
</dd>
</dl>
<p>Returns 0/TRUE if the tags are set successfully; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-417" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb916"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb916-1"><a href="#cb916-1"></a><span class="kw">if</span> <span class="ex">setMonitoringUserTags</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb917"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb917-1"><a href="#cb917-1"></a>  <span class="bu">echo</span> <span class="st">&quot;monitoring user tag set successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb918"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb918-1"><a href="#cb918-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="setmonitoringuserpermissions" class="level3 function">
<h3>setMonitoringUserPermissions</h3>
<p>Sets the monitoring user permissions.</p>
<section id="parameters-347" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>user</code></dt>
<dd>The username used to connect.
</dd>
<dt><code>password</code></dt>
<dd>The password used to connect.
</dd>
</dl>
<p>Returns 0/TRUE if the permissions are set successfully; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-418" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb919"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb919-1"><a href="#cb919-1"></a><span class="kw">if</span> <span class="ex">setMonitoringUserPermissions</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb920"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb920-1"><a href="#cb920-1"></a>  <span class="bu">echo</span> <span class="st">&quot;monitoring user permissions set successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb921"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb921-1"><a href="#cb921-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
<section id="environment-variables-4" class="level4">
<h4>Environment variables</h4>
<dl>
<dt><code>RABBITMQ_NODENAME</code></dt>
<dd>The name of the RabbitMQ node.
</dd>
<dt><code>BOOTSTRAP_LOCK_FILE</code></dt>
<dd>The file indicating if the bootstrap is running.
</dd>
<dt><code>BOOTSTRAP_FAILED_FILE</code></dt>
<dd>The file indicating if the bootstrap has failed.
</dd>
<dt><code>BOOTSTRAP_COMPLETED_FILE</code></dt>
<dd>The file indicating if the bootstrap has completed successfully.
</dd>
<dt><code>ADMIN_USER_PASSWORD</code></dt>
<dd>The password for the admin user.
</dd>
<dt><code>MONITORING_USER_PASSWORD</code></dt>
<dd>The password for the monitoring user.
</dd>
<dt><code>ADMIN_USER_NAME</code></dt>
<dd>The name of the admin user.
</dd>
<dt><code>ADMIN_USER_PASSWORD</code></dt>
<dd>The password of the ‘admin’ user.
</dd>
<dt><code>ADMIN_USER_TAGS</code></dt>
<dd>The tags of the admin user.
</dd>
<dt><code>ADMIN_USER_CONFIGURE_PERMISSIONS</code></dt>
<dd>The configure permissions for the Admin user.
</dd>
<dt><code>ADMIN_USER_WRITE_PERMISSIONS</code></dt>
<dd>The write permissions for the Admin user.
</dd>
<dt><code>ADMIN_USER_READ_PERMISSIONS</code></dt>
<dd>The read permissions for the Admin user.
</dd>
<dt><code>MONITORING_USER_NAME</code></dt>
<dd>The name of the monitoring user.
</dd>
<dt><code>MONITORING_USER_TAGS</code></dt>
<dd>The tags of the monitoring user.
</dd>
<dt><code>MONITORING_USER_CONFIGURE_PERMISSIONS</code></dt>
<dd>The configure permissions for the Monitoring user.
</dd>
<dt><code>MONITORING_USER_WRITE_PERMISSIONS</code></dt>
<dd>The write permissions for the Monitoring user.
</dd>
<dt><code>MONITORING_USER_READ_PERMISSIONS</code></dt>
<dd>The read permissions for the Monitoring user.
</dd>
</dl>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-extrabbitmq" class="level1">
<h1>API Reference (ext/rabbitmq)</h1>
<section id="rabbitmq-1" class="level2 module">
<h2>rabbitmq</h2>
<p>Functions useful when bootstrapping RabbitMQ servers.</p>
<p>You might be interested in importing rabbitmq-cli as well, to inject processing of the required environment variables above.</p>
<section id="ensurerabbitmqmanagementisenabled-nodename" class="level3 function">
<h3>ensureRabbitmqManagementIsEnabled <code>nodename</code></h3>
<p>Ensures the rabbitmq_management plugin is enabled.</p>
<section id="parameters-348" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>nodename</code></dt>
<dd>The node name.
</dd>
</dl>
<p>Returns 0/TRUE if the rabbitmq_management plugin is enabled or was already enabled; 1/FALSE if it could not be enabled for some reason.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains some logging information; otherwise, the variable ERROR contains some information about the error.</p>
</section>
<section id="usage-example-419" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb922"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb922-1"><a href="#cb922-1"></a><span class="kw">if</span> <span class="ex">ensureRabbitmqManagementIsEnabled</span> <span class="st">&#39;rabbit@server&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb923"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb923-1"><a href="#cb923-1"></a>  <span class="bu">echo</span> <span class="st">&quot;RabbitMQ management enabled&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb924"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb924-1"><a href="#cb924-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="israbbitmqrunning" class="level3 function">
<h3>isRabbitmqRunning</h3>
<p>Checks whether RabbitMQ is running.</p>
<p>Returns 0/TRUE if it’s running; 1/FALSE otherwise.</p>
<section id="usage-example-420" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb925"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb925-1"><a href="#cb925-1"></a><span class="kw">if</span> ! <span class="ex">isRabbitmqRunning</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb926"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb926-1"><a href="#cb926-1"></a>  <span class="bu">echo</span> <span class="st">&quot;RabbitMQ is not running&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb927"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb927-1"><a href="#cb927-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="addvhost-virtualhost-nodename" class="level3 function">
<h3>addVhost <code>virtualHost</code> <code>nodename</code></h3>
<p>Declares a virtual host.</p>
<section id="parameters-349" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>virtualHost</code></dt>
<dd>The virtual host.
</dd>
<dt><code>nodename</code></dt>
<dd>The node name.
</dd>
</dl>
<p>Returns 0/TRUE if the virtual host gets created successfully; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains some logging information; otherwise, the variable ERROR contains some information about the error.</p>
</section>
<section id="usage-example-421" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb928"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb928-1"><a href="#cb928-1"></a><span class="kw">if</span> ! <span class="ex">addVhost</span> <span class="st">&quot;/&quot;</span> <span class="st">&#39;rabbit@server&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb929"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb929-1"><a href="#cb929-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Could not add vhost /&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb930"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb930-1"><a href="#cb930-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="adduser-user-password-nodename" class="level3 function">
<h3>addUser <code>user</code> <code>password</code> <code>nodename</code></h3>
<p>Adds a new RabbitMQ user.</p>
<section id="parameters-350" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>user</code></dt>
<dd>The username.
</dd>
<dt><code>password</code></dt>
<dd>The password.
</dd>
<dt><code>nodename</code></dt>
<dd>The node name.
</dd>
</dl>
<p>Returns 0/TRUE if the user was added; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains some logging information; otherwise, the variable ERROR contains some information about the error.</p>
</section>
<section id="usage-example-422" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb931"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb931-1"><a href="#cb931-1"></a><span class="kw">if</span> <span class="ex">addUser</span> <span class="st">&quot;admin&quot;</span> <span class="st">&quot;secret&quot;</span> <span class="st">&#39;rabbit@server&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb932"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb932-1"><a href="#cb932-1"></a>  <span class="bu">echo</span> <span class="st">&quot;User admin added successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb933"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb933-1"><a href="#cb933-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="useralreadyexists-user-nodename" class="level3 function">
<h3>userAlreadyExists <code>user</code> <code>nodename</code></h3>
<p>Checks if given user already exists.</p>
<section id="parameters-351" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>nodename</code></dt>
<dd>The node name.
</dd>
</dl>
<p>Returns 0/TRUE if the user exists; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains some logging information; otherwise, the variable ERROR contains some information about the error.</p>
</section>
<section id="usage-example-423" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb934"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb934-1"><a href="#cb934-1"></a><span class="kw">if</span> <span class="ex">userAlreadyExists</span> admin <span class="st">&#39;rabbit@server&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb935"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb935-1"><a href="#cb935-1"></a>  <span class="bu">echo</span> <span class="st">&quot;User admin already exists&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb936"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb936-1"><a href="#cb936-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="deleteuser-user-nodename" class="level3 function">
<h3>deleteUser <code>user</code> <code>nodename</code></h3>
<p>Deletes an user.</p>
<section id="parameters-352" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>user</code></dt>
<dd>The user.
</dd>
<dt><code>nodename</code></dt>
<dd>The node name.
</dd>
</dl>
<p>Returns 0/TRUE if the user gets deleted successfully; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-424" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb937"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb937-1"><a href="#cb937-1"></a><span class="kw">if</span> <span class="ex">deleteUser</span> <span class="st">&quot;guest&quot;</span> <span class="st">&#39;rabbit@server&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb938"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb938-1"><a href="#cb938-1"></a>  <span class="bu">echo</span> <span class="st">&quot;guest user deleted successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb939"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb939-1"><a href="#cb939-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="declareexchange-name-type-nodename-accessuser-accesspassword-durable-internal-args" class="level3 function">
<h3>declareExchange <code>name</code> <code>type</code> <code>nodename</code> <code>accessUser</code> <code>accessPassword</code> <code>durable?</code> <code>internal?</code> <code>args*</code></h3>
<p>Declares an exchange.</p>
<section id="parameters-353" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>name</code></dt>
<dd>The exchange name.
</dd>
<dt><code>type</code></dt>
<dd>The exchange type.
</dd>
<dt><code>nodename</code></dt>
<dd>The node name.
</dd>
<dt><code>accessUser</code></dt>
<dd>The access user.
</dd>
<dt><code>accessPassword</code></dt>
<dd>The access password.
</dd>
<dt><code>durable</code></dt>
<dd>Whether the exchange is durable. Optional.
</dd>
<dt><code>internal</code></dt>
<dd>Whether the exchange is internal. Optional.
</dd>
<dt><code>args</code></dt>
<dd>Additional arguments. Optional.
</dd>
</dl>
<p>Returns 0/TRUE if the exchange gets created successfully; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains some logging information; otherwise, the variable ERROR contains some information about the error.</p>
</section>
<section id="usage-example-425" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb940"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb940-1"><a href="#cb940-1"></a><span class="kw">if</span> <span class="ex">declareExchange</span> <span class="st">&quot;ex&quot;</span> <span class="st">&quot;topic&quot;</span> <span class="st">&#39;rabbit@server&#39;</span> admin <span class="st">&#39;secret&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb941"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb941-1"><a href="#cb941-1"></a>  <span class="bu">echo</span> <span class="st">&quot;ex exchange created successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb942"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb942-1"><a href="#cb942-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="exchangealreadyexists-exchangename-exchangetype-nodename" class="level3 function">
<h3>exchangeAlreadyExists <code>exchangeName</code> <code>exchangeType</code> <code>nodename</code></h3>
<p>Checks if given exchange already exists.</p>
<section id="parameters-354" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>exchangeName</code></dt>
<dd>The exchange name.
</dd>
<dt><code>exchangeType</code></dt>
<dd>The exchange type.
</dd>
<dt><code>nodename</code></dt>
<dd>The node name.
</dd>
</dl>
<p>Returns 0/TRUE if the exchange exists, and it’s the same type; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains some logging information; otherwise, the variable ERROR contains some information about the error.</p>
</section>
<section id="usage-example-426" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb943"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb943-1"><a href="#cb943-1"></a><span class="kw">if</span> <span class="ex">exchangeAlreadyExists</span> exch fanout <span class="st">&#39;rabbit@server&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb944"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb944-1"><a href="#cb944-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Exchange exch already exists&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb945"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb945-1"><a href="#cb945-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="deleteexchange-exchangename-nodename-accessuser-accesspasword" class="level3 function">
<h3>deleteExchange <code>exchangeName</code> <code>nodename</code> <code>accessUser</code> <code>accessPasword</code></h3>
<p>Deletes given exchange.</p>
<section id="parameters-355" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>exchangeName</code></dt>
<dd>The exchange name.
</dd>
<dt><code>nodename</code></dt>
<dd>The node name.
</dd>
<dt><code>accessUser</code></dt>
<dd>The access user.
</dd>
<dt><code>accessPassword</code></dt>
<dd>The access password.
</dd>
</dl>
<p>Returns 0/TRUE if the exchange gets deleted; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains some logging information; otherwise, the variable ERROR contains some information about the error.</p>
</section>
<section id="usage-example-427" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb946"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb946-1"><a href="#cb946-1"></a><span class="kw">if</span> <span class="ex">deleteExchange</span> exch <span class="st">&#39;rabbit@server&#39;</span> admin <span class="st">&#39;secret&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb947"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb947-1"><a href="#cb947-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Exchange exch deleted&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb948"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb948-1"><a href="#cb948-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="declarequeue-name-durable-nodename-accessuser-accesspassword" class="level3 function">
<h3>declareQueue <code>name</code> <code>durable</code> <code>nodename</code> <code>accessUser</code> <code>accessPassword</code></h3>
<p>Declares a queue.</p>
<section id="parameters-356" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>name</code></dt>
<dd>The queue name.
</dd>
<dt><code>durable</code></dt>
<dd>Whether it’s durable or not.
</dd>
<dt><code>nodename</code></dt>
<dd>The node name.
</dd>
<dt><code>accessUser</code></dt>
<dd>The access user.
</dd>
<dt><code>accessPassword</code></dt>
<dd>The access password.
</dd>
</dl>
<p>Returns 0/TRUE if the queue is created successfully; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains some logging information; otherwise, the variable ERROR contains some information about the error.</p>
</section>
<section id="usage-example-428" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb949"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb949-1"><a href="#cb949-1"></a><span class="kw">if</span> <span class="ex">declareQueue</span> <span class="st">&quot;my-queue&quot;</span> <span class="st">&quot;true&quot;</span> <span class="st">&#39;rabbit@server&#39;</span> <span class="st">&#39;admin&#39;</span> <span class="st">&#39;secret&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb950"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb950-1"><a href="#cb950-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Queue my-queue created successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb951"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb951-1"><a href="#cb951-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="queuealreadyexists-queuename-nodename" class="level3 function">
<h3>queueAlreadyExists <code>queueName</code> <code>nodename</code></h3>
<p>Checks if given queue already exists.</p>
<section id="parameters-357" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>queueName</code></dt>
<dd>The queue name.
</dd>
<dt><code>nodename</code></dt>
<dd>The node name.
</dd>
</dl>
<p>Returns 0/TRUE if the queue exists; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains some logging information; otherwise, the variable ERROR contains some information about the error.</p>
</section>
<section id="usage-example-429" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb952"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb952-1"><a href="#cb952-1"></a><span class="kw">if</span> <span class="ex">queueAlreadyExists</span> q1 <span class="st">&#39;rabbit@server&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb953"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb953-1"><a href="#cb953-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Queue q1 already exists&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb954"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb954-1"><a href="#cb954-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="deletequeue-queuename-nodename-accessuser-accesspasword" class="level3 function">
<h3>deleteQueue <code>queueName</code> <code>nodename</code> <code>accessUser</code> <code>accessPasword</code></h3>
<p>Deletes given queue.</p>
<section id="parameters-358" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>queueName</code></dt>
<dd>The queue name.
</dd>
<dt><code>nodename</code></dt>
<dd>The node name.
</dd>
<dt><code>accessUser</code></dt>
<dd>The access user.
</dd>
<dt><code>accessPassword</code></dt>
<dd>The access password.
</dd>
</dl>
<p>Returns 0/TRUE if the queue gets deleted; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains some logging information; otherwise, the variable ERROR contains some information about the error.</p>
</section>
<section id="usage-example-430" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb955"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb955-1"><a href="#cb955-1"></a><span class="kw">if</span> <span class="ex">deleteQueue</span> q1 <span class="st">&#39;rabbit@server&#39;</span> admin <span class="st">&#39;secret&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb956"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb956-1"><a href="#cb956-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Queue q1 deleted&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb957"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb957-1"><a href="#cb957-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="setpermissions-virtualhost-user-configurepermissions-writepermissions-readpermissions-nodename" class="level3 function">
<h3>setPermissions <code>virtualHost</code> <code>user</code> <code>configurePermissions</code> <code>writePermissions</code> <code>readPermissions</code> <code>nodename</code></h3>
<p>Sets RabbitMQ permissions.</p>
<section id="parameters-359" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>virtualHost</code></dt>
<dd>The virtualhost.
</dd>
<dt><code>user</code></dt>
<dd>The user.
</dd>
<dt><code>configurePermissions</code></dt>
<dd>The configure permissions.
</dd>
<dt><code>writePermissions</code></dt>
<dd>The write permissions.
</dd>
<dt><code>readPermissions</code></dt>
<dd>The read permissions.
</dd>
<dt><code>nodename</code></dt>
<dd>The nodename.
</dd>
</dl>
<p>Returns 0/TRUE if the permissions were set successfully; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains some logging information; otherwise, the variable ERROR contains some information about the error.</p>
</section>
<section id="usage-example-431" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb958"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb958-1"><a href="#cb958-1"></a><span class="kw">if</span> ! <span class="ex">setPermissions</span> / admin <span class="st">&quot;.*&quot;</span> <span class="st">&quot;.*&quot;</span> <span class="st">&quot;.*&quot;</span> <span class="st">&#39;rabbit@server&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb959"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb959-1"><a href="#cb959-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Could not set permissions for admin&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb960"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb960-1"><a href="#cb960-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="setpolicy-name-match-body-type-nodename" class="level3 function">
<h3>setPolicy <code>name</code> <code>match</code> <code>body</code> <code>type</code> <code>nodename</code></h3>
<p>Sets a policy.</p>
<section id="parameters-360" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>name</code></dt>
<dd>The policy name.
</dd>
<dt><code>match</code></dt>
<dd>The match.
</dd>
<dt><code>body</code></dt>
<dd>The policy body.
</dd>
<dt><code>type</code></dt>
<dd>The object type: which objects apply.
</dd>
<dt><code>nodename</code></dt>
<dd>The node name.
</dd>
</dl>
<p>Returns 0/TRUE if the policy gets created successfully; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains some logging information; otherwise, the variable ERROR contains some information about the error.</p>
</section>
<section id="usage-example-432" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb961"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb961-1"><a href="#cb961-1"></a><span class="kw">if</span> <span class="ex">setPolicy</span> <span class="st">&quot;my-dlx&quot;</span> <span class="st">&quot;^my-ex&quot;</span> <span class="st">&#39;{&quot;dead-letter-exchange&quot;:&quot;my-dlx&quot;}&#39;</span> <span class="st">&quot;queues&quot;</span> <span class="st">&#39;rabbit@server&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb962"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb962-1"><a href="#cb962-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Policy created successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb963"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb963-1"><a href="#cb963-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="policyalreadyexists-virtualhost-name-match-body-objecttype-nodename" class="level3 function">
<h3>policyAlreadyExists <code>virtualHost</code> <code>name</code> <code>match</code> <code>body</code> <code>objectType</code> <code>nodename</code></h3>
<p>Checks if given policy already exists.</p>
<section id="parameters-361" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>virtualHost</code></dt>
<dd>The virtual host.
</dd>
<dt><code>name</code></dt>
<dd>The policy name.
</dd>
<dt><code>match</code></dt>
<dd>The match.
</dd>
<dt><code>body</code></dt>
<dd>The body.
</dd>
<dt><code>objectType</code></dt>
<dd>The object type.
</dd>
<dt><code>nodename</code></dt>
<dd>The node name.
</dd>
</dl>
<p>Returns 0/TRUE if the policy exists, and it’s the same type; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains some logging information; otherwise, the variable ERROR contains some information about the error.</p>
</section>
<section id="usage-example-433" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb964"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb964-1"><a href="#cb964-1"></a><span class="kw">if</span> <span class="ex">policyAlreadyExists</span> / <span class="st">&quot;my-dlx&quot;</span> <span class="st">&quot;^my-ex&quot;</span> <span class="st">&#39;{&quot;dead-letter-exchange&quot;:&quot;my-dlx&quot;}&#39;</span> <span class="st">&quot;queues&quot;</span> <span class="st">&#39;rabbit@server&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb965"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb965-1"><a href="#cb965-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Policy my-dlx already exists&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb966"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb966-1"><a href="#cb966-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="deletepolicy-policyname-nodename-accessuser-accesspasword" class="level3 function">
<h3>deletePolicy <code>policyName</code> <code>nodename</code> <code>accessUser</code> <code>accessPasword</code></h3>
<p>Deletes given policy.</p>
<section id="parameters-362" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>policyName</code></dt>
<dd>The policy name.
</dd>
<dt><code>nodename</code></dt>
<dd>The node name.
</dd>
<dt><code>accessUser</code></dt>
<dd>The access user.
</dd>
<dt><code>accessPassword</code></dt>
<dd>The access password.
</dd>
</dl>
<p>Returns 0/TRUE if the policy gets deleted; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains some logging information; otherwise, the variable ERROR contains some information about the error.</p>
</section>
<section id="usage-example-434" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb967"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb967-1"><a href="#cb967-1"></a><span class="kw">if</span> <span class="ex">deletePolicy</span> exch-dlx <span class="st">&#39;rabbit@server&#39;</span> admin <span class="st">&#39;secret&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb968"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb968-1"><a href="#cb968-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Policy exch deleted&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb969"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb969-1"><a href="#cb969-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="setpolicyunlessitexistsalready" class="level3 function">
<h3>setPolicyUnlessItExistsAlready</h3>
<p>Declares a policy if it doesn’t exist already.</p>
<section id="parameters-363" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>vhost</code></dt>
<dd>The virtual host.
</dd>
<dt><code>name</code></dt>
<dd>The policy name.
</dd>
<dt><code>match</code></dt>
<dd>The match.
</dd>
<dt><code>body</code></dt>
<dd>The body.
</dd>
<dt><code>objectType</code></dt>
<dd>The object type. Either queues or exchanges.
</dd>
<dt><code>nodename</code></dt>
<dd>The node name.
</dd>
</dl>
<p>Returns 0/TRUE if the policy is successfully declared, or already existed; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains some logging information; otherwise, the variable ERROR contains some information about the error.</p>
</section>
<section id="usage-example-435" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb970"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb970-1"><a href="#cb970-1"></a><span class="kw">if</span> <span class="ex">setPolicyUnlessItExistsAlready</span> / <span class="st">&quot;my-dlx&quot;</span> <span class="st">&quot;^my-ex&quot;</span> <span class="st">&#39;{&quot;dead-letter-exchange&quot;:&quot;my-dlx&quot;}&#39;</span> <span class="st">&quot;queues&quot;</span> <span class="st">&#39;rabbit@server&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb971"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb971-1"><a href="#cb971-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Policy my-dlx already existed or has just been created&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb972"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb972-1"><a href="#cb972-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="declarebinding-source-destinationtype-destination-routingkey-nodename" class="level3 function">
<h3>declareBinding <code>source</code> <code>destinationType</code> <code>destination</code> <code>routingKey</code> <code>nodename</code></h3>
<p>Declares a binding.</p>
<section id="parameters-364" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>source</code></dt>
<dd>The source.
</dd>
<dt><code>destinationType</code></dt>
<dd>The destination type.
</dd>
<dt><code>destination</code></dt>
<dd>The destination.
</dd>
<dt><code>routingKey</code></dt>
<dd>The routing key.
</dd>
<dt><code>nodename</code></dt>
<dd>The node name.
</dd>
<dt><code>accessUser</code></dt>
<dd>The access user.
</dd>
<dt><code>accessPassword</code></dt>
<dd>The access password.
</dd>
</dl>
<p>Returns 0/TRUE if the binding gets created successfully; 1/FALSE othervise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains some logging information; otherwise, the variable ERROR contains some information about the error.</p>
</section>
<section id="usage-example-436" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb973"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb973-1"><a href="#cb973-1"></a><span class="kw">if</span> <span class="ex">declareBinding</span> <span class="st">&quot;my-exchange&quot;</span> <span class="st">&quot;queue&quot;</span> <span class="st">&quot;my-queue&quot;</span> <span class="st">&quot;#&quot;</span> <span class="st">&#39;rabbit@server&#39;</span> admin <span class="st">&#39;secret&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb974"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb974-1"><a href="#cb974-1"></a>  <span class="bu">echo</span> <span class="st">&quot;binding created successfully&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb975"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb975-1"><a href="#cb975-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="bindingalreadyexists-source-destinationtype-destination-routingkey-nodename-accessuser-accesspassword" class="level3 function">
<h3>bindingAlreadyExists <code>source</code> <code>destinationType</code> <code>destination</code> <code>routingKey</code> <code>nodename</code> <code>(accessUser</code> <code>accessPassword)?</code></h3>
<p>Checks if given binding already exists.</p>
<section id="parameters-365" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>source</code></dt>
<dd>The source.
</dd>
<dt><code>destination</code></dt>
<dd>The destination.
</dd>
<dt><code>destinationType</code></dt>
<dd>The destination type.
</dd>
<dt><code>routingKey</code></dt>
<dd>The routing key.
</dd>
<dt><code>nodename</code></dt>
<dd>The node name.
</dd>
<dt><code>accessUser</code></dt>
<dd>The user with rights to check bindings. Optional.
</dd>
<dt><code>accessPassword</code></dt>
<dd>The password of accessUser. Optional.
</dd>
</dl>
<p>Returns 0/TRUE if the binding exists, and it’s the same type; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains some logging information; otherwise, the variable ERROR contains some information about the error.</p>
</section>
<section id="usage-example-437" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb976"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb976-1"><a href="#cb976-1"></a><span class="kw">if</span> <span class="ex">bindingAlreadyExists</span> exch queue q1 <span class="st">&#39;#&#39;</span> <span class="st">&#39;rabbit@server&#39;</span> admin <span class="st">&#39;secret&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb977"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb977-1"><a href="#cb977-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Binding exch-&gt;q1 already exists&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb978"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb978-1"><a href="#cb978-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="deletebinding-source-destinationtype-destination-routingkey-nodename-accessuser-accesspassword" class="level3 function">
<h3>deleteBinding <code>source</code> <code>destinationType</code> <code>destination</code> <code>routingKey</code> <code>nodename</code> <code>(accessUser</code> <code>accessPassword)?</code></h3>
<p>Deletes given binding.</p>
<section id="parameters-366" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>source</code></dt>
<dd>The source.
</dd>
<dt><code>destination</code></dt>
<dd>The destination.
</dd>
<dt><code>destinationType</code></dt>
<dd>The destination type.
</dd>
<dt><code>routingKey</code></dt>
<dd>The routing key.
</dd>
<dt><code>nodename</code></dt>
<dd>The node name.
</dd>
<dt><code>accessUser</code></dt>
<dd>The user with rights to check bindings. Optional.
</dd>
<dt><code>accessPassword</code></dt>
<dd>The password of accessUser. Optional.
</dd>
</dl>
<p>Returns 0/TRUE if the binding exists, and it’s the same type; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains some logging information; otherwise, the variable ERROR contains some information about the error.</p>
</section>
<section id="usage-example-438" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb979"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb979-1"><a href="#cb979-1"></a><span class="kw">if</span> <span class="ex">deleteBinding</span> exch queue q1 <span class="st">&#39;#&#39;</span> <span class="st">&#39;rabbit@server&#39;</span> admin <span class="st">&#39;secret&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb980"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb980-1"><a href="#cb980-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Binding exch-&gt;q1 deleted&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb981"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb981-1"><a href="#cb981-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="setusertags-nodename-user-tags" class="level3 function">
<h3>setUserTags <code>nodename</code> <code>user</code> <code>tags+</code></h3>
<p>Sets user tags.</p>
<section id="parameters-367" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>nodename</code></dt>
<dd>The node name.
</dd>
<dt><code>user</code></dt>
<dd>The user.
</dd>
<dt><code>tags</code></dt>
<dd>The tags.
</dd>
</dl>
<p>Returns 0/TRUE if the tags were set successfully; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable OUTPUT contains some extra logging; otherwise, the variable ERROR contains more information about the error.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains some logging information; otherwise, the variable ERROR contains some information about the error.</p>
</section>
<section id="usage-example-439" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb982"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb982-1"><a href="#cb982-1"></a><span class="kw">if</span> ! <span class="ex">setUserTags</span> admin administrator<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb983"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb983-1"><a href="#cb983-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Could not set administrator tag for admin user&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb984"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb984-1"><a href="#cb984-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="getusertags-user-nodename-accessuser-accesspassword" class="level3 function">
<h3>getUserTags <code>user</code> <code>nodename</code> <code>(accessUser</code> <code>accessPassword)?</code></h3>
<p>Retrieves the tags of given user.</p>
<section id="parameters-368" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>user</code></dt>
<dd>The user.
</dd>
<dt><code>nodename</code></dt>
<dd>The node name.
</dd>
<dt><code>accessUser</code></dt>
<dd>The username used to connect. Optional.
</dd>
<dt><code>accessPassword</code></dt>
<dd>The password used to connect. Optional.
</dd>
</dl>
<p>Returns 0/TRUE if the tags could be retrieved; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the tags; otherwise, the variable ERROR contains some additional error information.</p>
</section>
<section id="usage-example-440" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb985"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb985-1"><a href="#cb985-1"></a><span class="kw">if</span> <span class="ex">getUserTags</span> monitoring <span class="st">&#39;rabbit@server&#39;</span> <span class="st">&#39;admin&#39;</span> <span class="st">&#39;secret&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb986"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb986-1"><a href="#cb986-1"></a>  <span class="bu">echo</span> <span class="st">&quot;tags: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb987"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb987-1"><a href="#cb987-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="addtagtouser-user-tag-nodename-accessuser-accesspassword" class="level3 function">
<h3>addTagToUser <code>user</code> <code>tag</code> <code>nodename</code> <code>(accessUser</code> <code>accessPassword)?</code></h3>
<p>Adds a given tag to a user.</p>
<section id="parameters-369" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>user</code></dt>
<dd>The user.
</dd>
<dt><code>tag</code></dt>
<dd>The tag.
</dd>
<dt><code>nodename</code></dt>
<dd>The node name.
</dd>
<dt><code>accessUser</code></dt>
<dd>The username used to connect. Optional.
</dd>
<dt><code>accessPassword</code></dt>
<dd>The password used to connect. Optional.
</dd>
</dl>
<p>Returns 0/TRUE if the tag could be added to the user; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-441" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb988"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb988-1"><a href="#cb988-1"></a><span class="kw">if</span> <span class="ex">addTagToUser</span> admin administrator <span class="st">&#39;rabbit@server&#39;</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb989"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb989-1"><a href="#cb989-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Tag administrator added&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb990"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb990-1"><a href="#cb990-1"></a><span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-extsed" class="level1">
<h1>API Reference (ext/sed)</h1>
<section id="sed" class="level2 module">
<h2>sed</h2>
<p>sed-related functions.</p>
<section id="safesedreplacement-match-replacement-file" class="level3 function">
<h3>safeSedReplacement <code>match</code> <code>replacement</code> <code>file?</code></h3>
<p>A sed “s/<span class="math inline"><em>k</em><em>e</em><em>y</em><em>w</em><em>o</em><em>r</em><em>d</em>/</span>{replacement}/g” alternative, which ensures both the keyword and the replacement are safe for sed to use, i.e., if they contain special characters for sed, they are managed properly.</p>
<p>It’s meant to be used as a replacement for sed, so it expects reading from stdin if no file is provided.</p>
<section id="parameters-370" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>match</code></dt>
<dd>The match.
</dd>
<dt><code>replacement</code></dt>
<dd>The replacement.
</dd>
<dt><code>file</code></dt>
<dd>The input file. Optional. If omitted, it expects input from stdin.
</dd>
</dl>
<p>Returns whatever sed returns.</p>
</section>
<section id="usage-example-442" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb991"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb991-1"><a href="#cb991-1"></a><span class="fu">cat</span> /tmp/myFile <span class="kw">|</span> <span class="ex">safeSedReplacement</span> <span class="st">&quot;|password|&quot;</span> <span class="st">&quot;</span><span class="va">${MY_RANDOM_PASSWORD_WITH_SPECIAL_CHARACTERS}</span><span class="st">&quot;</span></span></code></pre></div>
</section>
</section>
<section id="safesedminusireplacement-match-replacement-file" class="level3 function">
<h3>safeSedMinusIReplacement <code>match</code> <code>replacement</code> <code>file</code></h3>
<p>A sed “s/<span class="math inline"><em>k</em><em>e</em><em>y</em><em>w</em><em>o</em><em>r</em><em>d</em>/</span>{replacement}/g” alternative, which ensures both the keyword and the replacement are safe for sed to use, i.e., if they contain special characters for sed, they are managed properly.</p>
<p>It’s meant to be used as a replacement for sed -i.</p>
<section id="parameters-371" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>match</code></dt>
<dd>The match.
</dd>
<dt><code>replacement</code></dt>
<dd>The replacement.
</dd>
<dt><code>file</code></dt>
<dd>The file to update.
</dd>
</dl>
<p>Returns whatever sed returns.</p>
</section>
<section id="usage-example-443" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb992"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb992-1"><a href="#cb992-1"></a><span class="ex">safeSedMinusIReplacement</span> <span class="st">&quot;|password|&quot;</span> <span class="st">&quot;</span><span class="va">${MY_RANDOM_PASSWORD_WITH_SPECIAL_CHARACTERS}</span><span class="st">&quot;</span> /tmp/myFile</span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-extssl" class="level1">
<h1>API Reference (ext/ssl)</h1>
<section id="ssl" class="level2 module">
<h2>ssl</h2>
<p>Creates a SSL certificate with OpenSSL. See http://www.eclipse.org/jetty/documentation/current/configuring-ssl.html</p>
<section id="generatekeypair-outputdir-alias-password-encryption" class="level3 function">
<h3>generateKeyPair <code>outputDir</code> <code>alias</code> <code>password</code> <code>encryption</code></h3>
<p>Generates a key pair.</p>
<section id="parameters-372" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>outputDir</code></dt>
<dd>The output folder.
</dd>
<dt><code>alias</code></dt>
<dd>The alias.
</dd>
<dt><code>password</code></dt>
<dd>The key password.
</dd>
<dt><code>encryption</code></dt>
<dd>The encryption algorithm.
</dd>
</dl>
<p>Returns 0/TRUE if the key pair was generated successfully; 1/FALSE otherwise.</p>
<p>If the key pair is generated, the variable RESULT contains the file with the private key.</p>
</section>
<section id="usage-example-444" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb993"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb993-1"><a href="#cb993-1"></a><span class="kw">if</span> <span class="ex">generateKeyPair</span> <span class="st">&quot;/tmp&quot;</span> myDomain secret des3<span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;Private key: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="generatecsr-outputdir-alias-key-password-subject" class="level3 function">
<h3>generateCSR <code>outputDir</code> <code>alias</code> <code>key</code> <code>password</code> <code>subject</code></h3>
<p>Generates a certificate signing request.</p>
<section id="parameters-373" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>outputDir</code></dt>
<dd>The output folder.
</dd>
<dt><code>alias</code></dt>
<dd>The certificate alias.
</dd>
<dt><code>key</code></dt>
<dd>The key.
</dd>
<dt><code>password</code></dt>
<dd>The key password.
</dd>
<dt><code>subject</code></dt>
<dd>The certificate subject.
</dd>
</dl>
<p>Returns 0/TRUE if the request was generated; 1/FALSE otherwise.</p>
<p>If the request is generated, the variable RESULT contains the path of the CSR file.</p>
</section>
<section id="usage-example-445" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb994"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb994-1"><a href="#cb994-1"></a><span class="kw">if</span> <span class="ex">generateCSR</span> /tmp mydomain /tmp/myKey secret MyDomain<span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;CSR: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="generatecertificate-outputdir-alias-csr-key-password-expirationdays" class="level3 function">
<h3>generateCertificate <code>outputDir</code> <code>alias</code> <code>csr</code> <code>key</code> <code>password</code> <code>expirationDays</code></h3>
<p>Generates a certificate for a given key.</p>
<section id="parameters-374" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>outputDir</code></dt>
<dd>The output folder.
</dd>
<dt><code>alias</code></dt>
<dd>The certificate alias.
</dd>
<dt><code>csr</code></dt>
<dd>The certificate signing request.
</dd>
<dt><code>key</code></dt>
<dd>The key.
</dd>
<dt><code>password</code></dt>
<dd>The key password.
</dd>
<dt><code>expirationDays</code></dt>
<dd>The expiration, in days.
</dd>
</dl>
<p>Returns 0/TRUE if the certificate was generated; 1/FALSE otherwise.</p>
<p>If the certificate is generated, the variable RESULT contains its path.</p>
</section>
<section id="usage-example-446" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb995"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb995-1"><a href="#cb995-1"></a><span class="kw">if</span> <span class="ex">generateCertificate</span> /tmp mydomain /tmp/myKey /tmp/myKey.csr secret 3650<span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;Certificate: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="generatepem-outputdir-alias-csr-key-password-expirationdays" class="level3 function">
<h3>generatePEM <code>outputDir</code> <code>alias</code> <code>csr</code> <code>key</code> <code>password</code> <code>expirationDays</code></h3>
<p>Generates a PEM key for a given key.</p>
<section id="parameters-375" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>outputDir</code></dt>
<dd>The output folder.
</dd>
<dt><code>alias</code></dt>
<dd>The certificate alias.
</dd>
<dt><code>csr</code></dt>
<dd>The certificate signing request.
</dd>
<dt><code>key</code></dt>
<dd>The key.
</dd>
<dt><code>password</code></dt>
<dd>The key password.
</dd>
<dt><code>expirationDays</code></dt>
<dd>The expiration, in days.
</dd>
</dl>
<p>Returns 0/TRUE if the PEM key was generated; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-447" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb996"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb996-1"><a href="#cb996-1"></a><span class="kw">if</span> <span class="ex">generatePEM</span> /tmp mydomain /tmp/myKey /tmp/myKey.pem /tmp/myKey-cert.pem secret 3650<span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;PEM generated&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="changesslkeypermissions-keyfile" class="level3 function">
<h3>changeSslKeyPermissions <code>keyFile</code></h3>
<p>Changes the permissions of given SSL key.</p>
<section id="parameters-376" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>keyFile</code></dt>
<dd>The key file to update.
</dd>
</dl>
<p>Returns 0/TRUE if the permissions were updated; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-448" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb997"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb997-1"><a href="#cb997-1"></a><span class="kw">if</span> <span class="ex">changeSslKeyPermissions</span> /etc/ssl/certs/private.pem<span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;permissions updated&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="changesslkeyownership-keyfile-user-group" class="level3 function">
<h3>changeSslKeyOwnership <code>keyFile</code> <code>user</code> <code>group</code></h3>
<p>Changes the ownership of given SSL key.</p>
<section id="parameters-377" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>keyFile</code></dt>
<dd>The key file to update.
</dd>
<dt><code>user</code></dt>
<dd>The user.
</dd>
<dt><code>group</code></dt>
<dd>The group.
</dd>
</dl>
<p>Returns 0/TRUE if the permissions were updated; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-449" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb998"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb998-1"><a href="#cb998-1"></a><span class="kw">if</span> <span class="ex">changeSslKeyOwnership</span> /tmp/my-file root root<span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;/tmp/my-file updated&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-extubuntu" class="level1">
<h1>API Reference (ext/ubuntu)</h1>
<section id="ubuntu" class="level2 module">
<h2>ubuntu</h2>
<p>Ubuntu-specific functions.</p>
<section id="retrieveversion-package" class="level3 function">
<h3>retrieveVersion <code>package</code></h3>
<p>Retrieves the version of given package.</p>
<section id="parameters-378" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>package</code></dt>
<dd>The package.
</dd>
</dl>
<p>Returns 0/TRUE if the version could be retrieved; 1/FALSE otherwise.</p>
<p>If the function succeeds, the variable RESULT contains the version.</p>
</section>
<section id="usage-example-450" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb999"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb999-1"><a href="#cb999-1"></a><span class="kw">if</span> <span class="ex">retrieveVersion</span> wget<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb1000"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1000-1"><a href="#cb1000-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Version: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb1001"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1001-1"><a href="#cb1001-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="installubuntupackage-package" class="level3 function">
<h3>installUbuntuPackage <code>package</code></h3>
<p>Installs given package.</p>
<section id="parameters-379" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>package</code></dt>
<dd>The package to install.
</dd>
<dt><code>extraArgs</code></dt>
<dd>Extra arguments. Optional.
</dd>
</dl>
<p>Returns 0/TRUE if the package is installed; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-451" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb1002"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1002-1"><a href="#cb1002-1"></a><span class="kw">if</span> <span class="ex">installUbuntuPackage</span> wget<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb1003"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1003-1"><a href="#cb1003-1"></a>  <span class="ex">...</span></span></code></pre></div>
<div class="sourceCode" id="cb1004"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1004-1"><a href="#cb1004-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="isaptcachemissing" class="level3 function">
<h3>isAptCacheMissing</h3>
<p>Checks whether the APT cache is missing.</p>
<p>Returns 0/TRUE if the cache is missing; 1/FALSE otherwise.</p>
<section id="usage-example-452" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb1005"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1005-1"><a href="#cb1005-1"></a><span class="kw">if</span> <span class="ex">isAptCacheMissing</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb1006"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1006-1"><a href="#cb1006-1"></a>  <span class="bu">echo</span> <span class="st">&quot;APT cache is missing&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb1007"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1007-1"><a href="#cb1007-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="updateubuntusystem" class="level3 function">
<h3>updateUbuntuSystem</h3>
<p>Updates the system via apt update.</p>
<p>Returns 0/TRUE if the system gets updated; 1/FALSE otherwise.</p>
<section id="usage-example-453" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb1008"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1008-1"><a href="#cb1008-1"></a><span class="kw">if</span> ! <span class="ex">updateUbuntuSystem</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb1009"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1009-1"><a href="#cb1009-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Error updating system&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb1010"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1010-1"><a href="#cb1010-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="upgradeubuntusystem" class="level3 function">
<h3>upgradeUbuntuSystem</h3>
<p>Updates the system via apt upgrade.</p>
<p>Returns 0/TRUE if the system gets upgraded; 1/FALSE otherwise.</p>
<section id="usage-example-454" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb1011"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1011-1"><a href="#cb1011-1"></a><span class="kw">if</span> ! <span class="ex">upgradeUbuntuSystem</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb1012"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1012-1"><a href="#cb1012-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Error upgrading system&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb1013"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1013-1"><a href="#cb1013-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="autoremoveubuntupackages" class="level3 function">
<h3>autoremoveUbuntuPackages</h3>
<p>Removes unused packages from the system.</p>
<p>Returns 0/TRUE if the packages gets removed; 1/FALSE otherwise.</p>
<section id="usage-example-455" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb1014"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1014-1"><a href="#cb1014-1"></a><span class="kw">if</span> <span class="ex">autoremoveUbuntuPackages</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb1015"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1015-1"><a href="#cb1015-1"></a>  <span class="ex">...</span></span></code></pre></div>
<div class="sourceCode" id="cb1016"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1016-1"><a href="#cb1016-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="cleanubuntusystem" class="level3 function">
<h3>cleanUbuntuSystem</h3>
<p>Cleans up the system.</p>
<p>Returns 0/TRUE if the system gets cleaned; 1/FALSE otherwise.</p>
<section id="usage-example-456" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb1017"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1017-1"><a href="#cb1017-1"></a><span class="kw">if</span> <span class="ex">cleanUbuntuSystem</span><span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb1018"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1018-1"><a href="#cb1018-1"></a>  <span class="bu">echo</span> <span class="st">&quot;Ubuntu system cleaned up&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb1019"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1019-1"><a href="#cb1019-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="pinubuntupackage" class="level3 function">
<h3>pinUbuntuPackage</h3>
<p>Marks a package as sticky, so that it doesn’t get automatically removed assuming it’s not used.</p>
<section id="parameters-380" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>package</code></dt>
<dd>The package to pin.
</dd>
</dl>
<p>Returns 0/TRUE always, but can exit if the package cannot be pinned.</p>
</section>
<section id="usage-example-457" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb1020"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1020-1"><a href="#cb1020-1"></a><span class="kw">if</span> <span class="ex">pinUbuntuPackage</span> wget<span class="kw">;</span> <span class="kw">then</span></span></code></pre></div>
<div class="sourceCode" id="cb1021"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1021-1"><a href="#cb1021-1"></a>  <span class="bu">echo</span> <span class="st">&quot;wget pinned&quot;</span><span class="kw">;</span></span></code></pre></div>
<div class="sourceCode" id="cb1022"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1022-1"><a href="#cb1022-1"></a><span class="kw">fi</span></span></code></pre></div>
</section>
<section id="environment-variables-5" class="level4">
<h4>Environment variables</h4>
<dl>
<dt><code>PINNED_LOCALES</code></dt>
<dd>The pinned locales.
</dd>
</dl>
<hr />
</section>
</section>
</section>
</section>
<section id="api-reference-extvault" class="level1">
<h1>API Reference (ext/vault)</h1>
<section id="vault" class="level2 module">
<h2>vault</h2>
<p>Functions useful when interacting with Hashicorp’s Vault.</p>
<section id="authorizeinvault" class="level3 function">
<h3>authorizeInVault</h3>
<p>Performs the Vault authorization.</p>
<section id="usage-example-458" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb1023"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1023-1"><a href="#cb1023-1"></a><span class="ex">authorizeInVault</span><span class="kw">;</span></span></code></pre></div>
</section>
</section>
<section id="buildpipelineparameterpathinvault-folder-team-pipeline-parameter" class="level3 function">
<h3>buildPipelineParameterPathInVault <code>folder</code> <code>team</code> <code>pipeline</code> <code>parameter</code></h3>
<p>Builds the path of a pipeline parameter in Vault.</p>
<section id="parameters-381" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>folder</code></dt>
<dd>The Concourse folder.
</dd>
<dt><code>team</code></dt>
<dd>The Concourse team.
</dd>
<dt><code>pipeline</code></dt>
<dd>The pipeline name.
</dd>
<dt><code>parameter</code></dt>
<dd>The parameter name.
</dd>
</dl>
<p>Returns 0/TRUE if the path was constructed successfully; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the path.</p>
</section>
<section id="usage-example-459" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb1024"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1024-1"><a href="#cb1024-1"></a><span class="kw">if</span> <span class="ex">buildPipelineParameterPathInVault</span> <span class="st">&quot;/concourse&quot;</span> <span class="st">&quot;main&quot;</span> <span class="st">&quot;default&quot;</span> <span class="st">&quot;src-git-branch&quot;</span><span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;src-git-branch in Vault under: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="checkvaultrunning" class="level3 function">
<h3>checkVaultRunning</h3>
<p>Checks if a Vault container (whose name is matches ${VAULT_CONTAINER_NAME}) is running.</p>
<p>Returns 0/TRUE if Vault is running; 1/FALSE otherwise.</p>
<section id="usage-example-460" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb1025"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1025-1"><a href="#cb1025-1"></a><span class="kw">if</span> <span class="ex">checkVaultRunning</span><span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${VAULT_CONTAINER_NAME}</span><span class="st"> is running&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="createorstartvaultcontainer-vaultcontainername-vaultversion-virtualhost-vaultport-network-configcontainername-vaulthclfile" class="level3 function">
<h3>createOrStartVaultContainer <code>vaultContainerName</code> <code>vaultVersion</code> <code>virtualHost</code> <code>vaultPort</code> <code>network</code> <code>configContainerName</code> <code>vaultHclFile</code></h3>
<p>Creates the Vault container if it does not exist, or starts the already existing Vault container.</p>
<section id="parameters-382" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>vaultContainerName</code></dt>
<dd>The name of the Vault container.
</dd>
<dt><code>vaultVersion</code></dt>
<dd>The version of Vault.
</dd>
<dt><code>virtualHost</code></dt>
<dd>The virtual host.
</dd>
<dt><code>vaultPort</code></dt>
<dd>The Vault port.
</dd>
<dt><code>network</code></dt>
<dd>The network.
</dd>
<dt><code>configContainerName</code></dt>
<dd>The name of the config container.
</dd>
<dt><code>vaultHclFile</code></dt>
<dd>The vault.hcl file.
</dd>
</dl>
<p>Returns 0/TRUE if the container was missing and could be created, or if it was started; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-461" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb1026"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1026-1"><a href="#cb1026-1"></a><span class="kw">if</span> <span class="ex">createOrStartVaultContainer</span> <span class="st">&quot;vault&quot;</span> <span class="st">&quot;2&quot;</span> <span class="st">&quot;vault.example.com&quot;</span> 1111 <span class="st">&quot;my_network&quot;</span> <span class="st">&quot;vault-cfg&quot;</span> <span class="st">&quot;vault.hcl&quot;</span><span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;vault.example.com started in my_network&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="deletevaultcontainer-containername" class="level3 function">
<h3>deleteVaultContainer <code>containerName</code></h3>
<p>Deletes the Vault container if it exists.</p>
<section id="parameters-383" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>containerName</code></dt>
<dd>The name of the Vault container.
</dd>
</dl>
<p>Returns 0/TRUE if the container was running and could be deleted, or if it didn’t exist; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-462" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb1027"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1027-1"><a href="#cb1027-1"></a><span class="kw">if</span> <span class="ex">deleteVaultContainer</span> vault<span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;Vault container deleted&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="generatevaulthclfile-file-leasettl-maxleasettl-vaultip" class="level3 function">
<h3>generateVaultHclFile <code>file</code> <code>leaseTTL</code> <code>maxLeaseTTL</code> <code>vaultIP</code></h3>
<p>Generates the vault.hcl file.</p>
<section id="parameters-384" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The vault.hcl file.
</dd>
<dt><code>leaseTTL</code></dt>
<dd>The lease TTL.
</dd>
<dt><code>maxLeaseTTLR</code></dt>
<dd>The maximum lease TTL.
</dd>
<dt><code>vaultIP</code></dt>
<dd>The Vault IP. Optional. Defaults to 0.0.0.0.
</dd>
</dl>
<p>Returns 0/TRUE if the file gets generated successfully; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-463" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb1028"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1028-1"><a href="#cb1028-1"></a><span class="kw">if</span> <span class="ex">generateVaultHclFile</span> <span class="st">&quot;./vault.hcl&quot;</span> <span class="st">&quot;168h&quot;</span> <span class="st">&quot;720h&quot;</span> localhost<span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;vault.hcl file generated successfully&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="retrievevaulttoken-file" class="level3 function">
<h3>retrieveVaultToken <code>file</code></h3>
<p>Retrieves a Vault token from given file.</p>
<section id="parameters-385" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>file</code></dt>
<dd>The file.
</dd>
</dl>
<p>Returns 0/TRUE if the token is retrieved; 1/FALSE otherwise.</p>
<p>If the function returns 0/TRUE, the variable RESULT contains the Vault token.</p>
</section>
<section id="usage-example-464" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb1029"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1029-1"><a href="#cb1029-1"></a><span class="kw">if</span> <span class="ex">retrieveVaultToken</span> <span class="st">&quot;keys.txt&quot;</span><span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;Vault token: </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="retrievevaulturl" class="level3 function">
<h3>retrieveVaultUrl</h3>
<p>Builds the Vault url.</p>
<p>Returns 0/TRUE if the Vault url was built; 1/FALSE otherwise.</p>
<p>If the funcion returns 0/TRUE, the variable RESULT contains the Vault url.</p>
<section id="usage-example-465" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb1030"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1030-1"><a href="#cb1030-1"></a><span class="kw">if</span> <span class="ex">retrieveVaultUrl</span><span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;The Vault URL is </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="runvaultcommand-command-args" class="level3 function">
<h3>runVaultCommand <code>command</code> <code>args*</code></h3>
<p>Runs a command inside the Vault container.</p>
<section id="parameters-386" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>command</code></dt>
<dd>The command to run.
</dd>
<dt><code>args</code></dt>
<dd>The command arguments. Optional.
</dd>
</dl>
<p>Returns 0/TRUE if the command succeeds; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-466" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb1031"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1031-1"><a href="#cb1031-1"></a><span class="kw">if</span> <span class="ex">runVaultCommand</span> vault read<span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;vault read -&gt; </span><span class="va">${RESULT}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="writefileinvault-source-destination" class="level3 function">
<h3>writeFileInVault <code>source</code> <code>destination</code></h3>
<p>Writes a file in Vault.</p>
<section id="parameters-387" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>source</code></dt>
<dd>The source path.
</dd>
<dt><code>destination</code></dt>
<dd>The destination path.
</dd>
</dl>
<p>Returns 0/TRUE if the private key was stored; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-467" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb1032"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1032-1"><a href="#cb1032-1"></a><span class="kw">if</span> <span class="ex">writeFileInVault</span> <span class="st">&quot;config/concourse-private-key&quot;</span> <span class="st">&quot;concourse/main/main/private-key&quot;</span><span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;Private key written in Vault&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
</section>
</section>
<section id="writevalueinvault-destination-value" class="level3 function">
<h3>writeValueInVault <code>destination</code> <code>value</code></h3>
<p>Writes a setting in Vault.</p>
<section id="parameters-388" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>destination</code></dt>
<dd>The destination.
</dd>
<dt><code>value</code></dt>
<dd>The value.
</dd>
</dl>
<p>Returns 0/TRUE if the private key was stored; 1/FALSE otherwise.</p>
</section>
<section id="usage-example-468" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb1033"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1033-1"><a href="#cb1033-1"></a><span class="kw">if</span> <span class="ex">writeInVault</span> <span class="st">&quot;config/registry-username&quot;</span> <span class="st">&quot;johndoe&quot;</span><span class="kw">;</span> <span class="kw">then</span> <span class="bu">echo</span> <span class="st">&quot;Registry username written in Vault&quot;</span><span class="kw">;</span> <span class="kw">fi</span></span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
</div>
</body>

